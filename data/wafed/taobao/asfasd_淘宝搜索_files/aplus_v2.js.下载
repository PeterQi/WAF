/* v6.9.11,6.9.12,0.5 release:7.0.1 2016-12-15 21:40:35 */
!function e(t,r,a){function n(s,i){if(!r[s]){if(!t[s]){var u="function"==typeof require&&require;if(!i&&u)return u(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var l=r[s]={exports:{}};t[s][0].call(l.exports,function(e){var r=t[s][1][e];return n(r?r:e)},l,l.exports,e,t,r,a)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<a.length;s++)n(a[s]);return n}({1:[function(e,t,r){t.exports=e("./src/grey")},{"./src/grey":2}],2:[function(e,t,r){function a(e){if(e)try{var t=v.createElement("script");t.appendChild(v.createTextNode(e)),g.parentNode.insertBefore(t,g)}catch(r){(f.execScript||function(e){f.eval.call(f,e)})(e)}}function n(e,t,r){if(/blitz/i.test(p))return void r();var a,n="GET",o=function(){a.responseText?t(a.responseText):r()};y?(a=new XMLHttpRequest,a.open(n,e,!0)):(a=new XDomainRequest,a.open(n,e)),a.timeout=b.timeout,a.onload=o,a.onerror=r,a.ontimeout=r,a.send()}function o(e,t){var r=v.createElement("script");r.async=!0,s(r,t),r.src=e,g.parentNode.insertBefore(r,g)}function s(e,t){function r(){e.onreadystatechange=e.onload=null,e=null,w(t)&&t({from:"script"})}if("onload"in e)e.onload=r;else{var a=function(){/loaded|complete/.test(e.readyState)&&r()};e.onreadystatechange=a,a()}}function i(e,t){return e+Math.floor(Math.random()*(t-e+1))}function u(e,t){return i(1,t)<=e}function l(e,t){var r;for(r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function c(e,t){return function(r){return e.call(null,l(t,r||{}))}}function h(e){return function(t){return{}.toString.call(t)=="[object "+e+"]"}}var f=window,v=document,p=navigator.userAgent,g=v.getElementsByTagName("script")[0],d=f.XDomainRequest,y=f.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,m=function(){},_={set:function(e,t){try{return localStorage.setItem(e,t),!0}catch(r){return!1}},get:function(e){return localStorage.getItem(e)},test:function(){var e="grey_test_key";try{return localStorage.setItem(e,1),localStorage.removeItem(e),!0}catch(t){return!1}}},b={base:1e4,timeout:1e4},j={_config:b};j.load=function(e){e=l({isLoadDevVersion:function(){},dev:"",devKey:"",devHash:"",stable:"",stableKey:"",stableHash:"",grey:"",greyKey:"",greyHash:"",base:b.base},e);var t,r,s,i,h=e.hash,f={};if(e.ratio>=e.base||u(e.ratio,e.base)?(t=e.greyKey,r=e.grey,i=e.greyHash,f.type="grey"):(t=e.stableKey,r=e.stable,i=e.stableHash,f.type="stable"),w(e.isLoadDevVersion)&&e.isLoadDevVersion()&&(t=e.devKey,r=e.dev,i=e.devHash,f.type="dev"),f.url=r,f.key=t,f.hash=i,w(e.before)&&e.before(f),e.after=w(e.after)?c(e.after,f):m,_.test()&&t&&(y||d)&&w(h))if(s=_.get(t),s&&i===h(s,f))try{a(s),e.after({from:"local"})}catch(v){o(r,e.after)}else n(r,function(r){_.set(t,r),a(r),e.after({from:"cors"})},function(){o(r,e.after)});else o(r,e.after);return this},j.config=function(e){return l(b,e||{}),this};var w=(Array.isArray||h("Array"),h("Function"));t.exports=j},{}],3:[function(e,t,r){"use strict";!function(){var t=e("./for_aplus_fns"),r=JSON.parse('{"aplus_v2.js":{"stable_version":{"value":"6.9.11","hash":"aplus_v2.js6.9.11@427760b7"},"grey_version":{"value":"6.9.12","hash":"aplus_v2.js6.9.12@4e67c6a7"},"dev_version":{"value":"7.0.1","hash":"aplus_v2.js7.0.1@65a3ec18"}},"aplus_std.js":{"stable_version":{"value":"6.9.11","hash":"aplus_std.js6.9.11"},"grey_version":{"value":"6.9.12","hash":"aplus_std.js6.9.12"},"dev_version":{"value":"7.0.1","hash":"aplus_std.js7.0.1@335f0ccd"}}}'),a=window,n="g_aplus_grey_launched";if(!a[n]){a[n]=1;var o=e("@ali/grey-publish"),s=location.protocol;0!=s.indexOf("http")&&(s="http:");var i=s+"//g.alicdn.com/alilog/s",u=t.getAplusVersion(),l=5e3,c={"aplus_std.js":[/^https?:\/\/(.*\.)?www\.taobao\.com/i,/^https?:\/\/(.*\.)?scmp\.com/i,/^https?:\/\/(.*\.)?luxehomes\.com\.hk/i,/^https?:\/\/(.*\.)?ays\.com\.hk/i,/^https?:\/\/(.*\.)?cpjobs\.com/i,/^https?:\/\/(.*\.)?educationpost\.com\.hk/i,/^https?:\/\/(.*\.)?elle\.com\.hk/i,/^https?:\/\/(.*\.)?harpersbazaar\.com\.hk/i]},h=function(){var e;if(u)if("aplus_std.js"===u)e=!0;else{var t,r=c[u]||[];for(t=0;t<r.length;t++)if(location.href.match(r[t])){e=!0;break}}return e},f="aplus_grey_ratio";"number"==typeof a[f]&&(l=Math.floor(1e4*a[f]));var v=location.search.match(new RegExp("\\b"+f+"=([\\d\\.]+)"));v&&(v=parseFloat(v[1]),isNaN(v)||(l=Math.floor(1e4*v))),a.goldlog=a.goldlog||{},goldlog.record||(goldlog.record=function(e,t,r,n){(a.goldlog_queue||(a.goldlog_queue=[])).push({action:"goldlog.record",arguments:[e,t,r,n]})});var p=(t.getAplusFns(),r[u]),g=u.split(".")[0];o.load({isLoadDevVersion:h,dev:[i,p.dev_version.value,u].join("/"),devKey:"APLUSGREYd_"+g,devHash:p.dev_version.hash,stable:[i,p.stable_version.value,u].join("/"),stableKey:"APLUSGREYs_"+g,stableHash:p.stable_version.hash,grey:[i,p.grey_version.value,u].join("/"),greyKey:"APLUSGREYg_"+g,greyHash:p.grey_version.hash,ratio:l,hash:function(t,r){var a=e("./hash").hash(t);switch(r.type){case"stable":a=u+p.stable_version.value+"@"+a;break;case"grey":a=u+p.grey_version.value+"@"+a;break;case"dev":a=u+p.dev_version.value+"@"+a}return a},before:function(e){switch(e.type){case"grey":goldlog.lver=p.grey_version.value;break;case"stable":goldlog.lver=p.stable_version.value;break;case"dev":goldlog.lver=p.dev_version.value}}})}}()},{"./for_aplus_fns":4,"./hash":5,"@ali/grey-publish":1}],4:[function(e,t,r){"use strict";var a=e("./util"),n=function(){return["aplus_v2.js","aplus_std.js"]};r.getAplusFns=n;var o=function(){var e="aplus_v2.js";return e},s=function(){for(var e,t=[{version:"aplus_std.js",domains:[/^https?:\/\/(.*\.)?www\.taobao\.com/i,/^https?:\/\/(.*\.)?scmp\.com/i,/^https?:\/\/(.*\.)?luxehomes\.com\.hk/i,/^https?:\/\/(.*\.)?ays\.com\.hk/i,/^https?:\/\/(.*\.)?cpjobs\.com/i,/^https?:\/\/(.*\.)?educationpost\.com\.hk/i,/^https?:\/\/(.*\.)?elle\.com\.hk/i,/^https?:\/\/(.*\.)?harpersbazaar\.com\.hk/i]}],r=0;r<t.length;r++)for(var a=t[r].domains,n=t[r].version,o=0;o<a.length;o++)if(location.href.match(a[o])){e=n;break}return e},i=function(){var e=a.getMetaCnt("aplus-version");e&&(e+=".js");var t=n();return a.indexof(t,e)>-1?e:null};r.getAplusVersion=function(){var e;try{e=o();var t=s();t&&(e=t);var r=i();r&&(e=r)}catch(a){e="aplus_v2.js"}finally{return e}}},{"./util":6}],5:[function(e,t,r){"use strict";r.hash=function(e){var t,r,a=1315423911;for(t=e.length-1;t>=0;t--)r=e.charCodeAt(t),a^=(a<<5)+r+(a>>2);return(2147483647&a).toString(16)}},{}],6:[function(e,t,r){"use strict";function a(e,t){return e&&e.getAttribute?e.getAttribute(t)||"":""}function n(e){return s=s||document.getElementsByTagName("head")[0],i&&!e?i:s?i=s.getElementsByTagName("meta"):[]}function o(e){var t,r,o,s=n(),i=s.length;for(t=0;i>t;t++)r=s[t],a(r,"name")===e&&(o=a(r,"content"));return o||""}var s,i;r.tryToGetAttribute=a,r.getMetaTags=n,r.getMetaCnt=o,r.indexof=function(e,t){for(var r=0;r<e.length;r++)if(e[r]===t)return r;return-1}},{}]},{},[3]);