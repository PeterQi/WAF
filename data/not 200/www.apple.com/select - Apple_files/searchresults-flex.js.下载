/*! Copyright Â© 2005-2016 Apple Inc. All Rights Reserved. */
!function e(t,s,a){function i(o,r){if(!s[o]){if(!t[o]){var l="function"==typeof asrequire&&asrequire;if(!r&&l)return l(o,!0);if(n)return n(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var h=s[o]={exports:{}};t[o][0].call(h.exports,function(e){var s=t[o][1][e];return i(s?s:e)},h,h.exports,e,t,s,a)}return s[o].exports}for(var n="function"==typeof asrequire&&asrequire,o=0;o<a.length;o++)i(a[o]);return i}({1:[function(e,t,s){e("../../web/page/searchresults/WebSearchResults"),e("../../web/page/searchresults/WebSearchResultsExternal"),e("../../web/page/searchresults/WebSearchResultsLoadMoreBtn"),e("../../web/page/searchresults/WebSearchResultsSidebarToggle"),e("../../web/page/searchresults/WebSearchResultsViewToggle"),e("../../web/page/searchresults/WebSearchResultsFilter"),e("../../web/page/searchresults/WebSearchResultsResetBtn"),e("../../web/page/searchresults/WebSearchResultsSort"),e("../../web/page/searchresults/helpers"),e("@aos/as-legacy/src/shared/minigallery/MiniGallery"),e("can/construct/super/super"),e("@aos/as-jquerypp/dom/styles"),e("@aos/as-jquerypp/dom/dimensions"),e("@aos/as-legacy/src/external/manager/Manager"),e("@aos/as-legacy/src/external/manager/DialogManager"),e("@aos/as-legacy/src/external/dialog/Dialog"),e("@aos/as-legacy/src/external/spinner/Spinner"),e("@aos/as-legacy/src/external/content/Content"),e("@aos/as-legacy/src/external/view/Include"),e("jquery-ui/position"),e("@aos/as-legacy/src/external/gridshuffle/jquery.AsGridShuffle"),e("@aos/as-legacy/src/external/touchevents/jquery.touchevents"),e("../../web/page/searchresults/WebSearchResults-flex"),e("@aos/as-legacy/src/external/tabcontroller/TabController"),e("../../web/page/searchresults/SearchNavigationTabController"),e("../../web/page/searchresults/WebSearchResultsFilter-flex"),e("@aos/as-legacy/src/shared/sitesearch/WebSiteSearchInline-flex"),e("../../web/page/searchresults/MiniGallery-flex"),e("@aos/as-legacy/src/shared/overlay/WebOverlay"),e("@aos/as-legacy/src/shared/overlay/WebOverlayScreen")},{"../../web/page/searchresults/MiniGallery-flex":21,"../../web/page/searchresults/SearchNavigationTabController":22,"../../web/page/searchresults/WebSearchResults":24,"../../web/page/searchresults/WebSearchResults-flex":23,"../../web/page/searchresults/WebSearchResultsExternal":25,"../../web/page/searchresults/WebSearchResultsFilter":27,"../../web/page/searchresults/WebSearchResultsFilter-flex":26,"../../web/page/searchresults/WebSearchResultsLoadMoreBtn":28,"../../web/page/searchresults/WebSearchResultsResetBtn":29,"../../web/page/searchresults/WebSearchResultsSidebarToggle":30,"../../web/page/searchresults/WebSearchResultsSort":31,"../../web/page/searchresults/WebSearchResultsViewToggle":32,"../../web/page/searchresults/helpers":33,"@aos/as-jquerypp/dom/dimensions":"@aos/as-jquerypp/dom/dimensions","@aos/as-jquerypp/dom/styles":"@aos/as-jquerypp/dom/styles","@aos/as-legacy/src/external/content/Content":"@aos/as-legacy/src/external/content/Content","@aos/as-legacy/src/external/dialog/Dialog":"@aos/as-legacy/src/external/dialog/Dialog","@aos/as-legacy/src/external/gridshuffle/jquery.AsGridShuffle":9,"@aos/as-legacy/src/external/manager/DialogManager":"@aos/as-legacy/src/external/manager/DialogManager","@aos/as-legacy/src/external/manager/Manager":"@aos/as-legacy/src/external/manager/Manager","@aos/as-legacy/src/external/spinner/Spinner":"@aos/as-legacy/src/external/spinner/Spinner","@aos/as-legacy/src/external/tabcontroller/TabController":11,"@aos/as-legacy/src/external/touchevents/jquery.touchevents":12,"@aos/as-legacy/src/external/view/Include":"@aos/as-legacy/src/external/view/Include","@aos/as-legacy/src/shared/minigallery/MiniGallery":14,"@aos/as-legacy/src/shared/overlay/WebOverlay":"@aos/as-legacy/src/shared/overlay/WebOverlay","@aos/as-legacy/src/shared/overlay/WebOverlayScreen":"@aos/as-legacy/src/shared/overlay/WebOverlayScreen","@aos/as-legacy/src/shared/sitesearch/WebSiteSearchInline-flex":16,"can/construct/super/super":"can/construct/super/super","jquery-ui/position":"jquery-ui/position"}],2:[function(e,t,s){t.exports={userAgent:function(e){var t={},s=/(applewebkit)/i.test(e),a=/Chrome/.test(e)&&/Google Inc/.test(navigator.vendor),i=/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(e),n=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(e),o=i?i:n,r=/os ([\d_]*)/i;return t.userAgent=e,t.isMobileIos=/(iphone|ipod)/i.test(e)&&s,t.isIpad=/(ipad)/i.test(e),t.iosVersion=t.isMobileIos||t.isIpad?parseFloat(e.match(r)[1].replace("_",".")):0,t.isIe=!!o,t.ieVersion=o?parseFloat(RegExp.$1):0,t.isPhantom=/Phantom/.test(navigator.userAgent),t.isAndroidMobile=!!e.match(/Android.*Mobile/i)||e.match(/Mobile.*Android/i),t.isAndroidInternet=!!t.isAndroidMobile&&!a&&s,t.androidVersion=parseFloat(t.isAndroidMobile&&e.slice(e.indexOf("Android")+8),10),t.isHandheldPhone=t.isMobileIos||t.isAndroidMobile,t.isFirefox=/(Firefox)/i.test(e),t.isChrome=/(Chrome)/i.test(e),t.isSafari=/(Safari)/i.test(e)&&!/(Chrome)/i.test(e),t},getReferrer:function(){return document.referrer},doRedirect:function(e){window.location.href=e},isOnline:function(){return window.navigator.onLine},getWindowQueryString:function(){return window.location.search},getCurrentPathname:function(){return window.location.pathname},getViewportHeight:function(){return window.innerHeight||document.documentElement.clientHeight},getViewportWidth:function(){return window.innerWidth||document.documentElement.clientWidth},submit:function(e){e="undefined"==typeof e.get?e:e.get(0),e.submit()},getFocused:function(){return document.activeElement},focus:function(e){e.focus()},pixelRatio:window.devicePixelRatio,devicePixelRatio:function(){return arguments.length?void(this.pixelRatio=arguments[0]):this.pixelRatio},selectedText:function(){var e="",t=this.userAgent(navigator.userAgent).isIe,s=this.userAgent(navigator.userAgent).isFirefox;if(t)e=document.selection.createRange().htmlText;else if(s){var a=document.activeElement;e=a.value.substring(a.selectionStart,a.selectionEnd)}else e=window.getSelection().toString();return e},getCookies:function(){return document.cookie||""},setCookie:function(e){document.cookie=e}}},{}],3:[function(e,t,s){var a,i={Keyboard:{Backspace:8,Tab:9,Clear:12,Return:13,Shift:16,Ctrl:17,Alt:18,Esc:27,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Delete:46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45,CapsLock:20,LeftCommand:91,RightCommand:93,MozillaCommand:224,RightWindowsStart:92,Pause:19,Space:32,Help:47,LeftWindow:91,Select:93,NumPad0:96,NumPad1:97,NumPad2:98,NumPad3:99,NumPad4:100,NumPad5:101,NumPad6:102,NumPad7:103,NumPad8:104,NumPad9:105,NumPadMultiply:106,NumPadPlus:107,NumPadEnter:108,NumPadMinus:109,NumPadPeriod:110,NumPadDivide:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NumLock:144,ScrollLock:145},Mouse:{Left:1,Right:3},isMetaKey:function(e){var t=!1;switch(e.keyCode){case i.Keyboard.Tab:case i.Keyboard.Clear:case i.Keyboard.Return:case i.Keyboard.Shift:case i.Keyboard.Ctrl:case i.Keyboard.Alt:case i.Keyboard.Esc:case i.Keyboard.Left:case i.Keyboard.Up:case i.Keyboard.Right:case i.Keyboard.Down:case i.Keyboard.Home:case i.Keyboard.End:case i.Keyboard.PageUp:case i.Keyboard.PageDown:case i.Keyboard.Insert:case i.Keyboard.CapsLock:case i.Keyboard.LeftCommand:case i.Keyboard.RightCommand:case i.Keyboard.MozillaCommand:case i.Keyboard.RightWindowsStart:t=!0}return t},StandardDeferredInputTimeout:333,isNumpadNumKey:function(e){return 96<=e.keyCode&&e.keyCode<=111},isAlphaNumKey:function(e){return i.isNumpadNumKey(e)||!(e.keyCode in a())}};a=function(){if(!a.parsed){var e,t={};for(e in i.Keyboard)i.Keyboard.hasOwnProperty(e)&&(t[i.Keyboard[e]]=e);return(a=function(){return t}).parsed=!0,t}},t.exports=i},{}],4:[function(e,t,s){var a,i,n=e("../env/env"),o=e("jquery"),r=document&&document.documentElement.style,l=document.createElement("input"),c=document.createElement("textarea"),h=n.userAgent(navigator.userAgent),u=h.userAgent,d=h.isMobileIos,p=h.isIpad,f=h.iosVersion,g=h.isIe,m=h.ieVersion,v=h.isPhantom,b=h.isAndroidMobile,S=h.isAndroidInternet,y=h.androidVersion,w=h.isHandheldPhone,C=h.isSafari,x=o("<div>")[0],k=["","-webkit-","-moz-","-o-","-ms-","-khtml-"],T=["","Webkit","Moz","O","ms","Khtml"],A=function(e){return!(!e&&""!==e)},M=function(e,t){var s="",a=0;o(x).css(e,"");var i=o(x).css(e);for(a=0;a<k.length;a++)if(s=k[a]+t,o(x).css(e,s),o(x).css(e)!==i)return o(x).css(e,""),k[a];return null},j=function(e){var t,s,a=e.charAt(0).toUpperCase()+e.slice(1);for(t=0;t<T.length;t++)if(s=T[t]+(""!==T[t]?a:e),s in r)return s;return null},P=function(e,t){if(t){var s=j(e);if(null!==s)return!0}return A(x.style[e])},D=function(){var e,t,s,a=Object.prototype.hasOwnProperty;try{return s=!1,a.call(window,"styleMedia")?s=window.styleMedia.matchMedium("(-webkit-transform-3d)"):a.call(window,"media")&&(s=window.media.matchMedium("(-webkit-transform-3d)")),s||((t=document.getElementById("supportsThreeDStyle"))||(t=document.createElement("style"),t.id="supportsThreeDStyle",t.textContent="@media (transform-3d),(-o-transform-3d),(-moz-transform-3d),(-ms-transform-3d),(-webkit-transform-3d) { #supportsThreeD { height:3px } }",document.querySelector("head").appendChild(t)),(e=document.querySelector("#supportsThreeD"))||(e=document.createElement("div"),e.id="supportsThreeD",document.body.appendChild(e)),s=3===e.offsetHeight||void 0!==t.style.MozTransform||void 0!==t.style.WebkitTransform),s}catch(i){return!1}},E=function(){return/AppleWebKit\/(\d+)/.exec(u)&&RegExp.$1},R="windows",O=navigator.appVersion;O.indexOf("Mac")!==-1?R="macosx":O.indexOf("X11")!==-1?R="linux":O.indexOf("Linux")!==-1?R="linux":O.indexOf("SunOS")!==-1&&(R="sunos");var I=h.isAndroidMobile;("transition"in r||"MozTransition"in r)&&(!I||I&&void 0!==window.ontransitionend)?(i="transitionend",a="animationend"):"msTransition"in r?(i="MSTransitionEnd",a="MSAnimationEnd"):"WebkitTransition"in r&&(i="webkitTransitionEnd",a="webkitAnimationEnd");var L={cssPropertyName:j,cssPropertyValuePrefix:M,textOverflow:P("textOverflow",!0),inputPlaceholder:"placeholder"in l,maxlengthTextarea:"maxLength"in c,onInput:"oninput"in l,touch:!!("ontouchstart"in window)&&!v,boxShadow:P("boxShadow",!0),positionSticky:null!==M("position","sticky"),gradient:null!==M("background-image","linear-gradient(top, black, white)"),opacity:P("opacity",!1),overflowScrolling:P("overflowScrolling",!0),backgroundSvg:!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,vhHeight:function(){try{x.style.height="100vh"}catch(e){}return"100vh"===x.style.height}(),transform:P("transform",!0),transformProperty:j("transform"),threeDTransforms:D(),animation:P("animationName",!0),transition:P("transitionProperty",!0),transitionEndName:i,animationEndName:a,isMobileIos:d,isIpad:p,isSafari:C,iosVersion:f,os:R,isIe:g,ieVersion:m,isAndroidMobile:b,isAndroidInternet:S,androidVersion:y,isHandheldPhone:w,webkitVersion:E(),isMobileOptimized:!1};t.exports=L,o(function(){var e=o("html");e.addClass(L.backgroundSvg?"svg":"no-svg"),e.addClass(L.touch?"touch":"no-touch"),e.addClass(L.isIe&&L.ieVersion>=9?"ie":"no-ie"),e.addClass(L.isIe&&L.ieVersion<9?"oldie":"no-oldie"),e.addClass(L.animation?"supports-animation":"no-supports-animation"),e.addClass(P("columns",!0)?"supports-columns":"no-supports-columns"),e.addClass(P("backdrop-filter",!0)?"supports-backdrop-filter":"no-supports-backdrop-filter")})},{"../env/env":2,jquery:"jquery"}],5:[function(e,t,s){var a=(e("jquery"),e("can"));e("can/construct/super/super");var i={},n=e("../materializer/Materializer.js");i.InputReset=a.Control.extend({defaults:{val:a.compute(null)}},{init:function(){new n(this.element,{materialize:this.options.val})},click:function(e,t){this.options.val("")}}),window.as.InputReset=i.InputReset,t.exports=i.InputReset},{"../materializer/Materializer.js":6,can:"can","can/construct/super/super":"can/construct/super/super",jquery:"jquery"}],6:[function(e,t,s){var a=(e("jquery"),e("can"));e("can/construct/super/super");var i={},n=e("@aos/as-elements/src/util/support/support.js");i.Materializer=a.Control.extend({defaults:{transitionEnd:null,materialize:a.compute(!1),shouldMaterialize:function(e){return!!e},shownCallback:a.noop,hiddenCallback:a.noop,appearanceChangedCallback:a.noop},Behavior:{GoneToHideDelay:20},UiState:{Gone:"gone",Hide:"hide"}},{materializeClassName:null,canTransition:null,init:function(){var e=[this.constructor.UiState.Gone],t=["materializer"],s=this.options.materialize();this.options.transitionEnd=n.transitionEndName,this.canTransition=!!this.options.transitionEnd,this.canTransition?(this.materializeClassName=this.constructor.UiState.Hide,e.push(this.materializeClassName),this.on()):this.materializerClassName=this.constructor.UiState.Gone,this.options.materialize()||(t=t.concat(e)),this.element.addClass(t.join(" ")),s&&this.updateAppearance(this.options.materialize,{},!0,!1)},"{materialize} change":"updateAppearance","{transitionEnd}":"updatePresence",updatePresence:function(e,t){this.options.shouldMaterialize(this.options.materialize())||this.makeHidden()},makeHidden:function(){this.element.addClass(this.constructor.UiState.Gone);var e=this.getCallback("hiddenCallback");e&&(e.call(this),this.clearCallback("hiddenCallback"))},makeShown:function(){this.element.removeClass(this.materializeClassName);var e=this.getCallback("shownCallback");e&&(e.call(this),this.clearCallback("shownCallback"))},appearanceTimeout:null,clearAppearanceTimeout:function(){this.appearanceTimeout&&(clearTimeout(this.appearanceTimeout),delete this.appearanceTimeout)},updateAppearance:function(e,t,s,a){var i=this;this.clearAppearanceTimeout();var n=this.options.shouldMaterialize(s);n?(this.element.removeClass(this.constructor.UiState.Gone),this.canTransition?this.appearanceTimeout=setTimeout(function(){i.clearAppearanceTimeout(),i.makeShown()},this.constructor.Behavior.GoneToHideDelay):this.makeShown()):this.canTransition?this.element.addClass(this.materializeClassName):this.makeHidden();var o=this.getCallback("appearanceChangedCallback");o&&o.call(this,n)},getCallback:function(e){var t=this.options[e];return t.isComputed?t():t},clearCallback:function(e){var t=this.options[e];t.isComputed&&t(a.noop)},destroy:function(){this.clearAppearanceTimeout(),this._super()}}),window.as=window.as||{},window.as.Materializer=i.Materializer,t.exports=i.Materializer},{"@aos/as-elements/src/util/support/support.js":"@aos/as-elements/src/util/support/support.js",can:"can","can/construct/super/super":"can/construct/super/super",jquery:"jquery"}],7:[function(e,t,s){var a=e("jquery"),i=e("can");e("can/construct/super/super");var n={};n.Content=i.Control.extend({defaults:{content:null,isWaiting:i.compute(!1),targetSelector:null,doneCallback:i.noop,failCallback:i.noop,alwaysCallback:i.noop,didSetContent:i.noop,willSetContent:function(e){return e},setContent:function(e,t){var s=t||"html",a=null!==this.options.targetSelector?this.element.find(this.options.targetSelector):this.element;a[s](e+"")}}},{content:null,contentDef:null,ajaxDef:null,defaultTimeout:5e3,init:function(){this.cleanupContentDef=i.proxy(this.cleanupContentDef,this),this.setOrGetContent=i.proxy(this.setOrGetContent,this),this.options.content=i.compute(this.setOrGetContent),this.options.setContent===this.constructor.defaults.setContent&&(this.options.setContent=i.proxy(this.options.setContent,this))},setupContentDef:function(){this.contentDef&&this.contentDef.reject(),this.ajaxDef&&this.ajaxDef.abort(),(this.contentDef=a.Deferred()).done(this.options.doneCallback).fail(this.options.failCallback).always(this.options.alwaysCallback,this.cleanupContentDef)},rejectContentDef:function(){this.contentDef.reject()},resolveContentDef:function(){this.contentDef.resolve()},cleanupContentDef:function(){delete this.contentDef},cleanupAjaxDef:function(){delete this.ajaxDef},setOrGetContent:function(e){var t;if(arguments.length){switch(this.content=e,this.setupContentDef(),e.type&&e.type.toLowerCase()){case"ajax":t=this.setContentFromAjax;break;case"html":t=this.setContentFromHtml;break;case"text":t=this.setContentFromText;break;case"sourceid":t=this.setContentFromSourceId;break;case"error":t=this.setContentFromError;break;case"template":t=this.setContentFromTemplate}t?t.call(this,e):this.rejectContentDef()}return this.content},setTargetContent:function(e,t){this.options.setContent(this.options.willSetContent(e),t),this.options.didSetContent()},setContentFromSourceId:function(e){this.setTargetContent(a(("#"!==e.val[0]?"#":"")+e.val).html()),this.resolveContentDef()},setContentFromHtml:function(e){this.setTargetContent(e.val),this.resolveContentDef()},setContentFromError:function(e){this.setTargetContent(e.val),this.resolveContentDef()},setContentFromText:function(e){this.setTargetContent(e.val,"text"),this.resolveContentDef()},setContentFromAjax:function(e){var t,s=this;switch(typeof e.val){case"function":t=i.extend({},e.val());break;case"object":t=i.extend({},e.val);break;case"string":t={url:e.val}}"object"==typeof t?(t.timeout=t.timeout||this.defaultTimeout,this.options.isWaiting(!0),this.ajaxDef=i.ajax(t).always(function(){s.options.isWaiting(!1)}).done(function(e){s.setTargetContent(e),s.resolveContentDef()}).fail(function(e){s.rejectContentDef()}).always(function(){s.cleanupAjaxDef()})):s.rejectContentDef()},setContentFromTemplate:function(e){this.setTargetContent(e.val,"template"),this.resolveContentDef()}}),window.as.Content=n.Content,t.exports=n.Content},{can:"can","can/construct/super/super":"can/construct/super/super",jquery:"jquery"}],8:[function(e,t,s){var a=e("jquery"),i=e("can");e("can/construct/super/super");var n={},o=(e("@aos/as-elements/src/util/support/support.js"),e("../../base/materializer/Materializer.js"));n.CrossFader=i.Control.extend({defaults:{elementToShow:i.compute(0),elements:null,shownCallback:i.noop,hiddenCallback:i.noop,delay:i.compute(0)}},{canTransition:!!a.AsSupport.transitionEndName,computes:null,elements:null,init:function(e,t){this.computes=[],this.elements=[],this.canTransition||(this.options.delay=i.compute(0)),"string"==typeof this.options.elements?this.elements=i.makeArray(this.element.find(this.options.elements)):this.elements=i.makeArray(this.options.elements);var s=this;i.each(this.elements,function(e,t){s.computes[t]=i.compute(!1),new o(e,{materialize:s.computes[t],shownCallback:s.options.shownCallback[t]?s.options.shownCallback[t]:s.options.shownCallback,hiddenCallback:s.options.hiddenCallback[t]?s.options.hiddenCallback[t]:s.options.hiddenCallback})}),this.computes[this.options.elementToShow()](!0)},"{elementToShow} change":"swapImages",swapImages:function(e,t,s,i){this.clearTimeout(this.timer);var n=a(this.elements[s]),o=a(this.elements[i]);o.css("z-index",1),n.css("z-index",0),this.computes[s](!0),this.timer=this.setTimeout(this.proxy(function(){this.computes[i](!1)}),this.options.delay())}}),window.as.CrossFader=n.CrossFader,t.exports=n.CrossFader},{"../../base/materializer/Materializer.js":6,"@aos/as-elements/src/util/support/support.js":"@aos/as-elements/src/util/support/support.js",can:"can","can/construct/super/super":"can/construct/super/super",jquery:"jquery"}],9:[function(e,t,s){var a=e("jquery");e("@aos/as-elements/src/util/support/support");a.AsGridShuffle=function(e,t){var s,i,n,o,r=t&&t.startColCount||0,l=t&&t.endColCount||0,c=t&&t.containerClass||"grid-shuffle",h=t&&t.startIndex||1,u=a.AsSupport.transition&&a.AsSupport.transform,d=function(e){e.length&&(i=e.outerWidth(!0),n=e.outerHeight(!0),o=e.position())},p=function(){e.addClass(c)},f=function(t){var s=Math.ceil(e.children().length/t);e.height(s*n)},g=function(e,t,s,a){var r=t%s===0?s:t%s,l=Math.ceil(t/s),c=(r-1)*i+o.left,h=(l-1)*n+o.top;u?(a?e.css("transitionDuration",""):e.css("transitionDuration","0s"),e.css("transform","translate3d("+c+"px, "+h+"px, 0)")):a?e.animate({left:c,top:h}):e.css({left:c,top:h})},m=function(){u?s.css("transform",""):s.css({left:"",top:""}),e.removeClass(c).height("")},v=function(e){e>0&&(f(e),s.each(function(){g(a(this),h,e,!1),h+=1}),h=1)},b=function(e){e>0&&(f(e),s.each(function(){g(a(this),h,e,!0),h+=1}),h=1)};e&&e.length&&(s=e.children(":nth-child(n+"+h+")"),s.length&&(d(e.children().first()),p(),v(r),a.AsSupport.isIe&&a.AsSupport.transition?window.setTimeout(function(){b(l)},0):b(l),window.setTimeout(m,500)))}},{"@aos/as-elements/src/util/support/support":4,jquery:"jquery"}],10:[function(e,t,s){var a,i=e("jquery"),n=e("@aos/as-elements/src/util/storage/Storage"),o={},r="apple.ai",l="deferred",c="TOREAD",h=3e3;o.url=window.location.pathname.replace(/^\/?([^\/]*)(.*)/g,"/$1/appleinstantfeedback");var u=function(){var e=o.get("NOTREAD");e&&(o.send("NOTREAD",e),o.clear("NOTREAD"))},d=function(){var e=o.get("NOTVIEWED");e&&(o.send("NOTVIEWED",e),o.clear("NOTVIEWED"))},p=function(e){var t=o.get(l+"."+c);t&&(o.clear(l+"."+c),o.set("NOTREAD",t),window.setTimeout(function(){o.send("READ",t,i.proxy(o.clear,null,["NOTREAD"]))},h))};o.init=function(){a=new n,u(),d(),p()},o.setToRead=function(e){o.set(l+"."+c,e)},o.set=function(e,t){a.set(r+"."+e,JSON.stringify(t))},o.get=function(e){var t=a.get(r+"."+e);return t?JSON.parse(t):null},o.send=function(e,t,s){t.feedType=e,i.ajax({url:o.url,data:t}).done(s)},o.clear=function(e){a.remove(r+"."+e)},o.isAvailable=function(){return!!a},i.AsInstantFeedback=o,t.exports=o},{"@aos/as-elements/src/util/storage/Storage":"@aos/as-elements/src/util/storage/Storage",jquery:"jquery"}],11:[function(e,t,s){var a=e("jquery"),i=e("can");e("can/construct/super/super");var n={},o=(e("@aos/as-elements/src/util/support/support.js"),e("../crossfader/CrossFader.js")),r=(e("@aos/as-elements/src/util/event/event.js"),e("@aos/as-elements/src/util/env/env.js"),e("../content/Content.js"));e("@aos/as-analytics/src/jquery.AsMetrics");e("can/construct/proxy/proxy"),e("../../shared/control/can.aseControl"),n.TabController=i.Control.extend({defaults:{tabSelector:null,tabPanelSelector:null,contentContainerSelector:null,contentId:null,selectedTabId:null,tabs:null,activeClass:"active",inactiveClass:"inactive",transitioningClass:"transitioning",transitionEndName:null,shouldTransition:!0,baseMetrics:null,baseMetricsNonLocal:!1,idSuffix:"-link",panelToShow:i.compute(null),hasDynamicData:!0,crossFaderDelay:i.compute(20),callback:i.noop},UiStates:{active:{link:{"aria-selected":!0,tabindex:0},panel:{"aria-hidden":!1,"aria-expanded":!0}},inactive:{link:{"aria-selected":!1,tabindex:-1},panel:{"aria-hidden":!0,"aria-expanded":!1}}}},{init:function(){var e,t,s,n,r=this;this.options.transitionEndName=a.AsSupport.transitionEndName,this.hasDynamicData=!(!this.options.tabs||!this.options.hasDynamicData),this.setupTabLinks(),this.createTabIdsArray(),this.hasDynamicData?(e=this.options.selectedTabId,t=this.getTabPanelId(e)):e=this.element.find(this.options.tabSelector).eq(0).prop("id"),this.contentContainer=this.element.find(this.options.contentContainerSelector),this.hasDynamicData&&(n=this.contentContainer.find(t),0===n.length&&this.createInitialPanel(t)),this.currentTabId=i.compute(e),this.currentTabIndex=i.compute(a.inArray(this.currentTabId(),this.tabIdsArray)),this.currentPanelId=i.compute(this.getTabPanelId(this.currentTabId())),this.currentTabElem=this.element.find("#"+this.currentTabId()),this.currentPanelElem=this.contentContainer.find("#"+this.currentPanelId()),this.options.shouldTransition?(this.hasDynamicData&&this.setupPanelContainers(),this.tabPanels=this.element.find(this.options.tabPanelSelector),this.options.panelToShow(this.currentTabIndex()),s=function(){r.locked=!1},this.crossFader=new o(this.contentContainer,{elementToShow:this.options.panelToShow,elements:this.tabPanels,hiddenCallback:s,delay:this.options.crossFaderDelay})):(this.tabPanels=this.element.find(this.options.tabPanelSelector),this.currentPanelElem.show());try{var l=this.options.tabs[this.currentTabId()],c=l.callback;c&&!l.alreadyCalled&&("string"==typeof c&&window[c]?window[c]():c(),l.alreadyCalled=!0)}catch(h){}this.addInitialAriaProps(),this.addActiveAriaProps(this.currentTabElem,this.currentPanelElem),this.changeClasses(this.currentTabElem,!0),this.element.css("-webkit-tap-highlight-color","transparent")},destroy:function(){this.crossFader&&this.crossFader.destroy(),this._super()},"{tabSelector} mousedown":function(e,t){e.addClass("hide-outline"),t.stopPropagation()},"{tabPanelSelector} mousedown":function(e,t){e.addClass("hide-outline")},"{tabSelector} click":"handleClick","{tabSelector} keydown":"handleKeydown","{tabSelector} blur":function(e,t){e.removeClass("hide-outline")},"{tabPanelSelector} blur":function(e,t){e.removeAttr("tabindex")},"{tabPanelSelector} keydown":function(e,t){e.removeClass("hide-outline")},handleClick:function(e,t){t.preventDefault(),this.selectTab(e,t)},handleKeydown:function(e,t){if(!this.locked){var s,i,n,o=this.currentTabIndex(),r=this.tabLinks.length;if(t.keyCode===a.AsEvent.Keyboard.Return)return t.preventDefault(),n=this.tabPanels.get(o),n.setAttribute("tabindex","0"),void a.AsEnv.focus(n);switch(t.keyCode){case a.AsEvent.Keyboard.ArrowUp:case a.AsEvent.Keyboard.ArrowRight:t.preventDefault(),s=o+1,s===r&&(s=0);break;case a.AsEvent.Keyboard.ArrowDown:case a.AsEvent.Keyboard.ArrowLeft:t.preventDefault(),s=o-1,s<0&&(s=r-1);break;default:return}i=this.tabLinks.eq(s),a.AsEnv.focus(i.get(0)),this.selectTab(i,t)}},createInitialPanel:function(e){var t=this.contentContainer.children(),s=a("<div></div>");s.prop("id",e),t=t.detach(),s.append(t),this.contentContainer.append(s)},getTabPanelId:function(e){return this.hasDynamicData||this.options.tabPrefix?[this.options.contentId,e].join("_"):e.replace(this.options.idSuffix,"")},createTabIdsArray:function(){var e=this;this.tabIdsArray=[],this.tabLinks.each(function(){e.tabIdsArray.push(a(this).prop("id"))})},setupTabLinks:function(){var e,t,s,i,n=this;this.tabLinks=this.element.find(this.options.tabSelector),i=this.tabLinks.closest("ul"),i.attr({role:"tablist"}),this.tabLinks=this.tabLinks.map(function(){return e="a"!==this.tagName.toLowerCase()?a(this).find("a").get(0):this,a(this).closest("li").attr({role:"presentation"}),e}),this.tabLinks.each(function(){e=a(this),t=e.prop("id")||e.attr("href").slice(1)+n.options.idSuffix,t&&(s=n.getTabPanelId(t)),e.attr({id:t,"aria-controls":s,role:"tab"})})},addInitialAriaProps:function(){var e,t,s=this;this.tabPanels.each(function(i){e=a(this),t=s.tabIdsArray[i],e.attr({"aria-labelledby":t,role:"tabpanel"})}),this.tabLinks.attr("tabindex",-1),this.currentTabElem.attr("tabindex",0)},addActiveAriaProps:function(e,t){var s=this.constructor.UiStates.active;this.removeActiveAriaProps(),t.attr(s.panel),e.attr(s.link)},removeActiveAriaProps:function(){var e=this.constructor.UiStates.inactive;this.tabPanels.attr(e.panel),this.tabLinks.attr(e.link)},changeClasses:function(e,t){var s=this.options.activeClass,a=this.options.inactiveClass;t?(e.removeClass(a).addClass(s),e.parent().removeClass(a).addClass(s)):(e.removeClass(s).addClass(a),e.parent().removeClass(s).addClass(a))},setupPanelContainers:function(){var e=this,t=this.tabIdsArray.slice(),s=e.getTabPanelId(e.currentTabId()),n=e.contentContainer.find("#"+s);t.splice(this.currentTabIndex(),1),i.each(t,function(t,s){var i,o=document.createDocumentFragment();s<e.currentTabIndex()?(i=document.createElement("div"),i.id=e.getTabPanelId(t),i.setAttribute("aria-hidden","true"),i.setAttribute("aria-expanded","false"),o.appendChild(i),a(o).insertBefore(n)):(i=document.createElement("div"),i.id=e.getTabPanelId(t),i.setAttribute("aria-hidden","true"),i.setAttribute("aria-expanded","false"),o.appendChild(i),a(o).insertAfter(n),n=a(i))})},loadDynamicContent:function(e,t){var s,a,i=this,n=this.options.tabs[e],o=this.getTabPanelId(e),l=this.contentContainer.find("#"+o);a={willSetContent:function(e){return e.body.content},doneCallback:function(){i.activateTab(e)},failCallback:function(e){window.console.log(e)}},s=new r(l,a),s.options.content({type:"ajax",val:n})},selectTab:function(e,t){"a"!==e.prop("tagName").toLowerCase()&&(e=e.find("a"));var s,i,n,o=e.prop("id"),r=this.getTabPanelId(o),l=this.contentContainer.find("#"+r),c=this.currentTabElem,h=this.options.baseMetrics,u=/\$\{(\w+)\}/g;if(!this.locked&&this.currentTabId()!==o){this.options.tabWithArrows&&(this.tabLinks.attr("tabindex",-1),e.attr("tabindex",0)),i=this.hasDynamicData?this.options.tabs[o].displayName:this.element.find("#"+o).text(),n=this.hasDynamicData?this.options.tabs[o].displayName:this.element.find("#"+o).attr("data-display-name"),this.locked=!0,h&&(s=h.replace(u,this.options.baseMetricsNonLocal?n:i),a.AsMetrics.reportCustomLink(null,s)),this.changeClasses(c,!1),this.changeClasses(e,!0);try{var d=this.options.tabs[o],p=d.callback;p&&!d.alreadyCalled&&("string"==typeof p&&window[p]?window[p]():p(),d.alreadyCalled=!0)}catch(f){}l.is(":empty")?this.loadDynamicContent(o):this.activateTab(o),this.options.callback(e,t)}},activateTab:function(e){var t=this,s=this.element.find("#"+e),i=this.getTabPanelId(e),n=this.contentContainer.find("#"+i),o=this.currentPanelElem,r=this.options.transitioningClass,l=a.inArray(e,this.tabIdsArray);this.addActiveAriaProps(s,n),this.options.shouldTransition?(o.one(this.options.transitionEndName,function(e){a(this).removeClass(r)}),n.one(this.options.transitionEndName,function(e){a(this).removeClass(r)}),n.addClass(r),o.addClass(r),t.options.panelToShow(l)):(n.show(),o.hide(),this.locked=!1),this.hasDynamicData&&this.contentContainer.height(n.height()),this.currentTabId(e),this.currentTabIndex(l),this.currentPanelId(this.getTabPanelId(this.currentTabId())),this.currentTabElem=s,this.currentPanelElem=n}}),window.as.TabController=n.TabController,t.exports=n.TabController},{"../../shared/control/can.aseControl":13,"../content/Content.js":7,"../crossfader/CrossFader.js":8,"@aos/as-analytics/src/jquery.AsMetrics":"@aos/as-analytics/src/jquery.AsMetrics","@aos/as-elements/src/util/env/env.js":"@aos/as-elements/src/util/env/env.js","@aos/as-elements/src/util/event/event.js":"@aos/as-elements/src/util/event/event.js","@aos/as-elements/src/util/support/support.js":"@aos/as-elements/src/util/support/support.js",can:"can","can/construct/proxy/proxy":"can/construct/proxy/proxy","can/construct/super/super":"can/construct/super/super",jquery:"jquery"}],12:[function(e,t,s){function a(e,t){return(h?t.originalEvent.touches[0]:t)["page"+e.toUpperCase()]}function i(e,t,s,a){t=l.extend({},t,{preventDefault:function(){a.preventDefault()}}),l.each(e,function(e,a){l.event.trigger(l.Event(a,t),null,s)})}function n(e){var t={},s=e.timeStamp||+new Date,n=l.data(this,f);c!==s&&(c=s,t.hasStarted=!0,t.scrollLocked=!1,t.move={x:a("x",e),y:a("y",e)},t.start=l.extend({time:s,target:e.target},t.move),t.gesture=e.originalEvent.touches&&e.originalEvent.touches.length>1,t.gesture||(t.timeout=setTimeout(l.proxy(function(){i(["press"],t.move,e.target,e)},this),l.Touchy.pressDuration)),l.event.add(this,p+"."+f,o,t),l.event.add(this,d+"."+f,r,t),n.preventDefault&&e.preventDefault())}function o(e){var t,s=this,n=e.data,c=n.start,h=n.move,u=n.gesture;if(n.hasStarted){var m=a("x",e),v=a("y",e);if(h.idx=m-h.x,h.idy=v-h.y,h.x=m,h.y=v,h.dx=h.x-c.x,h.dy=h.y-c.y,h.adx=Math.abs(h.dx),h.ady=Math.abs(h.dy),n.motion=h.adx>g.motionThreshold||h.ady>g.motionThreshold,!n.motion)return;if(clearTimeout(n.timeout),"undefined"==typeof n.isDragging&&(h.adx>=h.ady&&h.adx>g.dragLockDistance?n.isDragging=!0:h.ady>h.adx&&h.ady>g.scrollLockDistance&&(n.isDragging=!1)),n.scrollLocked){if(!n.isDragging)return;e.preventDefault()}if(h.orientation||(h.direction=h.dx>0?"right":"left"),e.target!==c.target)return e.target=c.target,void r.call(this,l.Event(d+"."+f,e));u||(t=n.dragStart?"dragmove":"dragstart",n.dragStart=!0,h.lockScroll=function(){n.scrollLocked=!0},h.cancel=function(){i(["dragend"],h,e.target,e),n.dragStart=!1,l.event.remove(s,p+"."+f,o),l.event.remove(s,d+"."+f,r)},i([t],h,e.target,e))}}function r(e){var t=e.data,s=e.timeStamp||+new Date,a=l.data(this,f),n=s-t.start.time,c=[];
t.hasStarted=!1,clearTimeout(t.timeout),e.target===t.start.target&&(t.motion?(t.gesture?c.push("in"):n<g.flickDuration&&c.push("swipe"+t.move.direction),t.dragStart&&t.isDragging&&c.push("dragend")):(c.push(n<g.pressDuration&&!a.prev||a.prev&&s-a.prev>g.doubleTapInterval?"tap":"doubletap"),a.prev=s),i(c,t.move,e.target,e),l.event.remove(this,p+"."+f,o),l.event.remove(this,d+"."+f,r))}var l=e("jquery");e("can");e("can/construct/super/super");var c,h=(e("@aos/as-elements/src/util/support/support.js"),"ontouchstart"in window),u=h?"touchstart":"mousedown",d=h?"touchend touchcancel":"mouseup mouseleave",p=h?"touchmove":"mousemove",f="aos",g=l.Touchy={pressDuration:300,doubleTapInterval:300,flickDuration:150,motionThreshold:5,scrollLockDistance:15,dragLockDistance:30};l.AsSupport.isIe&&"ondragstart"in document&&(document.ondragstart=function(){return!1});var m={add:function(e){var t,s=e.data;l.data(this,f)||(l.event.add(this,u+"."+f,n),t=l.data(this,f,{}),(g.preventDefault||s&&s.preventDefault)&&(t.preventDefault=!0))},teardown:function(){l.data(this,f)&&(l.event.remove(this,u+"."+f,n),l.data(this,f,null))}};l.event.special.tap=m,l.event.special.press=m,l.event.special.doubletap=m,l.event.special.dragstart=m,l.event.special.dragmove=m,l.event.special.dragend=m,l.event.special.swipeleft=m,l.event.special.swiperight=m,l.event.special.pinchin=m,l.event.special.pinchout=m},{"@aos/as-elements/src/util/support/support.js":"@aos/as-elements/src/util/support/support.js",can:"can","can/construct/super/super":"can/construct/super/super",jquery:"jquery"}],13:[function(e,t,s){var a=e("jquery"),i=e("can"),n="2.1.0";"undefined"!=typeof i.VERSION&&i.VERSION>n&&window.console&&window.console.warn&&window.console.warn("src/external/control/can.aseControl not supported by this version of CanJS ("+i.VERSION+")"),i.Map.prototype.clone=function(){return new this.constructor(this.attr())},i.List.prototype.clone=function(){return new this.constructor(this.attr())},i.Control.prototype.setup=function(e,t){var s,a=this.constructor,n=i.extend(!0,{},a.defaults),o=a.pluginName||a._fullName;return this.element=i.$(e),o&&"can_control"!==o&&this.element.addClass(o),s=i.data(this.element,"controls"),s||(s=[],i.data(this.element,"controls",s)),s.push(this),this.options=i.extend({},n,t),this.on(),[this.element,this.options]},i.extend=function(){var e,t,s,i,n,o,r=arguments[0]||{},l=1,c=arguments.length,h=!1;for("boolean"==typeof r&&(h=r,r=arguments[1]||{},l=2),"object"==typeof r||a.isFunction(r)||(r={}),c===l&&(r=this,--l);l<c;l++)if(null!==(n=arguments[l]))for(i in n)e=r[i],s=n[i],r!==s&&(h&&s&&(a.isPlainObject(s)||(t=a.isArray(s)))?(t?(t=!1,o=e&&a.isArray(e)?e:[]):o=e&&a.isPlainObject(e)?e:{},r[i]=a.extend(h,o,s)):void 0!==s&&(r[i]=h&&s&&s.clone&&a.isFunction(s.clone)?s.clone():s));return r};var o=i.Control.prototype.destroy;i.Control.prototype.setTimeout=function(e,t){var s=setTimeout(this.proxy(e),t);return this.__timeouts=this.__timeouts||[],this.__timeouts.push(s),s},i.Control.prototype.clearTimeout=function(e){if(e){var t=i.inArray(e,this.__timeouts);clearTimeout(e),t!==-1&&this.__timeouts.splice(t,1)}},i.Control.prototype.destroy=function(){if(null!=this.__timeouts){for(var e=0;e<this.__timeouts.length;e++)clearTimeout(this.__timeouts[e]);this.__timeouts=null}o.apply(this,arguments)},t.exports=i.Control},{can:"can",jquery:"jquery"}],14:[function(e,t,s){var a=e("jquery"),i=e("can");e("can/construct/super/super");var n={};e("@aos/as-elements/src/util/support/support.js");n.MiniGallery=i.Control.extend({defaults:{loadingClass:"loading",animateClass:"animating",zoomClass:"zoomed",descSelector:".image-desc",listSelector:".image-list",itemSelector:".image-list > li",imgSelector:".item-image",navBtnSelector:".gallery-nav .paddlenav-arrow",prevBtnSelector:".prev > .paddlenav-arrow-previous",nextBtnSelector:".next > .paddlenav-arrow-next",srcAttr:"src",styleAttr:"style",descAttr:"desc",disableAttr:"disabled",minSwipeDistance:50,animateDuration:400,snapDuration:400,itemIndex:i.compute(0),pageZoomed:i.compute(!1)}},{init:function(){this.element&&(this.$galleryItems=this.element.find(this.options.itemSelector),this.$galleryItems.length&&(this.$unloadedImages=this.$galleryItems.filter("."+this.options.loadingClass),this.loadImages(this.$unloadedImages.eq(this.options.itemIndex())),this.itemLimit=this.$galleryItems.length-1),this.handleIndexChange(this.options.itemIndex))},"{navBtnSelector} click":"handleNavBtnSelect","{prevBtnSelector} click":"handlePrevBtnSelect","{nextBtnSelector} click":"handleNextBtnSelect","{itemIndex} change":"handleIndexChange",handleGalleryTouchStart:function(){this.galleryXPos=this.element.scrollLeft(),this.loadImages(this.$unloadedImages)},handleGalleryTouchEnd:function(e,t){var s=this.element.scrollLeft(),n=Math.abs(this.galleryXPos-this.element.scrollLeft());t.preventDefault(),a.AsSupport.touch&&(n>this.options.minSwipeDistance?s<162?i.trigger(this.options.itemIndex,"change"):s>this.galleryXPos?this.increaseItemIndex():s<this.galleryXPos&&this.decreaseItemIndex():i.trigger(this.options.itemIndex,"change"))},handleNavBtnSelect:function(){this.loadImages(this.$unloadedImages)},handlePrevBtnSelect:function(){this.decreaseItemIndex()},handleNextBtnSelect:function(){this.increaseItemIndex()},handleIndexChange:function(e){e()<0?e(0):e()>this.itemLimit&&e(this.itemLimit),this.shiftItem(e()),this.updateNav(e()),this.setDesc(e())},handlePageZoomedChange:function(e){a(window.document.documentElement).toggleClass(this.options.zoomClass,e())},loadImages:function(e){var t=this.options.srcAttr,s=this.options.styleAttr,i=this;e&&e.length&&e.each(function(e,n){var o=a(n).find(i.options.imgSelector);o.on("load",a.proxy(i.imgLoaded,i,n)).attr(t,o.data(t)).attr(s,o.data(s)).removeAttr("data-"+t).removeAttr("data-"+s),o.on("error",a.proxy(i.imgLoaded,i,n))})},imgLoaded:function(e,t){e&&t&&(a(e).removeClass(this.options.loadingClass),a(t.target).off(t))},increaseItemIndex:function(){this.options.itemIndex()<this.itemLimit&&this.options.itemIndex(this.options.itemIndex()+1)},decreaseItemIndex:function(){this.options.itemIndex()>0&&this.options.itemIndex(this.options.itemIndex()-1)},shiftItem:function(e){var t=this.element.find(this.options.listSelector),s=this.getItemWidth(e)*e;a.AsSupport.touch?this.animateEl(this.element,{scrollLeft:s},this.options.snapDuration):this.animateEl(t,{left:-s},this.options.animateDuration)},animateEl:function(e,t,s){var a=this;this.element.addClass(this.options.animateClass),e.length&&t&&e.animate(t,{duration:s,complete:function(){a.element&&a.element.removeClass(a.options.animateClass)}})},updateNav:function(e){this.element.find(this.options.prevBtnSelector).prop(this.options.disableAttr,e<=0),this.element.find(this.options.nextBtnSelector).prop(this.options.disableAttr,e>=this.itemLimit)},setDesc:function(e){var t,s=this.$galleryItems.eq(e).find(this.options.imgSelector),a=this.element.find(this.options.descSelector);s.length&&(t=s.data(this.options.descAttr),t&&a.length&&a.html(t))},getZoomLevel:function(){var e=Math.max(window.document.documentElement.clientWidth/window.innerWidth,1);this.options.pageZoomed(e>1)},getItemWidth:function(e){var t=this.element.find(this.options.itemSelector).eq(e);if(t.length)return t.outerWidth()}}),window.as.MiniGallery=n.MiniGallery,t.exports=n.MiniGallery},{"@aos/as-elements/src/util/support/support.js":"@aos/as-elements/src/util/support/support.js",can:"can","can/construct/super/super":"can/construct/super/super",jquery:"jquery"}],15:[function(e,t,s){var a=e("jquery"),i=e("can");e("can/construct/super/super");var n={},o=e("@aos/as-analytics/src/Tracking"),r=e("../../shared/textboxmatcher/TextBoxMatcher"),l=e("../../shared/textboxmatcher/TextBoxMatcherInput"),c=e("../../shared/sitesearch/WebSiteSearchMenu");e("@aos/as-elements/src/util/event/event"),e("@aos/as-elements/src/util/env/env");window.as.Tracking=o,e("../../shared/control/can.aseControl"),n.WebSiteSearch=r.extend({defaults:{storageSearchConfigKey:"WebSiteSearch.searchConfig",clickedInSearchMode:!1},ResultGroup:i.Construct({create:function(e){return{heading:e.heading,results:[this.itemWithUid(e)]}},add:function(e,t){e.results.push(this.itemWithUid(t))},uid:0,itemWithUid:function(e){return e.attr("id","MenuItem"+this.uid++),e}},{}),resultGrouper:function(e){return e.section},buildSearchRedirect:function(e){var t,s,i=window.location,n=a(this.defaults.formSelector).prop("action");return n=n.replace("&amp;","&"),n=n.replace(i.search,""),s=""===i.search&&void 0===this.defaults.formPostParam?i.search:""===i.search&&void 0!==this.defaults.formPostParam?"?"+this.defaults.formPostParam:i.search.length>0&&void 0!==this.defaults.formPostParam?"?"+this.defaults.formPostParam+"&"+i.search.replace("?",""):i.search,t=n+"/"+this.sanitizeTerm(e)+s}},{initInput:function(){this.options.input=new l(this.element.find(this.options.inputSelector),{val:this.options.val,isEditing:this.options.isEditing,resetElement:this.element.find(this.options.resetSelector)})},initMenu:function(e,t){this.options.menu=new c(a('<div id="'+e+'" />').appendTo(this.element),t)},"{resetSelector} click":"keepFocused","{window} pageshow":function(e,t){t.originalEvent.persisted&&this.initInput()},handleSubmit:function(e,t){if("keypress"!==t.type||t.keyCode===a.AsEvent.Keyboard.Return){var s=this,i=this.options.selectedResult();t.preventDefault(),"click"!==t.type||i||this.options.clickedInSearchMode?(this.closeMenu(),this.persistInstantFeedback(),this.sendSearchMetrics().then(function(){var t,n;i?(n=i.attr("term"),i.attr("heading")===s.options.searchHeading&&s.options.val(n),(t=i.attr("path"))?(t+=t.indexOf("?")>-1?"&":"?",t+=e.serialize()):t=i.attr("url").length>0&&"quickLinks"===i.section?i.attr("url"):s.constructor.buildSearchRedirect(n)):t=s.constructor.buildSearchRedirect(s.currentValue()),window.setTimeout(function(){null!==t?(a.AsEnv.doRedirect(t),s.options.input.element.get(0).blur()):s.options.input.element.focus()},0)})):this.options.input.element.focus(),this.options.clickedInSearchMode=!1}},makeResultsList:function(){var e=[];return i.each(this.options.results,function(t,s){var i=a.makeArray(t.results);e.push.apply(e,i)}),e},receiveSearch:function(e){var t=this.getListFromRpc(this.data=e);t.length?this.options.results.replace(t.groupBy(this.constructor.resultGrouper,this.constructor.ResultGroup)):this.closeMenu()},getListFromRpc:function(e){var t=this,s=[];return e.results&&i.each(this.constructor.Sections,function(a,n){if(!e.results[a])return!0;var o=e.results[a].length,r=t.options[a+"Heading"];i.each(e.results[a],function(e,t){s.push(i.extend({},{section:a,heading:r,rank:t+1,resultCount:o,selected:!1},e))})}),new i.List(s)},gatherData:function(e){return a(e).formParams()},currentValue:function(){return this.options.input.element.val()},sendSearchMetrics:function(){var e=i.Deferred(),t={linkTrackVars:"events,eVar2",linkTrackEvents:"event8",events:"event8"},s=this,a=this.options.selectedResult();return a?(t.eVar2=a.attr("term"),t.linkTrackVars+=",eVar23",t.eVar23=[s.currentValue(),a.attr("section"),a.attr("resultCount"),a.attr("term"),a.attr("rank")].join(" | ")):t.eVar2=this.currentValue(),o.track(this.element.get(0),"search",t,function(){e.resolve()}),e}}),window.as.WebSiteSearch=n.WebSiteSearch,t.exports=n.WebSiteSearch},{"../../shared/control/can.aseControl":13,"../../shared/sitesearch/WebSiteSearchMenu":17,"../../shared/textboxmatcher/TextBoxMatcher":18,"../../shared/textboxmatcher/TextBoxMatcherInput":19,"@aos/as-analytics/src/Tracking":"@aos/as-analytics/src/Tracking","@aos/as-elements/src/util/env/env":2,"@aos/as-elements/src/util/event/event":3,can:"can","can/construct/super/super":"can/construct/super/super",jquery:"jquery"}],16:[function(e,t,s){var a=e("jquery"),i=e("can");e("can/construct/super/super");var n={},o=e("./WebSiteSearch.js"),r=(e("@aos/as-elements/src/util/string/string.js"),e("@aos/as-elements/src/util/event/event.js"),e("@aos/as-elements/src/util/support/support.js"),e("../textboxmatcher/TextBoxMatcherInput.js"),e("@aos/as-analytics/src/Tracking"));window.as.Tracking=r,n.WebSiteSearchInline=o.extend({defaults:{formSelector:"#site-search-mixedresults",formPostParam:"src=serp",formPostAttr:'action="/us/search"',searchResetValue:"Reset",autoSuggestionUrl:"https://search-light-uat.corp.apple.com/searchlight/suggestions",autoSuggestionPostQuerySrc:"aos_serp",autoSuggestionPostQueryLocale:"en_US",inputSiteSearch:"#site-search-mixedresults-query",inputSiteSearchStyle:"as-inputsitesearch-style",searchTabList:".as-tabnav-tablist",searchResults:".as-search-results",searchPage:"#page",selectedTabChanged:!1,selectedTab:"",secondaryTabSelector:".as-searchtab-link",globalFooterContent:".as-globalfooter-content",globalFooterBreadcrumbsHome:".as-globalfooter-breadcrumbs-home",searchSortDrawer:"#as-sort-drawer",suggestionsSelector:".as-section",selectedSuggestions:!1,inputSelector:"#site-search-mixedresults-query",resetSelector:".inputReset",accessoriesSearchBox:".as-accessories-searchbox"},buildSearchRedirect:function(e){var t,s,n,o,r,l,c=!1,h=0;if(0===a.trim(e).length)return null;var u,d,p,f=window.location,g=a(this.defaults.formSelector).prop("action"),m=a(this.defaults.searchTabList+" .as-tabnav-tablist-link.active").attr("id");if(g=g.replace("&amp;","&"),d=a.AsString.parseUrl(g),f.search&&(p=a.AsString.parseQueryString(d.search),i.extend(p,a.AsString.parseQueryString(f.search)),d.search="?"+i.param(p)),d.search.indexOf("sel")!==-1||d.search.indexOf("src")!==-1){for(t=d.search.split("&"),h=0;h<t.length;h++)switch(l=t[h].split("=")[0],l=l.indexOf("?")!==-1?l.replace("?",""):l){case"sel":s=t[h].split("=")[1];break;case"src":n=t[h].split("=")[1]}d.search.indexOf("sel")!==-1&&(o="sel="+s,r="sel="+m,d.pathname+="/"+this.sanitizeTerm(e),c=!0,d.search=d.search.replace(o,r)),d.search.indexOf("src")!==-1?(o="src="+n,r=this.defaults.formPostParam,d.pathname.split("/").length<=3&&!c&&(d.pathname+="/"+this.sanitizeTerm(e),c=!0),d.search=d.search.replace(o,r)):(d.pathname.split("/").length<=3&&!c&&(d.pathname+="/"+this.sanitizeTerm(e),c=!0),d.search+="&"+this.defaults.formPostParam)}if(this.defaults.selectedTabChanged){for(t=d.search.split("&"),h=0;h<t.length;h++)switch(l=t[h].split("=")[0]){case"sel":s=t[h].split("=")[1];break;case"src":n=t[h].split("=")[1]}d.search.indexOf("src")!==-1?(d.pathname.split("/").length<=3&&!c&&(d.pathname+="/"+this.sanitizeTerm(e)),d.search.indexOf("&sel")===-1&&(d.search+="&sel="+m),o="src="+n,r=this.defaults.formPostParam,d.search=d.search.replace(o,r)):(d.pathname.split("/").length<=3&&!c&&(d.pathname+="/"+this.sanitizeTerm(e)),d.search+="?sel="+m+"&"+this.defaults.formPostParam)}else{for(t=d.search.split("&"),h=0;h<t.length;h++)switch(l=t[h].split("=")[0]){case"sel":s=t[h].split("=")[1];break;case"src":n=t[h].split("=")[1]}d.search.indexOf("src")!==-1?(d.pathname.split("/").length<=3&&!c&&(d.pathname+="/"+this.sanitizeTerm(e)),o="src="+n,r=this.defaults.formPostParam,d.search=d.search.replace(o,r)):(d.pathname.split("/").length<=3&&!c&&(d.pathname+="/"+this.sanitizeTerm(e)),d.search.indexOf("?")!==-1?d.search+="&"+this.defaults.formPostParam:d.search+="?"+this.defaults.formPostParam)}return u=a.AsString.makeUrl(d),c=!1,u=u.replace(/\?+page=\d+/g,"?"),u=u.replace(/page=\d+/g,""),u=u.replace(/\?&/,"?")},changedValue:function(e){return this.defaults.selectedTabChanged=e,e}},{init:function(){var e=this;this._super(),this.updateDefaultFormPostParam(),a(this.options.secondaryTabSelector).on("click",function(t,s){e.constructor.changedValue(!0)})},"{results} change":function(e,t,s,i){var n=e.attr(),o=this;0===n.length&&(this.options.selectedResult(null),a(o.options.inputSelector).removeClass("as-search-border-style"),o.closeMenu())},updateDefaultFormPostParam:function(){this.constructor.defaults.formPostParam=this.options.formPostParam},receiveSearch:function(e){for(var t,s=0;s<e.results.length;s++)"suggestions"===e.results[s].sectionName&&(t=this.getListFromJson(this.data=e.results[s],this.options.query()));void 0!==t&&t&&t.length?(this.options.results.replace(t.groupBy(this.constructor.resultGrouper,this.constructor.ResultGroup)),document.documentElement.clientWidth<750&&(a(".as-search-background-blur").addClass("as-search-background-mobile"),a(this.options.inputSiteSearch).removeAttr("style"),a(this.options.inputSiteSearch).addClass("as-search-border-style"))):(this.closeMenu(),document.documentElement.clientWidth<750&&(a(".as-search-background-blur").removeClass("as-search-background-mobile"),a(this.options.inputSiteSearch).css({"border-style":"none",outline:"none"}),a(this.options.inputSiteSearch).removeClass("as-search-border-style")))},cleanupSearch:function(e){document.documentElement.clientWidth<750&&void 0===e.results&&(this.closeMenu(),a(".as-search-background-blur").removeClass("as-search-background-mobile"),a(".as-search-background-blur").css("position","absolute"),a(this.options.inputSiteSearch).css({"border-style":"none",outline:"none"}),a(this.options.inputSiteSearch).removeClass("as-search-border-style"))},getListFromJson:function(e,t){var s,a=this,n=[],o=e.sectionResults.length;return e.sectionResults&&(s=a.options.searchHeading,i.each(e.sectionResults,function(e,a){var r=e.label;n.push(i.extend({},{section:"Suggested search",heading:s,rank:a+1,selected:!1,term:r,q:t,resultCount:o},e))})),new i.List(n)},gatherData:function(e){return a(e).formParams()},performSearch:function(e,t){if(this.options.suggestionsEnabled&&this.inSearchMode){var s=(this.options.urlData||{},{});t.preventDefault&&t.preventDefault(),this.wrapper.addClass(this.constructor.UiState.Working),this.cancelSearch(),s={src:this.options.autoSuggestionPostQuerySrc,locale:this.options.autoSuggestionPostQueryLocale,query:this.gatherData(this.options.input.element.prop("form")).find},this.request=i.ajax({headers:{Accept:"application/json","Content-Type":"application/json"},type:"POST",dataType:"json",url:this.options.autoSuggestionUrl,data:JSON.stringify(s),timeout:this.constructor.Behavior.RequestTimeout}).done(this.receiveSearch).always(this.cleanupSearch)}},currentValue:function(){return this.options.input.element.val()},handleValChange:function(e,t,s,a){this._super(e,t,s,a)},toggleSearchMode:function(e,t){switch(this._super(e,t),t.type){case"focusin":var s=a(".as-accessories-search .as-accessories-searchbox").length;document.documentElement.clientWidth>736&&0===s&&a(this.options.inputSiteSearch).css({"border-style":"none",outline:"none"}),a(".as-search-reset").hasClass("ipMuseDwnEvnt")||a(".as-search-reset").addClass("ipMuseDwnEvnt");var i=a(".as-search-background-blur").length;0===i&&(a("#page").css("position","relative"),a(this.options.searchPage).append("<div class='as-search-background-blur'></div>")),a(this.options.searchTabList,this.options.searchResults,this.options.globalFooterContent).css("pointer-events","none"),a(this.options.globalFooterBreadcrumbsHome).css("background-color","transparent"),document.documentElement.clientWidth>736&&a(window).scroll(function(){a.AsSupport.isSafari&&a(window.scrollY)&&a("#site-search-mixedresults-query").hide().show()});break;case"focusout":if(a(this.options.inputSiteSearch).hasClass("ipMuseDwnEvnt")||a(".as-search-reset").hasClass("ipMuseDwnEvnt")){var n=this;window.setTimeout(function(){a(".as-search-background-blur").hasClass("as-search-background-mobile")&&!n.options.selectedSuggestions&&(a(".as-search-background-blur").removeClass("as-search-background-mobile"),a("#site-search-mixedresults-query").removeClass("as-search-border-style")),n.options.selectedSuggestions=!1},1e3)}else a(this.options.inputSiteSearch,this.options.searchPage,this.options.searchTabList,this.options.searchResults,this.options.globalFooterContent,this.options.globalFooterBreadcrumbsHome).removeAttr("style"),a(".as-search-background-blur").fadeOut(150,function(){a("#page").removeAttr("style"),a(this).remove()}),a(this.options.inputSiteSearch).removeClass("as-search-border-style");break;case"mousedown":a(this.options.inputSiteSearch).hasClass("ipMuseDwnEvnt")||a(this.options.inputSiteSearch).addClass("ipMuseDwnEvnt")}},"{suggestionsSelector} click":function(e,t){this.options.selectedSuggestions=!0,a(this.options.inputSiteSearch).removeAttr("style")},sendSearchMetrics:function(){var e=i.Deferred(),t={linkTrackVars:"events,eVar2",linkTrackEvents:"event39",events:"event39"},s=this,a=this.options.selectedResult();return a?(t.prop30=this.currentValue(),t.linkTrackVars+=",eVar23",t.eVar23=[s.currentValue(),a.attr("section"),a.attr("resultCount"),a.attr("term"),a.attr("rank")].join(" | ")):t.eVar2=this.currentValue(),this.options.selectedResult()?r.track(this.element.get(0),"search",t,function(){e.resolve()}):e.resolve(),e}}),window.as.WebSiteSearchInline=n.WebSiteSearchInline,t.exports=n.WebSiteSearchInline},{"../textboxmatcher/TextBoxMatcherInput.js":19,"./WebSiteSearch.js":15,"@aos/as-analytics/src/Tracking":"@aos/as-analytics/src/Tracking","@aos/as-elements/src/util/event/event.js":"@aos/as-elements/src/util/event/event.js","@aos/as-elements/src/util/string/string.js":"@aos/as-elements/src/util/string/string.js","@aos/as-elements/src/util/support/support.js":"@aos/as-elements/src/util/support/support.js",can:"can","can/construct/super/super":"can/construct/super/super",jquery:"jquery"}],17:[function(e,t,s){var a=e("jquery"),i=e("can");e("can/construct/super/super");var n={},o=e("../textboxmatcher/TextBoxMatcherMenu.js"),r=e("../../base/materializer/Materializer.js");n.WebSiteSearchMenu=o.extend({defaults:{model:new i.List,template:"{{WebSiteSearchMenu}}"}},{init:function(){new r(this.element,{materialize:this.options.isOpen});this.element.addClass("search-auto-complete"),this.element.html(i.view(this.options.template,{groups:this.options.model}))},"{model} change":function(e,t,s,a,i,n){this.options.isOpen(!0),this.element.attr("aria-hidden",!i)}}),i.Mustache.registerHelper("as.WebSiteSearch.highlight",function(e,t,s){var n="",o=i.Mustache.resolve(e),r=i.makeArray(i.Mustache.resolve(t));return r.sort(function(e,t){return t[0]-e[0]}),a.each(r,function(e,t){n=o.substring(0,t[0]),n+="<strong>",n+=o.substring(t[0],t[1]),n+="</strong>",n+=o.substring(t[1]),o=n}),0===r.length&&!n&&o&&(n=o),n}),window.as.WebSiteSearchMenu=n.WebSiteSearchMenu,t.exports=n.WebSiteSearchMenu},{"../../base/materializer/Materializer.js":6,"../textboxmatcher/TextBoxMatcherMenu.js":20,can:"can","can/construct/super/super":"can/construct/super/super",jquery:"jquery"}],18:[function(e,t,s){var a=e("jquery"),i=e("can");e("can/construct/super/super");var n={},o=(e("@aos/as-elements/src/util/event/event.js"),e("../../shared/placeholder/ControlPlaceholder")),r=e("./TextBoxMatcherInput.js"),l=e("./TextBoxMatcherMenu.js");e("../../external/instantfeedback/jquery.AsInstantFeedback.js");n.TextBoxMatcher=i.Control.extend({defaults:{query:i.compute("query"),searchHeading:"BÃºsquedas",productHeading:"Productos",categoryHeading:"CategorÃ­as",suggestionsEnabled:!1,suggestionsUrl:null,headerSelector:"#apple-header",wrapperSelector:".autocomplete",formSelector:"#site-search",inputSelector:'input[type="text"]',resetSelector:".inputReset",storageSearchConfigKey:"TextBoxMatcher.searchConfig",autoCompleteBoxSelector:".search-auto-complete UL",menuTemplate:null,val:i.compute(null),isEditing:i.compute(!1),results:new i.List,selectedResult:i.compute(null),menuIsOpen:i.compute(!1),autoCompleteOpen:!1,urlData:null,behaviorSearchModeDelay:1e3,accessoriesSearchBox:document.body,formPostParam:""},UiState:{Focused:"focused",Working:"working",SearchMode:"searchmode"},Behavior:{SearchModeDelay:300,ResetResultsDelay:200,RequestTimeout:5e3},Sections:["search","product","category"],shouldTriggerMenuSelectionChange:function(e){return"keydown"===e.type&&(e.keyCode===a.AsEvent.Keyboard.ArrowUp||e.keyCode===a.AsEvent.Keyboard.ArrowDown)},shouldTriggerMenuClose:function(e){return"keydown"===e.type&&e.keyCode===a.AsEvent.Keyboard.Esc},getResultFromNavigation:function(e,t,s){var i,n=0,o=e.length;switch(s.keyCode){case a.AsEvent.Keyboard.ArrowUp:n=-1;break;case a.AsEvent.Keyboard.ArrowDown:n=1}return i=(t%o+o+n)%o,e[i]},sanitizeTerm:function(e){var t=e?encodeURIComponent(e.replace(/[\s\/\'\\]+/g,"-")):"";return t}},{request:null,data:null,inSearchMode:!1,wrapper:null,header:null,ignoreNextVal:!1,init:function(){var e,t=new Storage,s=t.get(this.options.storageSearchConfigKey),n=(new Date).getTime(),r="menu"+n;this.constructor.Behavior.SearchModeDelay=this.options.behaviorSearchModeDelay,this.constructor.defaults.formPostParam=this.options.formPostParam,a(".search-spinner,.search-reset").css("display",""),s&&s.searchConfig&&this.element.append('<input type="hidden" name="searchConfig" value="'+s.searchConfig+'">'),this.initInput(),this.options.suggestionsEnabled&&(this.options.input.element.attr("aria-owns",r).attr("aria-autocomplete","list"),e={model:this.options.results,selectedObject:this.options.selectedResult,isOpen:this.options.menuIsOpen},this.options.menuTemplate!==this.constructor.defaults.menuTemplate&&(e.template=this.options.menuTemplate),this.initMenu(r,e)),this.wrapper=this.element.find(this.options.wrapperSelector),this.header=this.element.parents(this.options.headerSelector),this.receiveSearch=i.proxy(this.receiveSearch,this),this.cleanupSearch=i.proxy(this.cleanupSearch,this),this.on(),new o(a(this.options.accessoriesSearchBox))},initInput:function(){this.options.input=new r(this.element.find(this.options.inputSelector),{val:this.options.val,isEditing:this.options.isEditing,resetElement:this.element.find(this.options.resetSelector)})},initMenu:function(e,t){this.options.menu=new l(a('<div id="'+e+'" />').appendTo(this.element),t)},"{window} pageshow":"handlePageShow","{input.element} focusin":"toggleSearchMode","{input.element} focusout":"toggleSearchMode","{autoCompleteBoxSelector} mousedown":"toggleSearchMode","{input.element} keydown":"navigateOrCloseMenu","{val} change":"handleValChange",submit:"handleSubmit","{input.element} keypress":"handleSubmit","{menu.element} click":"handleSubmit","{menuIsOpen} change":"handleMenuOpenChange","{selectedResult} change":"handleSelectedResultChange",handlePageShow:function(e,t){if(t.originalEvent.persisted){var s=this;this.options.selectedResult(null),setTimeout(function(){var e="";i.trigger(s.options.val,"change",[e,e])},1)}},handleValChange:function(e,t,s,a){var n="";return this.ignoreNextVal?void(this.ignoreNextVal=!1):void(document.activeElement===this.options.input.element.get(0)&&this.options.isEditing()&&(i.trim(s)?(this.performSearch(this.options.input.element.prop("form"),t),n=this.gatherData(this.options.input.element.prop("form")).find,this.options.query(n)):this.closeMenu()))},handleSubmit:function(e,t){if("keypress"!==t.type||t.keyCode===a.AsEvent.Keyboard.Return&&this.options.menuIsOpen()){t.preventDefault(),"click"===t.type?this.options.input.element.focus():this.ignoreNextVal=!0;var s=this.options.selectedResult();s&&s.item&&this.options.input.element.val(s.item),this.closeMenu()}},handleMenuOpenChange:function(e,t,s,a){this.options.suggestionsEnabled&&(this.options.input.element.attr("aria-expanded",s).removeAttr("aria-activedescendant"),this.options.menu.element.attr("aria-hidden",!s))},handleSelectedResultChange:function(e,t,s,a){this.options.input.element.attr("aria-activedescendant",s?s.attr("id"):"")},keepFocused:function(){this.options.input.element.focus(),this.closeMenu()},searchModeTimeout:null,clearSearchModeTimeout:function(){this.searchModeTimeout&&(clearTimeout(this.searchModeTimeout),delete this.searchModeTimeout)},toggleSearchMode:function(e,t){var s,a=this,i=!1,n=!0;switch(t.type){case"focusin":s="addClass";break;case"focusout":this.autoCompleteOpen?(this.autoCompleteOpen=!1,this.options.input.element.focus()):(s="removeClass",i=!0,n=!1);break;case"mousedown":this.autoCompleteOpen=!0}this.inSearchMode=n,s&&(this.clearSearchModeTimeout(),this.searchModeTimeout=setTimeout(function(){null===a.options.selectedResult()&&(a.wrapper[s](a.constructor.UiState.Focused),a.header[s](a.constructor.UiState.SearchMode)),i&&a.closeMenu(),a.clearSearchModeTimeout()},this.constructor.Behavior.SearchModeDelay))},navigateOrCloseMenu:function(e,t){var s=[];if(this.cancelSearch(),this.constructor.shouldTriggerMenuSelectionChange(t)&&this.options.results.length){s=this.makeResultsList(),this.options.selectedResult(this.constructor.getResultFromNavigation(s,a.inArray(this.options.selectedResult(),s),t));var i=a("#"+this.options.selectedResult().id),n=i.parent(),o=n.outerHeight(),r=n.scrollTop()+i.position().top,l=Math.floor(r/o)*o;n.scrollTop()!==l&&n.scrollTop(l),t.preventDefault()}else this.constructor.shouldTriggerMenuClose(t)&&(this.closeMenu(),this.options.selectedResult(null))},makeResultsList:function(){return this.options.results},closeMenu:function(){this.options.menuIsOpen(!1),this.resetResults()},resetResultsTimeout:null,clearResetResultsTimeout:function(){this.resetResultsTimeout&&(clearTimeout(this.resetResultsTimeout),delete this.resetResultsTimeout)},resetResults:function(){var e=this;this.clearResetResultsTimeout(),this.resetResultsTimeout=setTimeout(function(){e.clearResetResultsTimeout(),e.options.results.replace(null)},this.constructor.Behavior.ResetResultsDelay)},cancelSearch:function(){this.request&&this.request.abort()},receiveSearch:function(e){this.data=e;for(var t=new i.List,s=0;s<e.matches.length;s+=1)t.push({item:e.matches[s],selected:!1,id:"MenuItem"+s});t.length?this.options.results.replace(t):this.closeMenu()},cleanupSearch:function(){this.wrapper.removeClass(this.constructor.UiState.Working),delete this.request},performSearch:function(e,t){if(this.options.suggestionsEnabled&&this.inSearchMode){var s=this.options.urlData||{};t.preventDefault&&t.preventDefault(),this.wrapper.addClass(this.constructor.UiState.Working),this.cancelSearch(),this.request=i.ajax({dataType:"json jsonrpc",url:this.options.suggestionsUrl,data:i.extend(s,this.gatherData(e)),timeout:this.constructor.Behavior.RequestTimeout}).done(this.receiveSearch).always(this.cleanupSearch)}},gatherData:function(e){return{value:this.options.input.element.val()}},persistInstantFeedback:function(){var e=this.data&&this.data.results&&this.data.results.search||[];a.AsInstantFeedback.isAvailable()&&a.AsInstantFeedback.set("LastSuggestions",i.map(e,function(e,t){return e.term}))}}),window.as.TextBoxMatcher=n.TextBoxMatcher,t.exports=n.TextBoxMatcher},{"../../external/instantfeedback/jquery.AsInstantFeedback.js":10,"../../shared/placeholder/ControlPlaceholder":"../../shared/placeholder/ControlPlaceholder","./TextBoxMatcherInput.js":19,"./TextBoxMatcherMenu.js":20,"@aos/as-elements/src/util/event/event.js":"@aos/as-elements/src/util/event/event.js",can:"can","can/construct/super/super":"can/construct/super/super",jquery:"jquery"}],19:[function(e,t,s){var a=e("jquery"),i=e("can");e("can/construct/super/super");var n={},o=(e("@aos/as-elements/src/util/event/event.js"),e("@aos/as-elements/src/util/support/support.js"),e("../../base/inputreset/InputReset.js"));n.TextBoxMatcherInput=i.Control.extend({shouldTriggerSubmitStart:function(e){return"input"===e.type||e.keyCode===a.AsEvent.Keyboard.Return||!a.AsEvent.isMetaKey(e)},events:a.AsSupport.onInput?["input","keydown"]:["text","keypress","keyup","paste","cut"],Behavior:{SubmitInitialDelay:50,SubmitNormalDelay:250,SubmitNormalDelayThreshold:3},defaults:{val:i.compute(null),isEditing:i.compute(null),resetElement:null,resetSelector:".inputReset"}},{init:function(){var e=this,t=this.options.resetElement||this.element.parent().find(this.options.resetSelector);t.length&&(this.options.reset=new o(t,{val:this.options.val})),this.resetSubmitState(),i.each(n.TextBoxMatcherInput.events,function(t,s){e.on(t,"handleEvent")})},submitDoneCallback:null,submitTimeout:null,submitDeferred:null,submitCount:0," {val} change":"handleChange",handleEvent:function(e,t){switch(t.type){case"input":case"text":case"keydown":case"keyup":case"keypress":case"paste":case"cut":this.options.isEditing(!0),this.handleInput(t)}},handleChange:function(e,t,s,a){
this.element.val()!==s&&this.element.val(s),this.handleInput(t)},handleInput:function(e){this.constructor.shouldTriggerSubmitStart(e)&&this.startSubmitState(e)},startSubmitState:function(e){var t=this.submitCount>this.constructor.Behavior.SubmitNormalDelayThreshold,s=t?this.constructor.Behavior.SubmitNormalDelay:this.constructor.Behavior.SubmitInitialDelay,n=this,o=function(){n.submitDeferred.resolve()};this.submitDoneCallback||(this.submitDoneCallback=a.proxy(this.submitStateDone,this)),null===this.submitDeferred&&(this.submitDeferred=i.Deferred(),this.submitDeferred.done(this.submitDoneCallback)),null!==this.submitTimeout&&clearTimeout(this.submitTimeout),this.submitTimeout=setTimeout(o,s)},submitStateDone:function(){this.submitCount++,this.options.val(this.element.val()),this.resetSubmitState()},resetSubmitState:function(){delete this.submitTimeout,delete this.submitDeferred}}),window.as.TextBoxMatcherInput=n.TextBoxMatcherInput,t.exports=n.TextBoxMatcherInput},{"../../base/inputreset/InputReset.js":5,"@aos/as-elements/src/util/event/event.js":"@aos/as-elements/src/util/event/event.js","@aos/as-elements/src/util/support/support.js":"@aos/as-elements/src/util/support/support.js",can:"can","can/construct/super/super":"can/construct/super/super",jquery:"jquery"}],20:[function(e,t,s){var a=(e("jquery"),e("can"));e("can/construct/super/super");var i={},n=e("../../base/materializer/Materializer.js");i.TextBoxMatcherMenu=a.Control.extend({defaults:{model:new a.List,selectedObject:a.compute(null),isOpen:a.compute(null),template:"{{TextBoxMatcherMenu}}"},Behavior:{ModelWithSelectionDelay:1}},{init:function(){new n(this.element,{materialize:this.options.isOpen});this.element.addClass("search-auto-complete"),this.element.html(a.view(this.options.template,{model:this.options.model}))},"li mouseenter":"updateSelectedObject","li mouseleave":"updateSelectedObject","{model} change":function(e,t,s,a,i,n){this.options.isOpen(!("0"===s&&"remove"===a)),this.element.attr("aria-hidden",!i)},"{selectedObject} change":function(e,t,s,a){a&&a.attr("selected",!1),s&&s.attr("selected",!0)},updateSelectedObject:function(e,t){var s=null,a=e.data("item");a!==this.options.selectedObject()&&("mouseenter"===t.type&&(s=a),this.options.selectedObject(s))}}),window.as.TextBoxMatcherMenu=i.TextBoxMatcherMenu,t.exports=i.TextBoxMatcherMenu},{"../../base/materializer/Materializer.js":6,can:"can","can/construct/super/super":"can/construct/super/super",jquery:"jquery"}],21:[function(e,t,s){var a=e("jquery"),i=e("can");e("can/construct/super/super");var n={},o=e("@aos/as-legacy/src/shared/minigallery/MiniGallery.js"),r=e("@aos/as-elements/src/util/support/support.js");e("@aos/as-elements/src/util/event/event.js");n.MiniGalleryFlex=o.extend({defaults:{filterBtn:".as-filter-button",containerSelector:".as-accessories-results",widthofTilesWhenFilterClosed:0,widthOfTilesWhenFilterOpened:0,paddleOnRight:"",itemSelector:".image-list > .as-tilegallery-element",imageLoded:i.compute(!1),firstImageLoaded:i.compute(!1),withPaddleSection:".with-paddlenav",firstClick:!0}},{init:function(){var e=this;this.containerWidth=a(e.options.containerSelector).outerWidth(),this._super(),a(".as-search-results").hasClass("as-category-landing")?this.containerWidth>1440?(this.containerWidth=1440,e.options.widthOfTilesWhenFilterOpened=(this.containerWidth-238)/3,e.options.widthofTilesWhenFilterClosed=this.containerWidth/3):(e.options.widthOfTilesWhenFilterOpened=(this.containerWidth-238)/3,e.options.widthofTilesWhenFilterClosed=this.containerWidth/3):(e.options.widthOfTilesWhenFilterOpened=(this.containerWidth-238)/2,e.options.widthofTilesWhenFilterClosed=this.containerWidth/2),r.ieVersion<9&&r.isIe&&(a(this.options.withPaddleSection).hover(function(){a(this).find(".with-paddlenav-onhover .paddlenav-arrow:enabled").fadeToggle(0,"linear")}),a(".paddlenav-arrow").hover(function(){a(this).css("background","rgb(242, 242, 242)")},function(){a(this).css("background","")}))},"{window} pageshow":function(e,t){t.originalEvent.persisted&&this.options.itemIndex(0)},handleNavBtnSelect:function(){r.isSafari&&(this.$unloadedImages=this.$galleryItems.filter("."+this.options.loadingClass)),this.loadImages(this.$unloadedImages)},"{window} resize":function(){r.ieVersion<9&&r.isIe||(this.containerWidth=a(this.options.containerSelector).outerWidth(),a(".as-search-results").hasClass("as-category-landing")?this.containerWidth>1440?(this.containerWidth=1440,this.options.widthOfTilesWhenFilterOpened=(this.containerWidth-238)/3,this.options.widthofTilesWhenFilterClosed=this.containerWidth/3):(this.options.widthOfTilesWhenFilterOpened=(this.containerWidth-238)/3,this.options.widthofTilesWhenFilterClosed=this.containerWidth/3):(this.options.widthOfTilesWhenFilterOpened=(this.containerWidth-238)/2,this.options.widthofTilesWhenFilterClosed=this.containerWidth/2),this.handleIndexChange(this.options.itemIndex))},"{document} click":function(e,t){var s,i=this,n=0,o=!1,r=!1;a(t.target)[0]===a(".as-filter-button-text")[0]&&(o=!0),a(t.target)[0]===a(".as-filter-button")[0]&&(r=!0),(o||r)&&(s=setInterval(function(){i.isFilterClicked=!0,a(i.element).hasClass("imagesLoaded")&&i.handleIndexChange(i.options.itemIndex),n+=1,n>15&&(i.isFilterClicked=!1,clearInterval(s))},50))},"{nextBtnSelector} keypress":function(e,t){var s=(t.target,t.keyCode);this.options.itemIndex()+1===this.itemLimit&&0!==this.itemLimit&&s===a.AsEvent.Keyboard.Return&&a(a(e)[0]).parent().prev().find("button").focus()},"{prevBtnSelector} keypress":function(e,t){var s=(t.target,t.keyCode);1===this.options.itemIndex()&&0!==this.itemLimit&&s===a.AsEvent.Keyboard.Return&&a(a(e)[0]).parent().next().find("button").focus()},handlePrevBtnSelect:function(){this.options.paddleOnRight="left",this.decreaseItemIndex()},handleNextBtnSelect:function(){this.options.paddleOnRight="right",this.element.find(" .loading > .waitindicator").length>0&&this.element.find(" .loading > .waitindicator").css("display","block"),this.increaseItemIndex(),this.element.addClass("imagesLoaded")},handleIndexChange:function(e){this.options.imageLoded()===!0?(e()<0?e(0):e()>this.itemLimit&&e(this.itemLimit),this.shiftItem(e()),this.updateNav(e()),this.setDesc(e())):this.updateNav(e())},"{imageLoded} change":function(e){i.trigger(this.options.itemIndex,"change")},imgLoaded:function(e,t){var s=this,i=this.element.find(this.options.listSelector),n=i.find(".as-tilegallery-element:eq(1)");e&&t&&(a(e).removeClass(this.options.loadingClass),a(n[0]).not(".loading").length>0&&window.setTimeout(function(){s.options.imageLoded(!0),s.options.firstClick&&(s.handleIndexChange(s.options.itemIndex),s.options.firstClick=!1)},1e3),this.element.find(" .loading > .waitindicator").css("display",""),a(t.target).off(t))},updateNav:function(e){this.element.find(this.options.prevBtnSelector).prop(this.options.disableAttr,e<=0),this.element.find(this.options.nextBtnSelector).prop(this.options.disableAttr,e>=this.itemLimit),r.ieVersion<=9&&r.isIe&&(this.element.find(this.options.prevBtnSelector).prop("disabled")?this.element.find(this.options.prevBtnSelector).css("display","none"):this.element.find(this.options.prevBtnSelector).css("display",""),this.element.find(this.options.nextBtnSelector).prop("disabled")?this.element.find(this.options.nextBtnSelector).css("display","none"):this.element.find(this.options.nextBtnSelector).css("display",""))},shiftItem:function(e){var t,s=this.element.find(this.options.listSelector);a(".as-search-results").hasClass("as-category-landing")?(0===this.options.widthofTilesWhenFilterClosed&&(this.containerWidth>1440?(this.containerWidth=1440,this.options.widthofTilesWhenFilterClosed=this.containerWidth/3):this.options.widthofTilesWhenFilterClosed=this.containerWidth/3),this.options.widthOfTilesWhenFilterOpened<=0&&(this.containerWidth>1440?(this.containerWidth=1440,this.options.widthOfTilesWhenFilterOpened=(this.containerWidth-238)/3):this.options.widthOfTilesWhenFilterOpened=(this.containerWidth-238)/3)):(0===this.options.widthofTilesWhenFilterClosed&&(this.options.widthofTilesWhenFilterClosed=a(this.options.containerSelector).outerWidth()/2),this.options.widthOfTilesWhenFilterOpened<=0&&(this.options.widthOfTilesWhenFilterOpened=(a(this.options.containerSelector).outerWidth()-238)/2));var i,n=this.options.widthofTilesWhenFilterClosed*e;a(".as-search-results").hasClass("as-filter-open")?(n=this.options.widthOfTilesWhenFilterOpened*e,i=this.options.widthOfTilesWhenFilterOpened):i=this.options.widthofTilesWhenFilterClosed,t=s.find(".as-tilegallery-element:eq("+(e-1)+")"),"right"===this.options.paddleOnRight?t=s.find(".as-tilegallery-element:eq("+(e-1)+")"):"left"===this.options.paddleOnRight&&(t=s.find(".as-tilegallery-element:eq("+(e+1)+")")),s.css({left:-n}),a(s.find(".as-tilegallery-element")).removeClass("as-image-selected"),a(s.find(".as-tilegallery-element:eq("+e+")")[0]).addClass("as-image-selected");var o;a(s.find(".as-tilegallery-element")).length>0&&(o=a(a(s.find(".as-tilegallery-element:eq("+e+")")[0]).find("img")[0])[0].src),a(this.element.parent().find(".as-dummy-container")[0]).find("img")[0].src=o,a.AsSupport.touch?this.animateEl(this.element,{scrollLeft:n},this.options.snapDuration):"right"!==this.options.paddleOnRight||this.isFilterClicked?"left"!==this.options.paddleOnRight||this.isFilterClicked||a(t[0]).css({position:"relative",right:i,transition:"opacity 0.75s ease",opacity:0}):a(t[0]).css({position:"relative",left:i,transition:"opacity 0.75s ease",opacity:0}),window.setTimeout(function(){a(t[0]).css({position:"",left:"",right:"",transition:"",opacity:""})},750)}}),window.as.MiniGalleryFlex=n.MiniGalleryFlex,t.exports=n.MiniGalleryFlex},{"@aos/as-elements/src/util/event/event.js":"@aos/as-elements/src/util/event/event.js","@aos/as-elements/src/util/support/support.js":"@aos/as-elements/src/util/support/support.js","@aos/as-legacy/src/shared/minigallery/MiniGallery.js":14,can:"can","can/construct/super/super":"can/construct/super/super",jquery:"jquery"}],22:[function(e,t,s){var a=e("jquery"),i=e("can");e("can/construct/super/super");var n={},o=e("@aos/as-legacy/src/external/tabcontroller/TabController"),r=e("@aos/as-legacy/src/external/content/Content"),l=(e("@aos/as-elements/src/util/event/event.js"),e("@aos/as-elements/src/util/support/support.js")),c=(e("@aos/as-elements/src/util/env/env.js"),e("@aos/as-analytics/src/Tracking")),h=e("./WebSearchResults-flex.js"),u=e("./WebSearchResultsFilter-flex.js"),d=(e("@aos/as-elements/src/util/string/string.js"),e("./MiniGallery-flex.js")),p=e("@aos/as-legacy/src/shared/equalizer/Equalizer");window.as.Tracking=c,n.SearchNavigationTabController=o.extend({defaults:{paddleNavDisabledClass:"as-disabledpaddlenav",prevPageSelector:"#previous-tab a",nextPageSelector:"#next-tab a",inputPageSelector:"#page-text",pageSelection:i.compute(!1),isWaiting:i.compute(!1),scrimSelector:".as-scrim",scrimVisibleClassName:"visible",prevPageSelectorHide:"disabled",searchTerm:"iphone",totalCountText:"100 phones found",ajaxArgs:{},paginationUrl:"/us/searchresults/internalmvc?find=ipad&sel=explore&debug=true&debug.scarah=true&debug.microdata=true&debug.json=all",totalPages:10,currentPageNumber:0,dataInternalSearchUrl:i.compute(null),hasParams:i.compute(null),resultLinkSelector:".as-search-results a",appleStoreSelector:".as-applestores-individualstore",supportSelector:".as-searchresults-support",selectEvent:a.AsSupport.touch?"tap":"click",touchEvent:a.AsSupport.touch?"touchstart":"mousedown",parentContainerSelector:".as-search-background-blur",autoCompleteSelector:"#site-search-mixedresults .search-auto-complete",autoCompleteSelectorLng:"#site-search-mixedresults .search-auto-complete ul",inputBoxSiteSearch:"#site-search-mixedresults-query",inputBoxSearchReset:".as-search-reset",searchTabList:".as-tabnav-tablist",searchResults:".as-search-results",searchPage:"#page",aiFeedBack:"feedback",oneBoxSelector:".pd-onebox",dfd:i.Deferred(),loadingText:"loading",loadingCompleteText:"loading complete",supportDescription:".as-support-description",exploreOrganicDescription:".as-description",supportDescriptionHeader:".as-support-links",exploreDescriptionHeadar:".as-title-links",accessoriesProductTitle:".as-producttile-tilelink",defaultTimeout:9e4,linksBelowPaginationSelector:".as-searchlinks",findMoreStoreSelector:".as-applestores-findanotherstore",minigallerySelector:".mini-gallery",resetLinkSelector:".as-search-filter-resettext",headerNavBarLink:".ac-gn-list",accessoriesProductTile:".as-producttile",metrics:{delay:550,errMsgLength:50,prefix:"AOS: ",clickLinkProp:"prop29",clickUrlProp:"prop27",errorProp:"eVar25",paginationProp:"prop3",oneBox:"O",featName:"Search Results",linkProp:"data-evar1",noOfResultsProp:"prop21",defaultTabNameProp:"prop44",searchTermProp:"prop30",oneBoxTab:"prop29",oneBoxUrl:"prop27",searchLinks:"eVar5",findMoreStoreLinks:"eVar6"},currentPage:{explore:1,accessories:1,support:1,retail:1,itunes:1,appstore:1,trailer:1},previousHash:null,ajaxInitiatedFirstTimeByChangeHash:!0}},{init:function(){var e=this;this._super(),this.newTab=null,this.newPage=0,this.initialLoad=!1,this.isAjaxInitiatedByHashChange=!1;var t,s,n,o,r,c={},h=this.options.totalCountText.match(/\d+,*\d*/g).toString(),u=this.options.selectedTabId,d=this.options.searchTerm,p=this.options.metrics,f={truncate:22},g={truncate:200},m={truncate:95};if(a("#tab-controls").append("<li class='as-tabnav-tablist-navline' aria-hidden='true'></li>"),this.toggleNavigationArrow(1,this.options.totalPages),this.addMetrics(this.element.find(this.options.accessoriesProductTitle),this.options.metrics.linkProp),l.isIpad?a(".as-search-results").addClass("as-ipad"):l.isIpad||l.isMobileOptimized||a(".as-search-results").addClass("as-desktop"),a("body").addClass("as-tap-highlight-color"),this.$magicLine=a(".as-tabnav-tablist-navline"),this.navTabAnimation(),this.options.dataInternalSearchUrl(this.options.paginationUrl),document.documentElement.clientWidth<750&&a("#tab-controls .as-tabnav-tablist-item .active").click().focus().blur(),c.linkTrackVars=p.noOfResultsProp+","+p.defaultTabNameProp+","+p.searchTermProp,c[p.noOfResultsProp]=h,c[p.defaultTabNameProp]="Default:"+u,c[p.searchTermProp]=d,this.fireMicroEvent(c),a("#page").append("<div class='loader-response'></div>"),"explore"===this.currentTabId()){var v;for(s=a(this.options.exploreOrganicDescription),n=a(this.options.exploreDescriptionHeadar),v=0;v<s.length;v++)o=a(s[v]).text()||"",o.length>0&&(o=this.formatText(o,g),o.length>0&&a(s[v]).text(o));for(v=0;v<n.length;v++)r=a(n[v]).text()||"",r.length>0&&(r=this.formatText(r,m),r.length>0&&a(n[v]).text(r))}else if("accessories"===this.currentTabId()){if(document.documentElement.clientWidth<750){var b,S;for(S=a(this.options.accessoriesProductTitle),b=0;b<S.length;b++)r=a(S[b]).text()||"",r.length>0&&(r=this.formatText(r,f),r.length>0&&a(S[b]).text(r))}a.AsSupport.isMobileOptimized&&this.equalizeProductInfoTile()}else if("support"===this.currentTabId()){var y;for(s=a(this.options.supportDescription),n=a(this.options.supportDescriptionHeader),y=0;y<s.length;y++)o=a(s[y]).text()||"",o.length>0&&(o=this.formatText(o,g),o.length>0&&a(s[y]).text(o));for(y=0;y<n.length;y++)r=a(n[y]).text()||"",r.length>0&&(r=this.formatText(r,m),r.length>0&&a(n[y]).text(r))}a.AsSupport.isIe&&a.AsSupport.ieVersion<=9&&a(".as-search-results").addClass("ie-oldie"),t=window.location.href,t.indexOf("#!")!==-1&&t.indexOf("#!")!==t.length-2?window.setTimeout(function(){i.route.ready(),e.pageSpinnerLoading(!0)},5e3):i.route.ready(),a(window).on("popstate",function(t){e.paginationOnHistoryChange(t)}),this.initializeMinigallery()},"{window} resize":"navTabAnimation","{linksBelowPaginationSelector} {selectEvent}":"handleSearchLinksClick","{findMoreStoreSelector} {selectEvent}":"handleFindMoreStoreLinkClick","{prevPageSelector} click":"handlePageLinkClick","{nextPageSelector} click":"handlePageLinkClick","{inputPageSelector} keypress":"handleUserInputKeypress","{pageSelection} change":"changeHandler","{can.route} change":"handleHashChange","{resultLinkSelector} {selectEvent}":"handleResultLinkSelect","{oneBoxSelector} {selectEvent}":"handleOneBoxClick","{parentContainerSelector} {touchEvent}":"flyoutHandelEvent","{inputBoxSearchReset} {selectEvent}":"handlesearchResetClick","{inputBoxSiteSearch} keyup":"handleBackspace","{parentContainerSelector} {selectEvent}":"flyoutClickEvtHandle","{inputBoxSiteSearch} keydown":"windowTabbingEvt","{headerNavBarLink} keydown":"windowTabbingEvt","{window} orientationchange":"handleScrimOnRotation","{resetLinkSelector} {selectEvent}":"filterReset","{window} pageshow":function(e,t){t.originalEvent.persisted&&this.init()},filterReset:function(){l.isIpad&&(window.location.hash="#!",this.pageSpinnerLoading(!0))},handleScrimOnRotation:function(){a(".as-search-background-blur").hasClass("as-search-background-mobile")?a(".as-search-background-blur").css("position","fixed"):a(".as-search-background-blur").css("position","absolute")},initializeMinigallery:function(){if(a(".as-accessories-results").hasClass("as-search-desktop"))for(var e=0;e<a(this.options.minigallerySelector).length;e++){var t=a(".gal"+e);new d(t)}},windowTabbingEvt:function(e,t){var s=t.keyCode?t.keyCode:t.which;9===s&&a("#tab-controls .as-tabnav-tablist-item .as-tabnav-tablist-link, .ac-gn-list .ac-gn-item .ac-gn-link").focus(function(){a("#site-search-mixedresults-query, #page, .as-tabnav-tablist, .as-search-results, .as-globalfooter-content, .as-globalfooter-breadcrumbs-home").removeAttr("style"),a(".as-search-background-blur").fadeOut(150,function(){a(this).remove()})}),27===s&&(a("#site-search-mixedresults-query, #page, .as-tabnav-tablist, .as-search-results, .as-globalfooter-content, .as-globalfooter-breadcrumbs-home").removeAttr("style"),a(".as-search-background-blur").fadeOut(150,function(){a(this).remove()}))},handleSearchLinksClick:function(e,t){this.trackSearchLinks(t)},paginationOnHistoryChange:function(e){var t,s,i,n,o=e.originalEvent.state,r={};if(null===o)return!0;if(this.newPage=o.page,this.newTab=o.sel,i=this.hashValue(this.options.previousHash),n=this.hashValue(window.location.hash),t=this.currentTabId(),!this.compareHashObjects(i,n))return!0;if(this.newTab.trim()!==t.trim()){var l=a("#"+this.newTab).closest("li");this.handleClick(l,null)}else s=this.buildAjaxUrl(this.newTab,this.newPage),this.pageSpinnerLoading(!0),r.url=s||null,r.timeout=this.options.defaultTimeout,this.makeAjaxCall(r)},hashValue:function(e){var t,s={},a=[];if(e&&e.length>0){t=e.replace(/#!/,""),a=t.split("&");for(var i=0;i<a.length;i++){var n;if(a[i].length>0)switch(n=a[i].split("=")[0]){case"s":s.s=a[i].split("=")[1]||"";break;case"fh":s.fh=a[i].split("=")[1]||"";break;case"f":s.f=a[i].split("=")[1]||""}}}return s},compareHashObjects:function(e,t){return e.s===t.s&&e.f===t.f&&e.fh===t.fh},handleFindMoreStoreLinkClick:function(e,t){this.trackFindMoreStoreLink(t)},trackFindMoreStoreLink:function(e){var t,s=this.options.metrics,i={};"A"===a(e.target).prop("tagName")&&e.target.text&&(t=e.target.text),i.linkTrackVars=s.findMoreStoreLinks,i[s.findMoreStoreLinks]="D=pageName || search | Apple stores | "+t,i.linkTrackEvents="none",c.track(null,"searchresults",i,null)},trackSearchLinks:function(e){var t,s=this.options.metrics,i={};"A"===a(e.target).prop("tagName")&&e.target.text&&(t=e.target.text),i.linkTrackVars=s.searchLinks,i[s.searchLinks]="D=pageName || search || "+t,i.linkTrackEvents="none",c.track(null,"searchresults",i,null)},flyoutClickEvtHandle:function(){a(".as-search-reset").removeClass("ipMuseDwnEvnt"),a(this.options.inputBoxSiteSearch).removeClass("ipMuseDwnEvnt"),a(this.options.inputBoxSiteSearch).removeAttr("style"),a(this.options.searchPage).removeAttr("style"),a(this.options.searchTabList).removeAttr("style"),a(this.options.searchResults).removeAttr("style"),a(".as-search-background-blur").fadeOut(200,function(){a(this).remove()})},"{window} load":function(){var e=this;e.$magicLine=a(".as-tabnav-tablist-navline"),e.$magicLine.width(a(".active").width()).css("left",a(".active a").position().left).data("origLeft",e.$magicLine.position().left).data("origWidth",e.$magicLine.width())},formatText:function(e,t){"function"==typeof e&&(e=e()),t=t||{};var s=t&&t.truncate||null,i=t&&t.stripPunctAtStart||null,n=t&&t.sanitize||null,o=t&&t.letterCase||null;return e&&"string"==typeof e&&(e=a.AsString.stripTags(e),e=a.trim(e),s&&(e=a.AsString.truncate(e,s)),i&&(e=a.AsString.stripPunctuationAtStart(e)),n&&(e=e.replace(/[\s]+/g,"-")),o&&(o=o.toLowerCase(),"upper"===o?e=e.toLocaleUpperCase():"lower"===o&&(e=e.toLocaleLowerCase()))),e},handleBackspace:function(){document.documentElement.clientWidth<750&&0===a(this.options.inputBoxSiteSearch).val().length&&(a(".as-search-background-blur").removeClass("as-search-background-mobile"),a(".as-search-background-blur").css("position","absolute"))},flyoutHandelEvent:function(){a(".as-search-reset").removeClass("ipMuseDwnEvnt"),a(this.options.inputBoxSiteSearch).removeClass("ipMuseDwnEvnt"),a(this.options.inputBoxSiteSearch).removeAttr("style"),a(this.options.searchPage).removeAttr("style"),a(this.options.searchTabList).removeAttr("style"),a(this.options.searchResults).removeAttr("style"),a(this.options.autoCompleteSelector).addClass("hide gone"),a(this.options.inputBoxSiteSearch).blur(),a(".as-search-background-blur").fadeOut(200,function(){a(this).remove()})},handlesearchResetClick:function(){a(".as-search-background-blur").removeClass("as-search-background-mobile"),a(this.options.inputBoxSiteSearch).removeClass("as-search-border-style"),a(this.options.inputBoxSiteSearch).val(""),a(this.options.inputBoxSiteSearch).focus()},toggleNavigationArrow:function(e,t){var s,i;return s=this.currentTabId(),"explore"===s?i="#tabs_explore":"accessories"===s?i="#tabs_accessories":"support"===s?i="#tabs_support":"retail"===s&&(i="#tabs_retail"),Number(e)<=1&&a(i).find("#previous-tab a").addClass(this.options.paddleNavDisabledClass),Number(e)>=Number(t)&&a(i).find("#next-tab a").addClass(this.options.paddleNavDisabledClass),!1},handleOneBoxClick:function(e,t){this.trackOneBoxClick(t)},handleResultLinkSelect:function(e,t){var s,a,i,n,o,r,l,c,h={},u=this.options.metrics,d=e.attr("href");switch(s=this.currentTabId()){case"explore":try{a=e.parentsUntil(".as-explore").last().attr("id").indexOf("exploreCurated")!==-1?"curated":"natural"}catch(p){n=!1}if(e.hasClass("paddlenav-arrow")||e.hasClass("as-searchlinks-link")||e.parent().parent().hasClass("as-applestores-findanotherstore"))return;i="curated"===a?e.parentsUntil("#exploreCurated").last().attr("class").split(" ")[1].split("-")[1]:e.parentsUntil("#exploreOrganic").last().attr("class").split(" ")[1].split("-")[1],o=e.text(),h.linkTrackVars=u.clickLinkProp+","+u.clickUrlProp,o.indexOf("http")===-1?h[u.clickLinkProp]=s+" : "+a+" : "+i+" : "+o:h[u.clickLinkProp]=s+" : "+a+": "+i,h[u.clickUrlProp]=d,this.fireMicroEvent(h,e,t);break;case"accessories":if(e.hasClass("paddlenav-arrow")||e.hasClass("as-searchlinks-link")||e.parent().parent().hasClass("as-applestores-findanotherstore"))return;var f="s.prop27|s.prop29";if(l=e.index('[data-var-name="'+f+'"]'),l=Number(l)+1,h.linkTrackVars=u.clickLinkProp+","+u.clickUrlProp,h[u.clickLinkProp]=s+" : "+l,h[u.clickUrlProp]=d,e.hasClass("as-filter-option")||e.hasClass("as-search-sort-links"))return;this.fireMicroEvent(h,e,t);break;case"support":var g=[],m=-1,v=e.parent().attr("class");if(e.hasClass("paddlenav-arrow")||e.hasClass("as-searchlinks-link")||e.parent().parent().hasClass("as-applestores-findanotherstore"))return;for(r=e.parent().parent(),v.length>0&&(g=r.find("."+v)),m=0;m<g.length&&g[m]!==e.parent().get(0);m++);m!==-1&&(l=m+1),h.linkTrackVars=u.clickLinkProp+","+u.clickUrlProp,h[u.clickLinkProp]=s+" : "+l,h[u.clickUrlProp]=d,this.fireMicroEvent(h,e,t);break;case"retail":if(e.hasClass("paddlenav-arrow")||e.hasClass("as-searchlinks-link")||e.parent().parent().hasClass("as-applestores-findanotherstore"))return;r=e.parent().parent(),c=r.parent().parent(),l=c.index(this.options.appleStoreSelector),l=Number(l)+1,h.linkTrackVars=u.clickLinkProp+","+u.clickUrlProp,h[u.clickLinkProp]=s+" : "+l,h[u.clickUrlProp]=d,this.fireMicroEvent(h,e,t);break;default:n=!1}},addMetrics:function(e,t){var s,i=this.options.metrics,n=window.s,o=a.AsMetrics,r=" | ";i&&n&&n.pageName&&o&&o.evarDataNodesEnabled&&e.length&&t&&e.each(function(){var e=a(this),o=e.attr("data-relatedlink")&&e.attr("data-relatedlink").length>0?e.attr("data-relatedlink").toString().split("|"):"";o.length>0&&(s=n.pageName+r+i.featName+r+o[0]+r+o[1]+r+o[2],e.attr(t,s))})},handleUserInputKeypress:function(e,t){if(!(a.AsSupport.isIe&&a.AsSupport.ieVersion<9)){var s,i,n,o=t.which?t.which:event.keyCode;if(n=this.currentTabId(),o>31&&(o<48||o>57))return!1;if(t.keyCode===a.AsEvent.Keyboard.Return){var r=e.val(),l=Number(r);if("number"!=typeof l||l===this.options.currentPage[n])return window.event&&(window.event.cancelBubble=!0),!1;if(!(l>0&&l<=this.options.totalPages))return!1;this.options.currentPage[n]=l,this.pageSpinnerLoading(!0),s=this.currentTabId(),i=this.buildAjaxUrl(s,l),null!==i&&(this.options.ajaxArgs.url=i||null,this.options.ajaxArgs.timeout=this.options.defaultTimeout,this.showScrim(),this.makeAjaxCall(this.options.ajaxArgs))}}},handleHashChange:function(){var e,t,s,a,n,o=i.route.attr(),r=this.options.dataInternalSearchUrl()||null,l=this.currentTabId();for(this.options.previousHash=window.location.hash,this.isAjaxInitiatedByHashChange=!0,window.location.hash.length>0&&(this.options.ajaxInitiatedFirstTimeByChangeHash=!1),e=r.split("&"),s=0;s<e.length;s++)if(e[s].indexOf("sel")!==-1){n=e[s].split("="),a=n[1];break}if(a!==l){for(e=r.split("&"),s=0;s<e.length;s++)if(e[s].indexOf("sel")!==-1){t="sel="+l;break}e[s]=t,r=e.join("&")}this.options.hasParams(!i.isEmptyObject(o)),r&&!this.options.isWaiting()&&(this.options.isWaiting(!0),this.options.ajaxArgs.url=r,this.options.ajaxArgs.data=o,this.options.ajaxArgs.timeout=this.options.defaultTimeout,this.makeAjaxCall(this.options.ajaxArgs))},trackSearchResultsForMultipleMicroEvents:function(e,t){if(e){t||(t=i.noop);window.s.pageName;a.AsMetrics.fireMicroEventCollection(e,t)}},fireMicroEvent:function(e,t,s){var i,n=this,o=s&&s.target&&!s.metaKey&&a(s.target).closest("a[href]"),r=function(){window.location=o.attr("href")};o&&o.length&&!s.isDefaultPrevented()&&(s.preventDefault(),i=function(){n.sendFeedback(t,s,r)}),e.linkTrackEvents=e.linkTrackEvents||"None",c.track(null,"searchresults",e,i)},handlePageLinkClick:function(e,t){if(a.AsSupport.isIe&&a.AsSupport.ieVersion<9&&(""===e.attr("href")||void 0===e.attr("href")))return t.preventDefault(),!1;if(!(a.AsSupport.isIe&&a.AsSupport.ieVersion<9)){var s,i,n,o,r,l,c={},h=this.options.metrics,u="search results - page";l=this.currentTabId();var d=a(t.target).parent().parent().find("input"),p=d.val()||0;t.preventDefault();var f,g=e.parent().attr("id");"explore"===l?f="#tabs_explore":"accessories"===l?f="#tabs_accessories":"support"===l?f="#tabs_support":"retail"===l&&(f="#tabs_retail");var m=a(f+" .as-pagination-totalnumbers").length;if(m>0&&(this.options.totalPages=Number(a(f+" .as-pagination-totalnumbers").html())),Number(p)<=Number(this.options.totalPages))if("previous-tab"===g){if(i=Number(p)-1,i<1)return r=this.toggleNavigationArrow(p,this.options.totalPages),a("#"+g).attr("class")&&!a("#"+g).attr("class").indexOf(this.options.paddleNavDisabledClass)&&(o=!1),r;c.linkTrackVars=h.paginationProp,c[h.paginationProp]=u+(i-1),this.fireMicroEvent(c,t),this.pageSpinnerLoading(!0),s=this.currentTabId(),n=this.buildAjaxUrl(s,i),null!==n&&(this.options.ajaxArgs.url=n||null,this.options.ajaxArgs.timeout=this.options.defaultTimeout,this.showScrim(),this.makeAjaxCall(this.options.ajaxArgs))}else if("next-tab"===g){if(i=Number(p)+1,i>Number(this.options.totalPages))return r=this.toggleNavigationArrow(p,this.options.totalPages),a("#"+g).attr("class")&&!a("#"+g).attr("class").indexOf(this.options.paddleNavDisabledClass)&&(o=!1),r;c.linkTrackVars=h.paginationProp,c[h.paginationProp]=u+(i-1),this.fireMicroEvent(c,t),this.pageSpinnerLoading(!0),s=this.currentTabId(),n=this.buildAjaxUrl(s,i),null!==n&&(this.options.ajaxArgs.url=n||null,this.options.ajaxArgs.timeout=this.options.defaultTimeout,this.makeAjaxCall(this.options.ajaxArgs))}else o=!1;else{var v=this.options.totalPages;c.linkTrackVars=h.paginationProp,c[h.paginationProp]=u+(i-1),this.fireMicroEvent(c,t),this.pageSpinnerLoading(!0),s=this.currentTabId(),n=this.buildAjaxUrl(s,v),null!==n&&(this.options.ajaxArgs.url=n||null,this.options.ajaxArgs.timeout=this.options.defaultTimeout,this.showScrim(),this.makeAjaxCall(this.options.ajaxArgs))}}},handleInputPage:function(e,t){this.options.pageSelection(e.text())},changeHandler:function(e,t){},showScrim:function(){a(this.options.scrimSelector).addClass(this.options.scrimVisibleClassName)},hideScrim:function(){a(this.options.scrimSelector).removeClass(this.options.scrimVisibleClassName)},scrollTop:function(){window.scrollTo(0,0)},buildAjaxUrl:function(e,t){var s,a,i,n,o=null,r=this.options.paginationUrl;if(t<0)return null;if(s="&page="+t,r.indexOf(e)===-1){for(a=r.split("&"),n=0;n<a.length;n++)if(a[n].indexOf("sel")!==-1){i="sel="+e,a[n]=i;break}r=a.join("&"),o=r.concat(s),o=o.replace("&amp;","&")}else o=r.concat(s),o=o.replace("&amp;","&");return o},makeAjaxCall:function(e){var t=this;"object"==typeof e&&(this.options.isWaiting(!0),this.ajaxDef=i.ajax(e).always(function(){t.options.isWaiting(!1)}).done(function(e){var s=e.body.numOfPages,a=e.body.pageNumber;t.options.currentPage[t.currentTabId()]=a,t.updateViewForPage(e),t.toggleNavigationArrow(a,s),a!==t.newPage&&t.reWriteUrl(window.location.search,window.location.hash,{nextPage:a,nextTab:t.currentTabId()}),t.pageSpinnerLoading(!1)}).fail(function(e){t.pageSpinnerLoading(!1)}).always(function(){t.cleanupAjaxDef(),t.scrollTop(),t.hideScrim(),t.pageSpinnerLoading(!1)}))},cleanupAjaxDef:function(){delete this.ajaxDef},updateViewForPage:function(e){var t,s=this;if(e){var n,o,r=s.currentTabId();switch(r){case"explore":n=e.body.hasResults?i.stache(a("#\\{\\{exploreClient-frag\\}\\}").html())(new i.Map(e.body)):i.stache(a("#\\{\\{noSearchClient-frag\\}\\}").html())(new i.Map(e.body));break;case"support":n=e.body.hasResults?i.stache(a("#\\{\\{supportClient-frag\\}\\}").html())(new i.Map(e.body)):i.stache(a("#\\{\\{noSearchClient-frag\\}\\}").html())(new i.Map(e.body));break;case"accessories":e.body.hasResults?(n=i.stache(document.getElementById("{{accessoriesClient-frag}}").innerHTML)(new i.Map(e.body)),o=i.stache(document.getElementById("{{filterOptions-frag}}").innerHTML)(new i.Map(e.body)),a('overlay[data-uid="overlay-filter"]').find("#as-filter-overlay-container").html(o)):n=i.stache(a("#\\{\\{noSearchClient-frag\\}\\}").html())(new i.Map(e.body));break;case"retail":n=e.body.hasResults?i.stache(a("#\\{\\{appleStoreClient-frag\\}\\}").html())(new i.Map(e.body)):i.stache(a("#\\{\\{noSearchClient-frag\\}\\}").html())(new i.Map(e.body));break;default:t=!1}var l="tabs_"+s.currentTabId();a("#"+l).children().remove(),a("#"+l).append(n),"accessories"===r&&(a(".as-search-results").hasClass("filter-clicked")?(a(".as-filter-button").focus(),a(".as-search-results").removeClass("filter-clicked")):a(".as-search-results").hasClass("sort-clicked")&&(a("#as-sort-button").focus(),a(".as-search-results").removeClass("sort-clicked")),window.setTimeout(function(){new h(a("as-sort-wrap")),new u(a("as-accessories"));s.initializeMinigallery()},0),a(".as-search-results").hasClass("as-filter-open")&&(a(".as-filter-button").attr("aria-expanded","true"),a(".as-search-filters").toggleClass("as-filter-animation as-filter-notransition"),a(".as-search-desktop .as-search-results-tiles").toggleClass("as-search-results-width large-12 as-filter-notransition"),"absolute"===a(".as-search-filters").css("position")?window.setTimeout(function(){a(".as-search-filters").css("position","relative")},600):a(".as-search-filters").css("position","absolute"),this.toggleTabIndexForFilters()),a.AsSupport.isMobileOptimized&&this.equalizeProductInfoTile());
}},navTabAnimation:function(){var e=this;e.$magicLine.width(a(".active").width()).css("left",a(".active a").position().left).data("origLeft",e.$magicLine.position().left).data("origWidth",e.$magicLine.width())},reWriteUrl:function(e,t,s){if(!("string"!=typeof e||"string"!=typeof t||l.isIe&&l.ieVersion<=9)){var a,i=s.nextPage||1,n={},o=s.nextTab,r="",c="";a=0!==e.length?e.match(/sel\=[a-z]+/):null,r=a?a[0].split("=")[1]:"",null===o&&o.length<1&&(o=r),n.page=i,n.sel=o,c=e.replace(/page\=\d+|\&page\=\d+|\?page\=\d+/g,""),c&&(c=c.replace(/sel\=\w+|\&sel\=\w+|\?sel\=\w+/g,""),c=c.replace("?","&")),window.history.pushState(n,null,"?page="+i+"&sel="+o+c+t)}},handleClick:function(e,t){this.$el=a(e),"a"!==e.prop("tagName").toLowerCase()&&(e=e.find("a"));var s=e.prop("id"),i=this.getTabPanelId(s),n=this.contentContainer.find("#"+i);if(n.is(":empty")&&(this.initialLoad=!0),this.locked)return void t.preventDefault();var o=this.$el.find("a"),r=(o.position().left,o.position().left+o.parent().parent().scrollLeft()),l=o.parent().width();a(".as-tabnav-tablist-navline").stop().css({left:r,width:l}),this.pageSpinnerLoading(!0);var c,h=o[0].id,u=a("div[aria-expanded='true']")[0].id;"explore"===h?c="#tabs_explore":"accessories"===h?c="#tabs_accessories":"support"===h?c="#tabs_support":"retail"===h&&(c="#tabs_retail");var d=a(c+" .as-pagination-totalnumbers").length;d>0&&(this.options.totalPages=Number(a(c+" .as-pagination-totalnumbers").html()));var p=a(c).html().length;0===p?a("#"+u).css("visibility","hidden"):(a("#"+u).css("visibility","hidden"),a(c).css("visibility","hidden")),null!==t?this._super(e,t):this.selectTab(e,t),0!==p&&(setTimeout(function(){a("#"+u).css("visibility","visible"),a(c).css("visibility","visible")},200),this.pageSpinnerLoading(!1),a(".as-search-results").removeAttr("style"))},handleKeydown:function(e,t){this.$el=a(e);var s,i,n,o=this,r=this.$el.find("a");if(t.keyCode===a.AsEvent.Keyboard.ArrowUp||t.keyCode===a.AsEvent.Keyboard.ArrowDown||t.keyCode===a.AsEvent.Keyboard.ArrowLeft||t.keyCode===a.AsEvent.Keyboard.ArrowRight){this.pageSpinnerLoading(!0);var l,c=r[0].id,h=a("div[aria-expanded='true']")[0].id;"explore"===c?l="#tabs_explore":"accessories"===c?l="#tabs_accessories":"support"===c?l="#tabs_support":"retail"===c&&(l="#tabs_retail");var u=a(l).html().length;0===u?a("#"+h).css("visibility","hidden"):(a("#"+h).css("visibility","hidden"),a(l).css("visibility","hidden")),this._super(e,t),this.options.dfd.then(function(){r=a(document.activeElement),s=r.position().left,i=r.position().left+r.parent().parent().scrollLeft(),n=r.parent().width(),a(".as-tabnav-tablist-navline").stop().css({left:i,width:n}),0!==u&&(setTimeout(function(){a("#"+h).css("visibility","visible"),a(l).css("visibility","visible")},100),o.pageSpinnerLoading(!1))})}},loadDynamicContent:function(e,t){var s,n,o,l,c,d,p,f,g,m=this,v=this.options.tabs[e],b=this.options.metrics,S=this.getTabPanelId(e),y=this.contentContainer.find("#"+S),w={};v.timeout=this.options.defaultTimeout,n={willSetContent:function(t){var s,n;return c=t.body.totalCountText.split(" ")[0]||0,d=e,p=m.options.searchTerm,f=t.body.numOfPages,g=t.body.pageNumber,m.options.totalPages=t.body.numOfPages,e.indexOf("explore")!==-1?t.body.hasResults?(o=i.stache(document.getElementById("{{exploreClient-frag}}").innerHTML)(new i.Map(t.body)),m.options.dataInternalSearchUrl(t.body.internalSearchUrl),m.options.paginationUrl=t.body.internalSearchUrl):o=i.stache(a("#\\{\\{noSearchClient-frag\\}\\}").html())(new i.Map(t.body)):e.indexOf("support")!==-1?t.body.hasResults?(o=i.stache(document.getElementById("{{supportClient-frag}}").innerHTML)(new i.Map(t.body)),m.options.dataInternalSearchUrl(t.body.internalSearchUrl),m.options.paginationUrl=t.body.internalSearchUrl):o=i.stache(a("#\\{\\{noSearchClient-frag\\}\\}").html())(new i.Map(t.body)):e.indexOf("accessories")!==-1?t.body.hasResults?(n=!1,o=i.stache(document.getElementById("{{accessoriesClient-frag}}").innerHTML)(new i.Map(t.body)),l=i.stache(document.getElementById("{{filterOptions-frag}}").innerHTML)(new i.Map(t.body)),a('overlay[data-uid="overlay-filter"]').find("#as-filter-overlay-container").html(l),m.options.dataInternalSearchUrl(t.body.internalSearchUrl),m.options.paginationUrl=t.body.internalSearchUrl):o=i.stache(a("#\\{\\{noSearchClient-frag\\}\\}").html())(new i.Map(t.body)):e.indexOf("retail")!==-1&&(t.body.hasResults?(o=i.stache(a("#\\{\\{appleStoreClient-frag\\}\\}").html())(new i.Map(t.body)),m.options.dataInternalSearchUrl(t.body.internalSearchUrl),m.options.paginationUrl=t.body.internalSearchUrl):o=i.stache(a("#\\{\\{noSearchClient-frag\\}\\}").html())(new i.Map(t.body))),s="object"==typeof t?o:"<h1>Hello World</h1>"},setContent:function(e,t){var a=s.element;a.append(e)},doneCallback:function(){m.activateTab(e),a(".as-search-results").removeAttr("style"),w.linkTrackVars=b.noOfResultsProp+","+b.defaultTabNameProp+","+b.searchTermProp,w[b.noOfResultsProp]=c,w[b.defaultTabNameProp]="Other:"+d,w[b.searchTermProp]=p,m.fireMicroEvent(w),m.toggleNavigationArrow(g,f),m.currentTabId().indexOf("accessories")!==-1&&(window.setTimeout(function(){new h(a("as-sort-wrap")),new u(a("as-accessories"));m.initializeMinigallery()},0),a.AsSupport.isMobileOptimized&&m.equalizeProductInfoTile()),m.pageSpinnerLoading(!1),m.options.dfd.resolve()},failCallback:function(e){m.pageSpinnerLoading(!1)}},s=new r(y,n),s.options.content({type:"ajax",val:v})},sendFeedback:function(e,t,s){var i=e.data(this.options.aiFeedBack)||"",n=t&&t.target&&!t.metaKey&&a(t.target).closest("a[href]");i.length<1&&(window.location=n.attr("href")),i.length>0&&a.ajax({url:i}).done(s)},trackOneBoxClick:function(e){var t,s,i=this.options.metrics,n={};void 0===a(e.target).attr("href")||null===a(e.target).attr("href")?(s=a(e.target).closest("a"),t=s.attr("href")||void 0):t=e.target.attr("href")||void 0,void 0!==t&&(n.linkTrackVars=i.clickLinkProp+","+i.clickUrlProp,n[i.oneBoxUrl]=t,n[i.oneBoxTab]="accessories : O",this.fireMicroEvent(n,e))},toggleTabIndexForFilters:function(){a(".as-search-results").hasClass("as-filter-open")?(a(".as-accordion-button").attr("tabindex","0"),a(".as-filter-option").attr("tabindex","0"),a(".as-searchmoreless-toggle").attr("tabindex","0")):(a(".as-accordion-button").attr("tabindex","-1"),a(".as-filter-option").attr("tabindex","-1"),a(".as-searchmoreless-toggle").attr("tabindex","-1"))},pageSpinnerLoading:function(e){var t=a('div[role="alert"]');e===!0?(t.text(this.options.loadingText),window.setTimeout(function(){t.innerHTML=""},500),a("#tabs").addClass("as-search-fade"),a("#page .loader-response").addClass("waitindicator")):e===!1&&(t.text(this.options.loadingCompleteText),window.setTimeout(function(){t.innerHTML=""},500),document.documentElement.clientWidth<750&&(a("#as-filter-mobile").removeClass("as-search-fade"),a("#as-filter-overlay-container .loader-response").removeClass("waitindicator")),a("#tabs").removeClass("as-search-fade"),a("#page .loader-response").removeClass("waitindicator"))},activateTab:function(e){if(this.initialLoad)this.reWriteUrl(window.location.search,window.location.hash,{nextPage:null,nextTab:e}),this.initialLoad=!1;else{var t=a("#tabs_"+e).find('input[type="text"]'),s=null;t&&(s=t.val()),s&&this.reWriteUrl(window.location.search,window.location.hash,{nextPage:s,nextTab:e})}this._super(e)},equalizeProductInfoTile:function(){var e,t=a(this.options.accessoriesProductTile);t.length>0&&(this.groupIndex=1,i.each(t,function(t,s){a(t).addClass("group-"+this.groupIndex),s%2!==0&&(e=this.options.accessoriesProductTile+".group-"+this.groupIndex,new p(e,{selector:".as-producttile-info"}),this.groupIndex++)},this))}}),window.as.SearchNavigationTabController=n.SearchNavigationTabController,t.exports=n.SearchNavigationTabController},{"./MiniGallery-flex.js":21,"./WebSearchResults-flex.js":23,"./WebSearchResultsFilter-flex.js":26,"@aos/as-analytics/src/Tracking":"@aos/as-analytics/src/Tracking","@aos/as-elements/src/util/env/env.js":"@aos/as-elements/src/util/env/env.js","@aos/as-elements/src/util/event/event.js":"@aos/as-elements/src/util/event/event.js","@aos/as-elements/src/util/string/string.js":"@aos/as-elements/src/util/string/string.js","@aos/as-elements/src/util/support/support.js":"@aos/as-elements/src/util/support/support.js","@aos/as-legacy/src/external/content/Content":"@aos/as-legacy/src/external/content/Content","@aos/as-legacy/src/external/tabcontroller/TabController":11,"@aos/as-legacy/src/shared/equalizer/Equalizer":"@aos/as-legacy/src/shared/equalizer/Equalizer",can:"can","can/construct/super/super":"can/construct/super/super",jquery:"jquery"}],23:[function(e,t,s){var a=e("jquery"),i=e("can");e("can/construct/super/super");var n={},o=e("@aos/as-analytics/src/Tracking");e("@aos/as-elements/src/util/event/event.js");window.as.Tracking=o,n.SortDropDown=i.Control.extend({defaults:{asSortDrawer:"#as-sort-drawer",asSortButton:"#as-sort-button",selectedSortLBL:"#as-sort-selected",sortSelected:".as-search-sort-links",nativeSortSelectTag:".as-sortselect-tag",sortChevron:"#as-sort-chevron",sortDrawerLastElement:"#as-sort-drawer ul li:last",visibleSection:i.compute(null),isSortDrawerVisible:i.compute(!1),clickIsOnSortButton:i.compute(!1),metrics:{clickLinkProp:"eVar6"}}},{init:function(e,t){var s=this;a(this.options.nativeSortSelectTag).bind("change",function(e){var t={};window.location.hash=a(this).val(),a("#tabs").addClass("as-search-fade"),a("#as-search-results").addClass("as-search-fade"),a("#page .loader-response").addClass("waitindicator"),t.linkTrackVars=s.options.metrics.clickLinkProp,t[s.options.metrics.clickLinkProp]='D=pageName+"|sort by|'+a.trim(e.target.selectedOptions[0].text)+'"',s.fireMicroEvent(t,e)}),a(this.options.nativeSortSelectTag).click(function(e){e.stopPropagation(),s.trackClickOnDrawer()}),a("document").on("touchend",function(e){this.activeElement===this.options.nativeSortSelectTag&&a(this.options.nativeSortSelectTag).focusout()}),a(".as-search-navbar > div").keydown(function(e){e.stopPropagation?e.stopPropagation():window.event&&(window.event.cancelBubble=!0),e.keyCode!==a.AsEvent.Keyboard.Tab&&a(".as-search-sort-wrapper").has(e.target).length>0&&s.keyDown(e)}),a(".as-category-landing > div").keydown(function(e){e.stopPropagation?e.stopPropagation():window.event&&(window.event.cancelBubble=!0),e.keyCode!==a.AsEvent.Keyboard.Tab&&a(".as-search-sort-wrapper").has(e.target)&&s.keyDown(e)}),a(s.options.asSortButton).click(function(e){s.onclicked(a(this),e)}),a(s.options.sortSelected).click(function(e){return a(this).hasClass("as-search-selected-option")?(e.preventDefault(),!1):void s.sortOptionClicked(a(this),e)}),a(document.body).click(function(e){s.closeSortDrawer(a(this),e)}),a(s.options.asSortDrawer).mouseleave(function(){s.options.isSortDrawerVisible()&&window.setTimeout(function(){s.makeSortDrawerToggle()},500)}),a.AsSupport.isIe&&a.AsSupport.ieVersion<9&&s.changeHashInIE8()},"{sortDrawerLastElement} focusout":"windowTabbing",windowTabbing:function(e,t){this.closeSortDrawer(a(this),t)},changeHashInIE8:function(){var e;a(".as-search-sort-links").each(function(){e=a(this).attr("href").replace("#!","?"),a(this).attr("href",e)})},onclicked:function(e,t){t.stopPropagation?t.stopPropagation():window.event&&(window.event.cancelBubble=!0),this.makeSortDrawerToggle(),this.trackClickOnDrawer(),this.options.clickIsOnSortButton(!0)},closeSortDrawer:function(e,t){this.options.clickIsOnSortButton()&&this.options.clickIsOnSortButton(!1);var s=a(this.options.asSortDrawer);a(this.options.asSortButton);s.is(e.target)||this.options.clickIsOnSortButton()||!a(this.options.asSortDrawer).hasClass("as-open-drawer")||0!==s.has(e.target).length||(a(this.options.asSortDrawer).removeClass("as-open-drawer"),this.options.isSortDrawerVisible(!1),this.makeAllSortOptionsAccessible(!1),this.changeAriaForSortButton(),a(this.options.sortChevron).toggleClass("icon-chevrondown icon-chevronup"))},sortOptionClicked:function(e,t){if(!(a.AsSupport.isIe&&a.AsSupport.ieVersion<9)){var s="",i=a(this.options.selectedSortLBL),n={};i.html(e.text()),a(".as-search-results").addClass("sort-clicked"),a(this.options.asSortDrawer+" a").attr("aria-selected","false"),e.attr("aria-selected","true");var o=a('div[role="alert"]');if(o.text("Loading"),window.setTimeout(function(){o.innerHTML=""},500),a("#tabs").addClass("as-search-fade"),a("#as-search-results").addClass("as-search-fade"),a("#page .loader-response").addClass("waitindicator"),a(".as-search-results")&&a(".as-search-results").length>0){var r=a(window).scrollTop()-a(".as-search-results")[0].scrollHeight;r>0?a(".loader-response").css("margin-top","-15%"):a(".loader-response").css("margin-top",0)}n.linkTrackVars=this.options.metrics.clickLinkProp,n[this.options.metrics.clickLinkProp]='D=pageName+"|sort by|'+a.trim(e.text())+'"',this.fireMicroEvent(n,t),t.preventDefault(),s=a(e[0]).attr("href"),this.updateUrlHash(this.hashValue(s))}},updateUrlHash:function(e){var t="";for(var s in e)t+=s+"="+e[s]+"&";t="#!&"+t.replace(/\&$/,""),window.location.hash=t},fireMicroEvent:function(e,t,s){var i,n=s&&s.target&&!s.metaKey&&a(s.target).closest("a[href]");n&&n.length&&!s.isDefaultPrevented()&&(s.preventDefault(),i=function(){window.location=n.attr("href")}),e.linkTrackEvents=e.linkTrackEvents||"None",o.track(null,"searchresults",e,i)},hashValue:function(e){var t,s={},a=[];if(e&&e.length>0){t=e.replace(/#!/,""),a=t.split("&");for(var i=0;i<a.length;i++){var n;if(a[i].length>0)switch(n=a[i].split("=")[0]){case"s":s.s=a[i].split("=")[1]||"";break;case"fh":s.fh=a[i].split("=")[1]||"";break;case"f":s.f=a[i].split("=")[1]||""}}}return s},makeSortDrawerToggle:function(){var e=a(".as-search-selected-option");a(this.options.asSortDrawer).hasClass("as-open-drawer")?(a(this.options.asSortDrawer).removeClass("as-open-drawer"),this.options.isSortDrawerVisible(!1),this.makeAllSortOptionsAccessible(!1),this.changeAriaForSortButton(),a(this.options.sortChevron).toggleClass("icon-chevrondown icon-chevronup")):(a(this.options.asSortDrawer).addClass("as-open-drawer"),e.focus(),this.options.isSortDrawerVisible(!0),this.changeAriaForSortButton(),this.makeAllSortOptionsAccessible(!0),a(this.options.sortChevron).toggleClass("icon-chevrondown icon-chevronup"))},changeAriaForSortButton:function(){var e=(a(this.options.asSortDrawer),a(this.options.asSortButton));"true"===e.attr("aria-expanded")?e.attr("aria-expanded","false"):e.attr("aria-expanded","true")},makeAllSortOptionsAccessible:function(e){e?a(this.options.sortSelected).attr("tabindex","0"):a(this.options.sortSelected).attr("tabindex","-1")},keyDown:function(e){var t,s=e.target,i=e.keyCode,n=a(".as-search-sort-list .as-search-sort-listitems").first().find("a"),o=a(".as-search-sort-list .as-search-sort-listitems").last().find("a"),r=a(".as-search-selected-option"),l=a(".as-search-sort-list .as-search-sort-listitems a");i===a.AsEvent.Keyboard.Esc&&a(this.options.asSortDrawer).hasClass("as-open-drawer")&&this.makeSortDrawerToggle(),a(s).hasClass("as-search-sort-button")&&(i!==a.AsEvent.Keyboard.Return&&i!==a.AsEvent.Keyboard.Space||(e.preventDefault(),a(this.options.asSortButton)[0].click(),a(this.options.asSortDrawer).hasClass("as-open-drawer")&&window.setTimeout(function(){r.focus()},100))),a(s).hasClass("as-search-sort-links")===!0&&a(this.options.asSortDrawer).hasClass("as-open-drawer")&&(i===a.AsEvent.Keyboard.ArrowDown&&(e.preventDefault?e.preventDefault():e.returnValue=!1,a(document.activeElement).text()===o.text()?n.focus():(t=l.index(document.activeElement),a(l[t+1]).focus())),i===a.AsEvent.Keyboard.ArrowUp&&(e.preventDefault?e.preventDefault():e.returnValue=!1,a(document.activeElement).text()===n.text()?o.focus():(t=l.index(document.activeElement),a(l[t-1]).focus())))},trackClickOnDrawer:function(){var e={};e.linkTrackVars=this.options.metrics.clickLinkProp,e[this.options.metrics.clickLinkProp]='D=pageName+"|sort by|"',this.fireMicroEvent(e)}}),window.as.SortDropDown=n.SortDropDown,t.exports=n.SortDropDown},{"@aos/as-analytics/src/Tracking":"@aos/as-analytics/src/Tracking","@aos/as-elements/src/util/event/event.js":"@aos/as-elements/src/util/event/event.js",can:"can","can/construct/super/super":"can/construct/super/super",jquery:"jquery"}],24:[function(e,t,s){var a=e("jquery"),i=e("can");e("can/construct/super/super");var n=a,o={},r=(e("@aos/as-elements/src/util/support/support.js"),e("./WebSearchResultsViewToggle.js")),l=e("./WebSearchResultsLoadMoreBtn.js"),c=e("./WebSearchResultsFilter.js"),h=e("./WebSearchResultsSort.js"),u=e("./WebSearchResultsSidebarToggle.js"),d=e("./WebSearchResultsResetBtn.js"),p=e("./WebSearchResultsExternal.js"),f=e("@aos/as-analytics/src/AsMvt"),g=(e("@aos/as-legacy/src/external/gridshuffle/jquery.AsGridShuffle.js"),e("@aos/as-legacy/src/external/instantfeedback/jquery.AsInstantFeedback.js"),e("@aos/as-elements/src/util/string/string.js"),e("@aos/as-analytics/src/jquery.AsMetrics"),e("@aos/as-analytics/src/Tracking"));window.as.Tracking=g,window.as.mvt=f,o.WebSearchResults=i.Control.extend({defaults:{page:i.compute(1),viewType:i.compute(null),toolsOpen:i.compute(!1),timeout:9e4,revealDelay:100,toolsMinResults:3,colsSidebarClosed:3,colsSidebarOpen:2,loadingClass:"loading",loadedNextClass:"loaded-next",noResultsClass:"no-results",equalizeClass:"equalize",a11yClass:"a11y",veilClass:"veiled",unveilClass:"unveil",toolsToggleClass:"tools-open",fixedLoadingClass:"fixed",absoluteLoadingClass:"absolute",viewToggleSelector:".view-toggle",listColSelector:".list-container",listSelector:".search-results ol",gridSelector:".search-results ol.GridView",sidebarSelector:".results-sidebar",sidebarOpenSelector:"[class*=-open]",toolsSelector:".search-tools",toolsToggleSelector:".tools-toggle .filters",disabledToggleSelector:".tools-toggle .button[disabled]",loadMoreContainerSelector:".more-results",filterSelector:".filter-options",sortSelector:".sort-options",sortListSelector:".sort-options ul",resetBtnSelector:"button.reset-filters",oneBoxSelector:".one-box > .box-content",extResultsSelector:".bentos > .box-content",resultCountSelector:".result-count",statusSelector:".results-status",resultSelector:".result",resultLinkSelector:".result a",sliderSelector:".list-view-slider",disableAttr:"disabled",filterTemplate:"Filters",sortTemplate:"SortOptions",metrics:{delay:550,errMsgLength:50,prefix:"AOS: ",clickProp:"prop29",errorProp:"eVar25",oneBox:"O",featName:"Search Results"},ai:{notViewed:"NOTVIEWED",searched:"SEARCHED",lastSuggestions:"LastSuggestions"}}},{setup:function(e,t){t=t||{},t.data=i.compute(null),t.loadingResults=i.compute(!1),t.loadingNextPage=i.compute(!1),t.hasResults=i.compute(null),t.hasMoreResults=i.compute(!0),t.hasParams=i.compute(null),t.selectEvent=a.AsSupport.touch?"tap":"click",t.transitionendEvent=a.AsSupport.transitionEndName,t.sortRenderToggle=i.compute(!1),this._super(e,t)},init:function(e,t){t.dataJson&&(t.data(t.dataJson),i.route.ready())}," layoutchange":"handleLayoutChange","{can.route} change":"handleHashChange","{hasMoreResults} change":"handleHasMoreResults","{window} load":"handleWindowLoad","{data} change":"handleDataChange","{sidebarSelector} {transitionendEvent}":"handleSidebarTransitionEnd","{loadingResults} change":"handleLoadingResultsChange","{loadingNextPage} change":"handleLoadingNextPageChange","{viewType} change":"handleViewChange","{page} change":"handlePageChange","{toolsOpen} change":"handleToolsOpenChange","{hasResults} change":"handleHasResultsChange","{hasParams} change":"handleHasParamsChange","{resultLinkSelector} {selectEvent}":"handleResultLinkSelect","{oneBoxSelector} {selectEvent}":"handleOneBoxSelect","{window} scroll":"handleSpinnerPosition","{window} resize":"handleIPhoneZoom",handleLayoutChange:function(){var e=this;window.setTimeout(function(){e.equalizeColHeight()},0)},handleHashChange:function(){var e=i.route.attr(),t=this.options.data()?this.options.data().internalSearchUrl:null;this.options.hasParams(!i.isEmptyObject(e)),!t||this.loadingDocument&&i.isEmptyObject(e)||(this.options.loadingResults(!0),this.requestData(t,{params:e}))},handleHasMoreResults:function(){this.clearAdditionalPlaceHolders()},handleWindowLoad:function(){this.loadingDocument=!1},handleDataChange:function(e,t,s,a){a?(a.dimensions&&s.dimensions&&this.setFilterStates(a.dimensions,s.dimensions),this.updatePage(s)):this.initPage(s)},handleSidebarTransitionEnd:function(e,t){var s=t&&t.originalEvent?t.originalEvent.propertyName:null,a=this.element.find(this.options.disabledToggleSelector);i.trigger(this.element,"layoutchange"),this.loadMoreBtn&&this.hidePartialRows(),s&&s.indexOf("transform")!==-1&&(this.toggleSidebarTogglerState(a,!0),this.sidebarIsOpen()&&this.setTransform(e,"none"))},handleLoadingResultsChange:function(e){var t,s=this.element.find(this.options.statusSelector),a=e(),i=this.options.data().ui;this.element.toggleClass(this.options.loadingClass,a),s.length&&(s.toggleClass(this.options.a11yClass,!a),this.handleSpinnerPosition()),i&&i.state&&(t=a?i.state.loading:i.state.loaded,this.updateAtStatus(t))},handleLoadingNextPageChange:function(e){var t,s=this.options.data().ui;this.element.toggleClass(this.options.loadedNextClass,!e()),s&&s.state&&(t=e()?s.state.loadingMore:this.loadMoreBtn?"":s.state.loaded,this.updateAtStatus(t))},handleViewChange:function(e,t,s,a){var i,o,r,l=this.element.find(this.options.listSelector),c=this.element.find(this.options.sliderSelector);l.length?(i=l.filter("[class*=View]").get(0),o=i?i.className.match(/\w+View/):null,l.hasClass(s)||(r=a||o||"",l.toggleClass(s+" "+r)),c.length&&!c.hasClass(s)&&(r=a||"",c.toggleClass(s+" "+r)),(!n("html").hasClass("handheld")||null!=a&&0===a.length)&&this.renderResults(this.options.data().results.list,{view:s})):this.unveil()},handlePageChange:function(e){e()>1&&this.requestNextPage(e())},handleToolsOpenChange:function(e){this.options.data().oneBox||this.toggleSidebar(e(),this.options.toolsToggleClass,this.toolsToggle)},handleHasResultsChange:function(e){var t=this.element.find(this.options.statusSelector),s=this.options.data().ui;this.element.toggleClass(this.options.noResultsClass,!e()),t.length&&t.toggleClass(this.options.a11yClass,e()),s&&s.error&&this.updateAtStatus(e()?"":s.error.noResult),e()||a("html, body").animate({scrollTop:0},500)},handleHasParamsChange:function(e){e()&&this.options.toolsOpen(!0)},handleResultLinkSelect:function(e,t){var s=e.closest(this.options.resultSelector);s.length&&this.trackResultClick(i.data(s,"resultData"),t)},handleOneBoxSelect:function(e,t){this.trackOneBoxClick(t)},initPage:function(e){var t=this,s=this.element.find(this.options.viewToggleSelector),n=this.element.find(this.options.loadMoreContainerSelector),o=this.element.find(this.options.filterSelector),f=this.element.find(this.options.sortSelector),g=this.element.find(this.options.toolsToggleSelector),m=this.element.find(this.options.resetBtnSelector),v=this.element.find(this.options.extResultsSelector),b=this.element.find("."+this.options.noResultsClass),S=e.ui&&e.ui.description?e.ui.description:null;this.loadingDocument=!0,this.sidebarIsOpen=i.compute(function(){return t.element.filter(t.options.sidebarOpenSelector).length>0}),this.toolsShouldDisplay=i.compute(function(){return t.resultTypeCount(e.results.list,"product")>=t.options.toolsMinResults&&!e.oneBox}),this.sidebarTogglers=[],e.results&&e.results.total>0&&this.options.hasResults(void 0!==e.results.list&&e.results.list.length>0),this.options.hasMoreResults(e.results.hasMoreResults),e.hasError&&this.trackResultError(b.text()),this.loadAiProps(e),this.sendInitialAiUpdate(),s.length&&e.results.total>0&&r?this.viewToggle=new r(s,{viewType:this.options.viewType}):s.hide(),n.length&&l?this.loadMoreBtn=new l(n,{page:this.options.page,data:e,loadingNextPage:this.options.loadingNextPage,hasMoreResults:this.options.hasMoreResults}):n.hide(),this.toolsShouldDisplay()?(o.length&&e.dimensions&&c&&(i.each(e.dimensions,function(e){e.expanded=!1,e.lessDisabled=!1}),this.renderFilterOptions(e.dimensions)),f.length&&e.sortOptions&&h&&(this.renderSortOptions(e.sortOptions),this.sorts=new h(f,{loadingResults:this.options.loadingResults,sortRenderToggle:this.options.sortRenderToggle})),g.length&&u&&!a("html").hasClass("handheld")&&(this.toolsToggle=new u(g,{sidebarOpen:this.options.toolsOpen,sidebarSelector:"#tools-form",sidebarEl:this.element.find(this.options.toolsSelector),atStr:{showPanel:S?S.showPanel:"",hidePanel:S?S.hidePanel:""},omniture:{pageName:e.omniture?e.omniture.pageName:"",sidebarType:"Filter"}}),this.sidebarTogglers.push(this.toolsToggle)),m.length&&d&&(this.resetBtn=new d(m,{loadingResults:this.options.loadingResults,hasParams:this.options.hasParams}))):(o.hide(),f.hide(),g.hide(),m.hide()),v.length&&e.externalSources&&p?this.renderExtResults(e.externalSources):v.hide(),e.defaultViewDisplay&&this.options.viewType(e.defaultViewDisplay),e.oneBox&&this.renderOneBox(e.oneBox),e.pageTitle&&this.setPageTitle(e.pageTitle),e.canonicalLink&&this.setCanonicalLink(e.canonicalLink),e.results.resultCount&&this.setResultCount(e.results.resultCount)},updatePage:function(e){var t=e.results,s=e.ui,a=s&&s.error?s.error.noResult:"";this.setPageTitle(e.pageTitle),this.setCanonicalLink(e.canonicalLink),this.setResultCount(t.resultCount),this.options.hasResults(void 0!==t&&t.total>0&&void 0!==t.list&&t.list.length>0),this.options.hasMoreResults(t.hasMoreResults),e.hasError&&this.trackResultError(a),this.appendUiData(t.list),this.renderResults(t.list),e.sortOptions&&this.renderSortOptions(e.sortOptions),e.dimensions&&this.renderFilterOptions(e.dimensions),this.options.page(t.page),i.trigger(this.element,"layoutchange"),this.unveil()},requestData:function(e,t){var s=t&&t.params||"",a=t&&t.successCallback||this.requestSuccess,n=!t||void 0===t.async||t.async;i.ajax({url:e,data:s,dataType:"json jsonrpc",async:n,timeout:this.options.data().internalSearchTimeout||this.options.timeout,success:i.proxy(a,this),error:i.proxy(this.requestError,this)})},requestSuccess:function(e){this.options.loadingResults(!1),e&&e.results&&this.options.data(e)},requestNextPage:function(e){var t=this.options.data().internalSearchUrl,s=a.extend(i.route.attr(),{page:e});t&&(this.options.loadingNextPage(!0),this.requestData(t,{params:s,successCallback:this.renderNextPage}))},renderNextPage:function(e){var t,s,n,o,r=this.options.data().results.list;r&&e&&e.results&&(e.results.list&&(t=e.results.list,this.renderResults(t,{insertMethod:"append"}),a.merge(r,t)),this.loadMoreBtn&&(n=this.element.find(this.options.resultSelector),s=e.results.range.start,n.length>=s&&(o=n.eq(s-1),o.length&&o.prepend('<div class="a11y">'+e.ui.state.loaded+"</div>").attr("tabindex",-1).focus().one("blur",function(){a(this).find(".a11y").remove()}))),this.options.hasMoreResults(e.results.hasMoreResults),i.trigger(this.element,"layoutchange"),this.unveil()),this.options.loadingNextPage(!1)},requestError:function(e,t){var s=this.options.data().ui;this.options.loadingResults(!1),this.options.loadingNextPage(!1),s&&s.state&&this.updateAtStatus(s.state.loadingError),this.options.page(this.options.data().results.page),window.console&&window.console.log("Data request error ("+t+").")},renderTemplate:function(e,t,s){var i=a("#\\{\\{"+e+"\\}\\}"),n=this.element.find(t),o=s&&s.data||this.options.data(),r=s&&s.insertMethod||"replace";if(1===i.length&&n.length&&o)if("Filters"===e){var l=this;setTimeout(function(){l.insertFragment(e,n,o,r)},0)}else this.insertFragment(e,n,o,r)},insertFragment:function(e,t,s,a){var n=i.view("{{"+e+"}}",s);switch(a){case"append":t.append(n);break;case"prepend":t.prepend(n);break;case"replace":t.html(n);break;default:t.html(n)}},renderSortOptions:function(e){e&&(this.renderTemplate(this.options.sortTemplate,this.options.sortListSelector,{data:{sortOptions:e}}),this.options.sortRenderToggle(!this.options.sortRenderToggle()))},appendDisplayName:function(e){e&&i.each(e,function(e){var t=e.displayName;t&&i.each(e.values,function(e){e&&(e.displayName=t)})})},renderFilterOptions:function(e){var t=this.options.data().ui||"";e&&(this.appendDisplayName(e),this.renderTemplate(this.options.filterTemplate,this.options.filterSelector,{data:{dimensions:e,ui:t}}))},renderResults:function(e,t){var s=this.element.find(this.options.listSelector),a=t&&t.view||this.options.viewType(),n=t&&t.insertMethod||"replace";this.appendUiData(e),this.renderTemplate(a,s,{data:{list:e},insertMethod:n}),i.trigger(this.element,"layoutchange"),f.activate(),this.unveil()},renderOneBox:function(e){var t=this.element.find(this.options.oneBoxSelector);t.length&&e.node&&(t.html(e.node),t.removeClass(this.options.loadingClass))},renderExtResults:function(e){var t=this.element.find(this.options.extResultsSelector);e&&t.length&&p&&(this.extResults=new p(t,{data:e}))},setResultCount:function(e){var t=this.element.find(this.options.resultCountSelector);t.length&&t.html(e)},setPageTitle:function(e){e&&window.document&&(window.document.title=this.decodeEntities(e))},setCanonicalLink:function(e){e&&window.document&&window.document.querySelector('link[rel="canonical"]').setAttribute("href",e)},setFilterStates:function(e,t){var s;e&&t&&i.each(t,function(t,a){s=e[a],t.expanded=!(!s||!s.expanded)&&s.expanded,t.lessDisabled=!(!s||!s.lessDisabled)&&s.lessDisabled})},setTransform:function(e,t){e&&e.length&&e.css("transform",t)},appendUiData:function(e){var t=this.options.data().ui||"";e&&i.each(e,function(e){e.ui=t})},updateAtStatus:function(e){if(this.element){var t=this.element.find(this.options.statusSelector);t.length&&t.html(e)}},decodeEntities:function(e){if(e)return i.trim(e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&apos;/g,"'"))},unveil:function(){var e,t=a("."+this.options.veilClass),s=0,i=this,n=function(s){var n=a(t[s]);n.length?n.removeClass(i.options.veilClass).addClass(i.options.unveilClass):window.clearInterval(e)};this.loadMoreBtn&&this.hidePartialRows(),e=window.setInterval(function(){n(s),s+=1},i.options.revealDelay)},equalizeColHeight:function(){var e,t,s=this.element.find(this.options.sidebarSelector),i=this.element.find(this.options.listColSelector),n=this.element.find("."+this.options.noResultsClass),o=i.length?i:n,r=this.element.find(this.options.loadMoreContainerSelector),l=this.options.equalizeClass;this.sidebarIsOpen()&&s.length&&o.length?(s.each(function(){"none"!==a(this).css("display")&&(e=a(this).children().first().height())}),t=o.children().first().height()+r.height(),s.toggleClass(l,e<t),o.toggleClass(l,t<e)):(s.addClass(l),o.removeClass(l))},showAllGridItems:function(){this.element.find(this.options.gridSelector).children().show()},hidePartialRows:function(){var e,t=this.element.find(this.options.gridSelector).children(),s=this.sidebarIsOpen()?this.options.colsSidebarOpen:this.options.colsSidebarClosed,a=0;if(this.showAllGridItems(),t.length&&(e=t.length%s,e>0&&this.options.hasMoreResults()))for(a;a<e;a+=1)t.eq(-1-a).hide()},toggleSidebar:function(e,t,s){var n=s&&s.options?s.options.sidebarEl:null,o=this;this.setTransform(n,""),e&&this.closeAllSidebars(s),s&&s.element&&this.toggleSidebarTogglerState(s.element,!1),this.loadMoreBtn&&this.showAllGridItems(),this.shuffleGridView(e),e&&!a.AsSupport.touch?window.setTimeout(function(){o.element.toggleClass(t,e)},0):o.element.toggleClass(t,e),i.trigger(this.element,"layoutchange")},toggleSidebarTogglerState:function(e,t){e.length&&a.AsSupport.transition&&!a.AsSupport.touch&&e.prop(this.options.disableAttr,!t)},closeAllSidebars:function(e){i.each(this.sidebarTogglers,function(t){t!==e&&t.options.sidebarOpen(!1)})},shuffleGridView:function(e,t){var s=this.element.find(this.options.gridSelector),i=e?this.options.colsSidebarClosed:this.options.colsSidebarOpen,n=e?this.options.colsSidebarOpen:this.options.colsSidebarClosed;!a.AsSupport.transition||a.AsSupport.touch||a("html").hasClass("handheld")||(t=t||1,a.AsGridShuffle(s,{startColCount:i,endColCount:n,startIndex:t}))},resultTypeCount:function(e,t){var s=0;return e&&e.length&&t&&i.each(e,function(e){e.resultType&&e.resultType.toLowerCase()===t.toLowerCase()&&(s+=1);
}),s},trackResultClick:function(e,t){var s=e.resultRank,i=e.resultTypeSuffix,n=e.articleID,o=this.options.metrics,r={},l=a.AsInstantFeedback;s&&i&&(r.linkTrackVars=o.clickProp,r[o.clickProp]=o.prefix+s+i,this.fireMicroEvent(r,t)),l&&l.isAvailable()&&this.feedback&&this.feedback.query&&this.feedback.locale&&this.feedback.model&&n&&s&&(l.setToRead({query:this.feedback.query,locale:this.feedback.locale,model:this.feedback.model,articleID:n,position:s}),l.clear(this.options.ai.notViewed))},trackOneBoxClick:function(e){var t=this.options.metrics,s={};s.linkTrackVars=t.clickProp,s[t.clickProp]=t.prefix+t.oneBox,this.fireMicroEvent(s,e)},trackResultError:function(e){if(e){var t,s=this.options.metrics;e=a.AsString.truncate(a.trim(e),s.errMsgLength),t={eVar:s.errorProp,slot:"Error",feature:s.featName,action:e},a.AsMetrics.fireMicroEvent(t)}},fireMicroEvent:function(e,t){var s=t&&t.target&&!t.metaKey&&a(t.target).closest("a[href]"),i=null;s&&s.length&&!t.isDefaultPrevented()&&(t.preventDefault(),i=function(){window.location=s.attr("href")}),e.linkTrackEvents=e.linkTrackEvents||"None",g.track(null,"searchresults",e,i)},loadAiProps:function(e){e&&e.results&&(this.feedback={query:e.searchTerm||"",locale:e.results.locale||"",model:e.results.model||""})},handleSpinnerPosition:function(){var e,t,s;this.element.hasClass(this.options.loadingClass)&&this.element.hasClass(this.options.toolsToggleClass)&&(t=this.element.find(this.options.listColSelector),s=this.element.find(this.options.statusSelector),e=a(window).scrollTop(),t.offset().top<e&&e>t.height()-200?s.removeClass(this.options.fixedLoadingClass).addClass(this.options.absoluteLoadingClass):s.removeClass(this.options.absoluteLoadingClass).addClass(this.options.fixedLoadingClass))},handleIPhoneZoom:function(){var e=window.document.documentElement.clientWidth/window.innerWidth,t=this.element.find(this.options.statusSelector);window.navigator.userAgent.match("iPhone")&&(e>2?t.addClass("zoomed"):t.removeClass("zoomed"))},sendInitialAiUpdate:function(){var e,t,s=a.AsInstantFeedback;s&&s.isAvailable&&s.isAvailable()&&this.feedback&&this.feedback.query&&this.feedback.locale&&this.feedback.model&&(t=this.feedback,e=s.get(this.options.ai.lastSuggestions),e&&i.each(e,function(e,s){t["lastSuggestions."+s]=e}),s.send(this.options.ai.searched,t),s.set(this.options.ai.notViewed,{query:this.feedback.query,locale:this.feedback.locale,model:this.feedback.model}))},clearAdditionalPlaceHolders:function(){}}),window.as.WebSearchResults=o.WebSearchResults,t.exports=o.WebSearchResults},{"./WebSearchResultsExternal.js":25,"./WebSearchResultsFilter.js":27,"./WebSearchResultsLoadMoreBtn.js":28,"./WebSearchResultsResetBtn.js":29,"./WebSearchResultsSidebarToggle.js":30,"./WebSearchResultsSort.js":31,"./WebSearchResultsViewToggle.js":32,"@aos/as-analytics/src/AsMvt":"@aos/as-analytics/src/AsMvt","@aos/as-analytics/src/Tracking":"@aos/as-analytics/src/Tracking","@aos/as-analytics/src/jquery.AsMetrics":"@aos/as-analytics/src/jquery.AsMetrics","@aos/as-elements/src/util/string/string.js":"@aos/as-elements/src/util/string/string.js","@aos/as-elements/src/util/support/support.js":"@aos/as-elements/src/util/support/support.js","@aos/as-legacy/src/external/gridshuffle/jquery.AsGridShuffle.js":9,"@aos/as-legacy/src/external/instantfeedback/jquery.AsInstantFeedback.js":10,can:"can","can/construct/super/super":"can/construct/super/super",jquery:"jquery"}],25:[function(e,t,s){var a=e("jquery"),i=e("can");e("can/construct/super/super");var n={};n.WebSearchResultsExternal=i.Control.extend({defaults:{template:"{{Bentos}}",descSize:60,propMap:["noResults","moreResultsUrl","header","footer","search"],dataStatus:i.compute(null)}},{init:function(){var e=this;if(this.options.data){if(this.groupMap=[{name:"product",requestRequired:!0,url:this.options.data.externalXmlUrl,dataType:"xml",container:"GSP:nth-child(1) > RES > R",contentMap:{title:[{selector:"T",nodeType:"firstChild"}],url:[{selector:"U",nodeType:"firstChild"}],desc:[{selector:'MT[N = "Description"][V != ""]',nodeType:function(e){return e.getAttribute("V")}},{selector:"S",nodeType:"firstChild"}]}},{name:"iTunes",requestRequired:this.options.data.iTunes.searchResultEnabled,url:this.options.data.iTunes.searchResultsUrl,dataType:"jsonp",container:"results",contentMap:{title:["trackCensoredName","collectionCensoredName"],author:["artistName"],genre:["primaryGenreName"],url:["trackViewUrl","collectionViewUrl","artistViewUrl"],thumbnail:["artworkUrl100"]}},{name:"support",requestRequired:!0,url:this.options.data.externalXmlUrl,dataType:"xml",container:"GSP:nth-child(2) > RES > R",contentMap:{title:[{selector:"T",nodeType:"firstChild"}],url:[{selector:"U",nodeType:"firstChild"}],desc:[{selector:'MT[N = "Description"][V != ""]',nodeType:function(e){return e.getAttribute("V")}},{selector:"S",nodeType:"firstChild"}]}}],a("html").hasClass("handheld")){var t=this.groupMap[1];this.groupMap[1]=this.groupMap[2],this.groupMap[2]=t}this.createModel(this.groupMap),i.each(this.groupMap,function(t,s){t.requestRequired&&e.requestData(t.url,t.dataType,s)})}},"{dataStatus} change":function(){this.renderExtResults()},createModel:function(e){var t=this;this.model={bentos:[],descSize:this.options.data.externalResultDescriptionSize||this.options.descSize},i.each(e,function(e,s){var a={},n=t.options.data[e.name];a.name=e.name,a.results=[],i.each(t.options.propMap,function(e){n[e]&&(a[e]=n[e])}),t.model.bentos[s]=a})},requestData:function(e,t,s,a){a=a||9e4,i.ajax({url:e,dataType:t,timeout:a,success:i.proxy(function(e){this.mapDataToModel(e,s)},this),error:i.proxy(this.requestError,this)})},requestError:function(e,t){this.options.dataStatus(t),window.console&&window.console.log("Data request error ("+t+").")},getJsonValue:function(e,t){var s="";return i.each(t,function(t){if(e[t])return s=e[t],!1}),s},getXmlValue:function(e,t){var s,n,o="";return i.each(t,function(t){if(s=a(e).find(t.selector)[0])return n=t,!1}),s&&n&&(o="function"==typeof n.nodeType?n.nodeType(s):s[n.nodeType],o&&o.nodeValue&&(o=o.nodeValue)),o},mapDataToModel:function(e,t){var s,n=this.groupMap[t],o=n.contentMap,r=n.container,l=this,c=this.model.bentos[t].results,h=a.isXMLDoc(e);e&&(s=h?a(e).find(r).get():e[r],s&&o&&c&&i.each(s,function(e,t){var s={index:t};a.each(o,function(t,a){s[t]=h?l.getXmlValue(e,a):l.getJsonValue(e,a)}),c[t]=s})),this.options.dataStatus(n.name)},renderExtResults:function(){this.element.html(i.view(this.options.template,this.model))}}),window.as.WebSearchResultsExternal=n.WebSearchResultsExternal,t.exports=n.WebSearchResultsExternal},{can:"can","can/construct/super/super":"can/construct/super/super",jquery:"jquery"}],26:[function(e,t,s){var a=e("jquery"),i=e("can");e("can/construct/super/super");var n={},o=e("@aos/as-elements/src/util/support/support.js"),r=(e("@aos/as-elements/src/util/event/event.js"),e("@aos/as-analytics/src/jquery.AsMetrics"),e("@aos/as-elements/src/util/env/env.js"),e("@aos/as-analytics/src/Tracking"));window.as.Tracking=r,n.WebSearchResultsFilterFlex=i.Control.extend({defaults:{enabledFilterSelector:'.as-filter-option[aria-disabled!="true"]',disabledFilterSelector:".as-filter-option.disabled",extraActiveSelector:'.as-filter-extra [aria-checked="true"]',hiddenFilterSelector:'.as-filter-extra .as-filter-option[aria-disabled!="true"]',expandBtnSelector:".as-searchmoreless-toggle",disabledExpandBtnSelector:".as-searchmoreless-toggle.disabled",loadingResultsSelector:".search-wrapper.loading",textOptionSelector:".as-filter-option .filter-text",expandToggleClass:"expanded",expandableClass:"as-search-facet-expandable",disabledClass:"disabled",checkedAttr:"aria-checked",linkAttr:"href",omnitureAttr:"tracking",selectEvent:a.AsSupport.touch?"tap":"click",pressEvent:"mousedown",expanded:i.compute(null),lessDisabled:i.compute(null),selectedFilter:".as-filter-active",moreBtnSelector:"#Color_more",lessBtnSelector:"#Color_less",filterBtnOnMobile:"#as-filterbtn-mobile",jsonData:void 0,extraActiveFilterSelector:".as-filter-extra.as-filter-active",enableSelector:".as-search-filter-items .as-filter-item",accordionControl:".as-search-accordion-header[data-ase-materializer]",accordionItemSelector:".as-search-facet",resetSelector:".as-search-filter-reset",resetFlag:i.compute(!1),listOfFilters:".as-search-facet-materializer .as-filter-text-type",accordionHeader:".as-search-accordion-header",filterComponentSelector:"#as-search-filters",filterLinkSelector:".as-search-filter-items .as-filter-option",floatingDiv:"#as-search-navbar",floatingDivPosition:"",resetLinkSelector:".as-search-filter-resettext",storeKeyCodeValues:0,prevScroll:0,filterOffset:0,needAttach:!1,attachMentOffset:0,oldOffset:0,flag:!1,oneTimeFilterOffsetValue:0,flagToStopScrollEvent:!1,checkTheHeightOfFiltersPresent:!1,flagToToggleSticky:!0,extraFilterOffsetObject:{extraFilterOffsetValue:0,isfilterOpened:!1},metrics:{resetLink:"eVar6"}}},{init:function(){var e,t,s=this,i=[];this.options.prevScroll=a(window).scrollTop(),a(s.options.resetLinkSelector).click(function(e){a.AsSupport.isIe&&a.AsSupport.ieVersion<9||(e.preventDefault(),window.location.hash="#!",s.pageSpinnerLoading(!0),s.fireOmnitureEventOnResetClick())}),a(s.options.resetSelector).click(function(e){a.AsSupport.isIe&&a.AsSupport.ieVersion<9||(s.pageSpinnerLoading(!0),s.fireOmnitureEventOnResetClick())}),a(".as-search-results").hasClass("as-filter-closed")?a(".as-search-filters").attr("aria-hidden","true"):a(".as-search-filters").attr("aria-hidden","false"),o.isIpad?a(".as-isdesktop").attr("aria-hidden",!0):a(".as-isipad").attr("aria-hidden",!0),a(".as-accessories-results").hasClass("as-search-desktop")&&a(".as-search-filters").height()<a(".as-search-results-tiles").height()&&(s.options.checkTheHeightOfFiltersPresent=!0),a(".as-filter-button").click(function(i){a(".imagesLoaded").each(function(e,t){a(this).addClass("as-dummy-img"),a(a(this).parent().find(".as-dummy-container")[0]).removeClass("as-dummy-img")}),a(".as-search-results").hasClass("as-filter-closed")&&a(".as-search-results").hasClass("as-category-landing")&&(a(window).scrollTop()<s.options.floatingDivPosition.top?a(".as-search-filters").css({top:"","margin-top":""}):a("#as-search-filters").offset().top+a("#as-search-filters").height()+s.options.extraFilterOffsetObject.extraFilterOffsetValue+s.options.filterOffset>=a(".as-globalfooter").offset().top-a(".as-pagination-align").outerHeight()&&a(".as-search-filters").css({top:""})),a(".as-search-results").toggleClass("as-filter-closed as-filter-open"),a.AsSupport.isIe||a(".as-filter-button").attr("disabled","disabled"),a.AsSupport.isIe&&a.AsSupport.ieVersion<=9&&!a(".as-search-results").hasClass("as-category-landing")&&a(".as-filter-button").attr("disabled","disabled"),a.AsSupport.isIe&&a.AsSupport.ieVersion<=9&&window.setTimeout(function(){a(".imagesLoaded").each(function(e,t){a(this).removeClass("as-dummy-img"),a(a(this).parent().find(".as-dummy-container")[0]).addClass("as-dummy-img")})},600),a(".as-search-results").hasClass("as-filter-closed")?a(".as-search-filters").attr("aria-hidden","true"):a(".as-search-filters").attr("aria-hidden","false"),a(".as-search-results").hasClass("as-filter-open")&&(e=a(".as-search-results-tiles").height()),a(".as-search-filters").removeClass("as-filter-notransition"),a(".as-search-desktop .as-search-results-tiles").removeClass("as-filter-notransition"),a(".as-search-desktop .as-search-results-tiles").toggleClass("as-search-results-width large-12"),a.AsSupport.isIpad?window.setTimeout(function(){a(".as-search-filters").toggleClass("as-filter-animation")},200):a(".as-search-filters").toggleClass("as-filter-animation"),a(".as-search-filters").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(e){a(".as-filter-button").removeAttr("disabled"),a(".imagesLoaded").each(function(e,t){a(this).removeClass("as-dummy-img"),a(a(this).parent().find(".as-dummy-container")[0]).addClass("as-dummy-img")})}),s.toggleTabIndexForFilters(),s.fireOmnitureEventOnFilterClick(),a(".as-search-results").hasClass("as-filter-closed")?a(".as-filter-button").attr("aria-expanded","false"):a(".as-filter-button").attr("aria-expanded","true"),a(".as-search-results").hasClass("as-category-landing")&&s.options.checkTheHeightOfFiltersPresent?a(".as-search-results").hasClass("as-filter-open")?"absolute"===a(".as-search-filters").css("position")?a(window).scrollTop()<s.options.floatingDivPosition.top?window.setTimeout(function(){a(".as-search-filters").css({position:"relative",top:"","margin-top":""})},600):s.options.flag&&(a("#as-search-filters").css({"margin-top":""}),window.setTimeout(function(){s.options.extraFilterOffsetObject.isfilterOpened?a("#as-search-filters").css({position:"relative",top:"","margin-top":s.options.extraFilterOffsetObject.extraFilterOffsetValue}):a("#as-search-filters").css({position:"relative",top:"","margin-top":s.options.extraFilterOffsetObject.extraFilterOffsetValue-(e-a(".as-search-results-tiles").height())+s.options.filterOffset}),t=e-a(".as-search-results-tiles").height(),a(".as-search-filter-container").css({transform:"translate3d(0px, 0px, 0px)"})},700)):"fixed"===a(".as-search-filters").css("position")&&a(".as-search-filters").css({position:"fixed",top:a(".as-search-navbar").height()+1,"margin-top":""}):"relative"===a(".as-search-filters").css("position")&&(a(".as-search-filters").css({position:"absolute",top:"","margin-top":s.options.extraFilterOffsetObject.extraFilterOffsetValue-t+s.options.filterOffset}),t=0):"absolute"===a(".as-search-filters").css("position")?window.setTimeout(function(){a(".as-search-filters").css({position:"relative",top:"","margin-top":""}),a.AsSupport.isIe&&a.AsSupport.ieVersion<=9&&!a(".as-search-results").hasClass("as-category-landing")&&a(".as-filter-button").removeAttr("disabled")},600):(a(".as-search-filters").css({position:"absolute",top:"","margin-top":""}),a.AsSupport.isIe&&a.AsSupport.ieVersion<=9&&!a(".as-search-results").hasClass("as-category-landing")&&window.setTimeout(function(){a(".as-filter-button").removeAttr("disabled")},500)),a.AsSupport.isIe&&s.handleWidthOnIE()}),i=s.getAllFacets();for(var n=0;n<i.length;n++)s.updateAccordionControl(i[n].id),s.controlViewForSelectedFilterAboveEight(i[n].id);a(s.options.expandBtnSelector).click(function(){s.handleMoreandLessBtnExpand(a(this))}),a(s.options.filterLinkSelector).click(function(e){var t=a(this).closest("li");s.handleActiveFilterClick(t,e)}),a(s.options.accordionHeader).click(function(){s.accordionHeaderClick(a(this))}),document.documentElement.clientWidth<750&&a("#as-filter-overlay-container").append("<div class='loader-response'></div>"),a(".as-filter-button").keydown(function(e){s.keyDown(e)}),a(s.options.filterBtnOnMobile).click(function(){s.handleClickOfFilterOnMobile(a(this))}),this.changeHrefOfFilters(),s.setOverlayLayoutWidth(),a(window).on("orientationchange",function(){s.setOverlayLayoutWidth()}),(a.AsSupport.isAndroidMobile||a.AsSupport.isAndroidInternet)&&a(window).resize(function(){s.setOverlayLayoutWidth()}),!s.options.flagToToggleSticky&&!a(".as-accessories-results").hasClass("as-search-mobile")||a(".as-search-results").hasClass("ie-oldie")||!a(".as-search-results").hasClass("as-category-landing")||!s.options.checkTheHeightOfFiltersPresent&&!a(".as-accessories-results").hasClass("as-search-mobile")||0!==a.AsSupport.iosVersion&&!a(".as-accessories-results").hasClass("as-search-mobile")||a("#as-search-navbar").length&&(s.options.flagToStopScrollEvent=!0,this.stickyUtility(),a(window).resize(function(){s.stickyUtility()}),a(window).scroll(function(){a.AsSupport.isIe&&a("#as-search-results").hasClass("as-search-fade")&&a("#as-sort-drawer").hasClass("as-open-drawer")&&a("#as-sort-drawer").removeClass("as-open-drawer");var e=a(window).scrollTop(),t=a(s.options.floatingDiv).height();e>=s.options.floatingDivPosition.top&&!s.options.flag?(a(s.options.floatingDiv).addClass("as-fixed-nav"),a(".as-fullwidth-border").css({position:"fixed",top:t}),a("#as-search-filters").css({position:"fixed",top:a(".as-search-navbar").height()+1,"margin-top":""}),a.AsSupport.isIe&&a(".as-search-results").hasClass("as-filter-open")&&a("#as-search-results").hasClass("as-search-fade")&&a("#as-search-filters").css({position:"relative",top:a(".as-search-navbar").height()+1,"margin-top":""}),a(s.options.floatingDiv).css("width",a(".as-accessories-results").width())):e<s.options.floatingDivPosition.top&&(a(s.options.floatingDiv).removeClass("as-fixed-nav"),a(".as-search-results").hasClass("as-filter-open")?a("#as-search-filters").css({position:"relative",top:"","margin-top":""}):a("#as-search-filters").removeAttr("style").css({position:"absolute"}),a(s.options.floatingDiv).css("width","auto"),a(".as-fullwidth-border").css({top:"",position:""}))}))},"{resetFlag} change":"handleResetToggle","{window} scroll":"handleScrollChange","{window} orientationchange":"handleOverlayScrimRotation",handleOverlayScrimRotation:function(){var e;window.setTimeout(function(){e=a("body").height(),a(".ase-overlay-screen").css("min-height",e+"px")},500)},handleWidthOnIE:function(){a(".as-category-landing").hasClass("as-filter-open")?a.AsSupport.isIe&&a(".as-search-results-width").css("width","100%").css("width","-=238px"):a(".as-category-landing").hasClass("as-filter-closed")&&a.AsSupport.isIe&&a(".as-search-results-tiles").css("width","100%")},handleScrollChange:function(){if(this.options.flagToToggleSticky&&!a(".as-accessories-results").hasClass("as-search-mobile")&&!a(".as-search-results").hasClass("ie-oldie")&&this.options.flagToStopScrollEvent&&this.options.checkTheHeightOfFiltersPresent&&a(".as-search-results").hasClass("as-category-landing")&&0===a.AsSupport.iosVersion&&a(window).scrollTop()>=a(".pd-billboard").height()+(a(".as-search-navbar").height()+1)){if(a(".as-search-results")&&a(".as-search-results").length>0){var e=a(window).scrollTop()-a(".as-search-results")[0].scrollHeight;e>0?a(".loader-response").css("margin-top","-15%"):a(".loader-response").css("margin-top",0)}this.options.prevScroll<=a(window).scrollTop()+3&&a("#as-search-filters").offset().top+a("#as-search-filters").height()+this.options.filterOffset>=a(".as-globalfooter").offset().top-a(".as-pagination-align").outerHeight()-2*a(".as-footnotes").outerHeight()-a(".as-loader-text").outerHeight()?(this.options.flag=!0,0===this.options.oneTimeFilterOffsetValue&&(this.options.oneTimeFilterOffsetValue=a("#as-search-filters").offset().top-(a(".pd-billboard").height()+2*a(".as-searchnav-placeholder").height())+this.options.filterOffset,a(".as-category-landing").hasClass("as-filter-open")?this.options.extraFilterOffsetObject.isfilterOpened=!0:this.options.extraFilterOffsetObject.isfilterOpened=!1,this.options.extraFilterOffsetObject.extraFilterOffsetValue=this.options.oneTimeFilterOffsetValue),a(".as-category-landing").hasClass("as-filter-open")?(a("#as-search-filters").css({position:"relative","margin-top":this.options.oneTimeFilterOffsetValue,top:""}),this.options.filterOffset=0,a(".as-search-filter-container").css({transform:"translate3d(0px, 0px, 0px)"})):(a("#as-search-filters").css({position:"absolute","margin-top":this.options.oneTimeFilterOffsetValue,top:""}),this.options.filterOffset=0,a(".as-search-filter-container").css({transform:"translate3d(0px, 0px, 0px)"}))):a(window).scrollTop()>=a(".pd-billboard").height()&&this.options.prevScroll>a(window).scrollTop()&&(0!==this.options.oneTimeFilterOffsetValue&&(this.options.oneTimeFilterOffsetValue=0),a("#as-search-filters").css("margin-top").length>0&&a(window).scrollTop()-(Number(a("#as-search-filters").css("margin-top").replace("px",""))+a(".pd-billboard").height()+a(".as-searchnav-placeholder").height())<a(".as-search-navbar").height()+1&&(this.options.flag=!1,a("#as-search-filters").css({position:"fixed",top:a(".as-search-navbar").height()+1}))),this.options.prevScroll<a(window).scrollTop()&&a(window).scrollTop()>=a(".pd-billboard").height()?a("#as-search-filters").offset().top+this.options.filterOffset+a("#as-search-filters").height()>a(window).height()+a(window).scrollTop()?this.options.needAttach?(this.options.filterOffset=Math.max(this.options.oldOffset+(this.options.attachMentOffset-a(window).scrollTop()),a(window).height()-(a(".as-search-navbar").height()+1)-a("#as-search-filters").height()),a(".as-search-filter-container").css({transform:"translate3d(0px, "+this.options.filterOffset+"px, 0px)"})):(this.options.needAttach=!0,this.options.attachMentOffset=a(window).scrollTop(),this.options.oldOffset=this.options.filterOffset):this.options.needAttach=!1:this.options.prevScroll>a(window).scrollTop()&&a(window).scrollTop()>=a(".pd-billboard").height()&&a("#as-search-filters").attr("style")&&a("#as-search-filters").attr("style").indexOf("margin-top")===-1&&(this.options.filterOffset<0?this.options.needAttach?(this.options.filterOffset=Math.min(this.options.oldOffset+(this.options.attachMentOffset-a(window).scrollTop()),0),a(".as-search-filter-container").css({transform:"translate3d(0px, "+this.options.filterOffset+"px, 0px)"})):(this.options.needAttach=!0,this.options.attachMentOffset=a(window).scrollTop(),this.options.oldOffset=this.options.filterOffset):this.options.needAttach=!1),this.options.prevScroll=a(window).scrollTop()}},stickyUtility:function(){"fixed"!==a("#as-search-navbar").css("position")&&(this.options.floatingDivPosition=a(this.options.floatingDiv).offset()),a(".as-searchnav-placeholder").height(a("#as-search-navbar").outerHeight())},handleMoreandLessBtnExpand:function(e){this.enableHiddenFilters(e.closest(".as-search-facet").attr("id"),e),e.toggleClass("as-search-more as-search-less"),e.siblings("button").toggleClass("as-search-less as-search-more")},setOverlayLayoutWidth:function(){a(".as-overlay-mobile .ase-overlay-popup").css("width",a("#page").width()-32)},handleResetToggle:function(){this.options.resetFlag?(a(this.options.resetSelector).css("display","inline-block"),a(".as-search-filter-resettext").attr("aria-hidden","false")):a(this.options.resetSelector).hide()},hashValue:function(e){var t,s={},a=[];if(e&&e.length>0){t=e.replace(/#!/,""),a=t.split("&");for(var i=0;i<a.length;i++){var n;if(a[i].length>0)switch(n=a[i].split("=")[0]){case"s":s.s=a[i].split("=")[1]||"";break;case"fh":s.fh=a[i].split("=")[1]||"";break;case"f":s.f=a[i].split("=")[1]||""}}}return s},controlViewForSelectedFilterAboveEight:function(e){var t=a("#"+e).find("ul").first(),s=t.find(this.options.extraActiveFilterSelector),i=a("#"+e).find(this.options.expandBtnSelector+".as-search-more"),n=a("#"+e).find(this.options.expandBtnSelector+".as-search-less");s.length>0&&(this.handleMoreandLessBtnExpand(i),n.attr("disabled","disabled"))},adjustMoreButton:function(){var e=this,t=[];t=e.getAllFacets();for(var s=0;s<t.length;s++)if(a("#"+t[s].id).hasClass(this.options.expandableClass)){var i=a("#"+t[s].id).find(this.options.listOfFilters);a(".as-search-filter-container").parent().hasClass("as-filter-mobile")?i.css("height","auto"):i.css("max-height",e.handleTheHeightOfFilters(a("#"+t[s].id)))}},handleTheHeightOfFilters:function(e){for(var t=e.find(this.options.enableSelector),s=0,i=0;i<t.length;i++)a(t[i]).hasClass("as-filter-extra")===!1&&(s+=a(t[i]).height()+4);return s},checkForExtraActiveFilters:function(e){var t=!1;return t},enableHiddenFilters:function(e,t){var s="#"+e+" li.as-filter-extra";a("#"+e+" ul").toggleClass(this.options.expandToggleClass),a(s).toggleClass("as-filter-shown")},getAllFacets:function(){var e=a(".as-search-filter-container .as-accordion-item").children(".as-search-facet");return e},updateAccordionControl:function(e){for(var t=(a("#"+e).find(this.options.accordionControl),a("#"+e).find(this.options.enableSelector)),s=0;s<t.length;s++)if(t&&t[s].className.indexOf("as-filter-active")!==-1){this.options.resetFlag(!0);break}},getFacetFromFilter:function(e){if(e)return e.closest(".as-search-facet").attr("id")},handleClickOfFilterOnMobile:function(e,t){a(".as-overlay-mobile").removeClass("as-search-hide"),window.scrollTo(0,0)},keyDown:function(e){this.options.storeKeyCodeValues=e.keyCode},handleActiveFilterClick:function(e,t){if(!(a.AsSupport.isIe&&a.AsSupport.ieVersion<9)){var s,i="",n=!1,o=!1;if(e.find(".as-filter-disabled").length>0)return t.preventDefault(),!1;this.pageSpinnerLoading(!0),a(".as-search-results").addClass("filter-clicked"),n=e.hasClass("as-search-image-item"),o=e.children().hasClass(".as-filter-disabled"),o||(e.toggleClass(this.options.selectedFilter),this.options.resetFlag(!0),n&&e.find(".colornav-link").toggleClass("current")),i=this.getFacetFromFilter(e)||null,this.trackFilterSelect(e),t.preventDefault(),s=a(e).find(".as-filter-option").attr("href"),this.updateUrlHash(this.hashValue(s))}},updateUrlHash:function(e){var t="";for(var s in e)t+=s+"="+e[s]+"&";t="#!&"+t.replace(/\&$/,""),window.location.hash=t},fireOmnitureEventOnFilterClick:function(){var e=window.s.pageName,t="Search Results Page",s="Filter",i={page:e,slot:t,feature:s,eVar:"eVar6",action:""};a.AsMetrics.fireMicroEvent(i)},fireOmnitureEventOnResetClick:function(){var e=this.options.metrics,t={};t.linkTrackVars=e.resetLink,a(".as-search-results").hasClass("as-category-landing")?t[e.resetLink]="D=pageName | category page | Filter | Reset Filter":t[e.resetLink]="D=pageName | search page | Filter | Reset Filter",t.linkTrackEvents="none",r.track(null,"searchresults",t,null)},accordionHeaderClick:function(e,t){this.options.flagToToggleSticky&&!a(".as-accessories-results").hasClass("as-search-mobile")&&!a(".as-search-results").hasClass("ie-oldie")&&this.options.flagToStopScrollEvent&&this.options.checkTheHeightOfFiltersPresent&&a(".as-search-results").hasClass("as-category-landing")&&0===a.AsSupport.iosVersion&&a(window).scrollTop()>=a(".pd-billboard").height()+(a(".as-search-navbar").height()+1)&&this.options.prevScroll<=a(window).scrollTop()+3&&a("#as-search-filters").offset().top+a("#as-search-filters").height()+this.options.filterOffset>=a(".as-globalfooter").offset().top-a(".as-pagination-align").outerHeight()-2.5*a(".as-footnotes").outerHeight()-a(".as-loader-text").outerHeight()&&a("#as-search-filters").css({position:"relative",top:"","margin-top":this.options.extraFilterOffsetObject.extraFilterOffsetValue}),e.toggleClass("as-accordion-isexpanded"),"true"===e.find(".as-accordion-button").attr("aria-expanded")?e.find(".as-accordion-button").attr("aria-expanded","false"):e.find(".as-accordion-button").attr("aria-expanded","true")},toggleTabIndexForFilters:function(){a(".as-search-results").hasClass("as-filter-open")?(a(".as-accordion-button").attr("tabindex","0"),a(".as-filter-option").attr("tabindex","0"),a(".as-searchmoreless-toggle").attr("tabindex","0"),this.options.storeKeyCodeValues!==a.AsEvent.Keyboard.Return&&this.options.storeKeyCodeValues!==a.AsEvent.Keyboard.Space||(a(".as-accordion-list .as-accordion-item:first .as-accordion-button").focus(),this.options.storeKeyCodeValues=0)):(a(".as-accordion-button").attr("tabindex","-1"),a(".as-filter-option").attr("tabindex","-1"),a(".as-searchmoreless-toggle").attr("tabindex","-1"))},changeHrefOfFilters:function(){if(!(a.AsSupport.isIe&&a.AsSupport.ieVersion<9)){var e;a(".as-filter-option").each(function(){e=a(this).attr("href").replace("?","#!&"),e=e.replace(/(&amp;)/g,"&"),e=e.replace("&sel=accessories",""),a(this).attr("href",e)})}},trackFilterSelect:function(e){var t=e.find("a"),s=window.s.pageName,i=t.data(this.options.omnitureAttr)||"",n={page:s,slot:"filters",feature:i,eVar:"eVar6",action:""};a.AsMetrics.fireMicroEvent(n)},pageSpinnerLoading:function(e){var t=a('div[role="alert"]');e===!0?(t.text("Loading"),window.setTimeout(function(){t.innerHTML=""},500),document.documentElement.clientWidth<750&&(a("#as-filter-mobile").addClass("as-search-fade"),a("#as-filter-overlay-container .loader-response").addClass("waitindicator")),a("#tabs").addClass("as-search-fade"),a("#as-search-results").addClass("as-search-fade"),a("#page .loader-response").addClass("waitindicator")):e===!1&&(t.text("loading complete"),window.setTimeout(function(){t.innerHTML=""},500),document.documentElement.clientWidth<750&&(a("#as-filter-mobile").removeClass("as-search-fade"),a("#as-filter-overlay-container .loader-response").removeClass("waitindicator")),a("#tabs").removeClass("as-search-fade"),a("#as-search-results").removeClass("as-search-fade"),a("#page .loader-response").removeClass("waitindicator"))}}),window.as.WebSearchResultsFilterFlex=n.WebSearchResultsFilterFlex,t.exports=n.WebSearchResultsFilterFlex},{"@aos/as-analytics/src/Tracking":"@aos/as-analytics/src/Tracking","@aos/as-analytics/src/jquery.AsMetrics":"@aos/as-analytics/src/jquery.AsMetrics","@aos/as-elements/src/util/env/env.js":"@aos/as-elements/src/util/env/env.js","@aos/as-elements/src/util/event/event.js":"@aos/as-elements/src/util/event/event.js","@aos/as-elements/src/util/support/support.js":"@aos/as-elements/src/util/support/support.js",can:"can","can/construct/super/super":"can/construct/super/super",jquery:"jquery"}],27:[function(e,t,s){var a=e("jquery"),i=e("can");e("can/construct/super/super");var n={};e("@aos/as-elements/src/util/support/support.js"),e("@aos/as-elements/src/util/event/event.js"),e("@aos/as-analytics/src/jquery.AsMetrics");n.WebSearchResultsFilter=i.Control.extend({defaults:{enabledFilterSelector:'.option[aria-disabled!="true"]',disabledFilterSelector:".option.disabled",extraActiveSelector:'.extra [aria-checked="true"]',hiddenFilterSelector:'.extra .option[aria-disabled!="true"]',expandBtnSelector:".more-less-toggle",disabledExpandBtnSelector:".more-less-toggle.disabled",loadingResultsSelector:".search-wrapper.loading",textOptionSelector:".option .filter-text",expandToggleClass:"expanded",expandableClass:"expandable",disabledClass:"disabled",checkedAttr:"aria-checked",linkAttr:"href",omnitureAttr:"tracking",selectEvent:a.AsSupport.touch?"tap":"click",pressEvent:"mousedown",expanded:i.compute(null),lessDisabled:i.compute(null)}},{init:function(){var e=this;this.resultsAreLoading=i.compute(function(){return a(e.options.loadingResultsSelector).length>0}),window.setTimeout(function(){e.element&&(e.filterData=i.data(e.element,"filterData"),e.filterData&&(void 0===e.filterData.expanded&&(e.filterData.expanded=!1),void 0===e.filterData.lessDisabled&&(e.filterData.lessDisabled=!1),e.options.expanded(e.filterData.expanded),e.options.lessDisabled(e.filterData.lessDisabled)),e.updateExpandBtn(),e.truncateBtnText(e.element.find(e.options.textOptionSelector)))},0)},"{expanded} change":"handleExpandedChange","{lessDisabled} change":"handleLessDisabledChange","{enabledFilterSelector} {selectEvent}":"handleEnabledBtnSelect","{enabledFilterSelector} {pressEvent}":"handleEnabledBtnPress","{enabledFilterSelector} keyup":"handleEnabledBtnKeyup","{enabledFilterSelector} keydown":"handleEnabledBtnKeydown","{disabledFilterSelector} {selectEvent}":"disableBtn","{disabledFilterSelector} {pressEvent}":"disableBtn","{expandBtnSelector} click":"handleExpandSelect","{disabledExpandBtnSelector} {selectEvent}":"disableBtn","{disabledExpandBtnSelector} {pressEvent}":"disableBtn",handleExpandedChange:function(e){var t=this.options.expandToggleClass,s=this.filterData;s&&(s.expanded=e()),this.element.toggleClass(t,e()),this.enableHiddenFilters(e())},handleLessDisabledChange:function(e){var t=this.filterData;t&&(t.lessDisabled=e())},handleEnabledBtnSelect:function(e,t){this.resultsAreLoading()?this.disableBtn(e,t):(this.toggleChecked(e),this.updateExpandBtn(),this.trackFilterSelect(e))},handleEnabledBtnPress:function(e,t){this.resultsAreLoading()&&this.disableBtn(e,t)},handleEnabledBtnKeyup:function(e,t){t.keyCode===a.AsEvent.Keyboard.Space&&(this.resultsAreLoading()?this.disableBtn(e,t):(this.toggleChecked(e),this.updateExpandBtn(),this.trackFilterSelect(e),this.setHash(e.attr(this.options.linkAttr))))},handleEnabledBtnKeydown:function(e,t){t.keyCode===a.AsEvent.Keyboard.Space&&t.preventDefault()},handleExpandSelect:function(e,t){this.resultsAreLoading()?this.disableBtn(e,t):this.options.expanded(!this.options.expanded())},toggleChecked:function(e){
var t=e.attr(this.options.checkedAttr);e.attr(this.options.checkedAttr,"true"===t?"false":"true")},updateExpandBtn:function(){var e=this.element.find(this.options.extraActiveSelector),t=this.element.find(this.options.expandBtnSelector),s=this.options.disabledClass;this.element.hasClass(this.options.expandableClass)&&(e.length?(t.addClass(s).prop(s,!0),this.options.expanded(!0),this.options.lessDisabled(!0)):(t.removeClass(s).prop(s,!1),this.options.lessDisabled(!1)))},disableBtn:function(e,t){t.preventDefault(),e.trigger("blur")},enableHiddenFilters:function(e){var t=this.element.find(this.options.hiddenFilterSelector);t.length&&this.element.hasClass(this.options.expandableClass)&&(e?(t.removeAttr("tabindex"),t.attr("aria-hidden",!1)):(t.attr("tabindex",-1),t.attr("aria-hidden",!0)))},setHash:function(e){e&&(window.location.hash=e)},trackFilterSelect:function(e){var t=window.s.pageName,s=e.data(this.options.omnitureAttr)||"",i={page:t,slot:"filters",feature:s,eVar:"eVar6",action:""};a.AsMetrics.fireMicroEvent(i)},truncateBtnText:function(e){e&&e.length&&e.each(function(){if(this.firstChild&&3===this.firstChild.nodeType){var e=a(this),t=e.text(),s=t.length;for(s;s>0&&this.scrollHeight>e.parent().height();s-=1)e.text(e.text().replace(/\W*\s(\S)*$/,"â¦"));t.length>e.text().length&&e.after('<span class="a11y">'+t.substring(e.text().length)+"</span>")}})}}),window.as.WebSearchResultsFilter=n.WebSearchResultsFilter,t.exports=n.WebSearchResultsFilter},{"@aos/as-analytics/src/jquery.AsMetrics":"@aos/as-analytics/src/jquery.AsMetrics","@aos/as-elements/src/util/event/event.js":"@aos/as-elements/src/util/event/event.js","@aos/as-elements/src/util/support/support.js":"@aos/as-elements/src/util/support/support.js",can:"can","can/construct/super/super":"can/construct/super/super",jquery:"jquery"}],28:[function(e,t,s){var a=e("jquery"),i=e("can");e("can/construct/super/super");var n={};e("@aos/as-elements/src/util/support/support.js"),e("@aos/as-legacy/src/external/instantfeedback/jquery.AsInstantFeedback.js");n.WebSearchResultsLoadMoreBtn=i.Control.extend({defaults:{page:i.compute(1),hasMoreResults:i.compute(null),loadingNextPage:i.compute(!1),data:null,selectEvent:a.AsSupport.touch?"tap":"click",nextPageVal:"NEXTPAGE",loadingClass:"loading",btnSelector:".button",statusSelector:".load-more-status",disabledAttr:"disabled"}},{init:function(){this.nextPageSent=!1,this.updateBtnVisibility(this.options.hasMoreResults())},"{btnSelector} {selectEvent}":"handleBtnSelect","{loadingNextPage} change":"handleLoadingNextPageChange","{hasMoreResults} change":"handleHasMoreResultsChange",handleBtnSelect:function(){this.setPageNumber(this.options.page()+1),this.nextPageSent||this.trackNextPage(this.options.data)},handleLoadingNextPageChange:function(e){this.updateLoadingState(e()),this.enableButton(e())},handleHasMoreResultsChange:function(e){this.updateBtnVisibility(e())},setPageNumber:function(e){this.options.page(e)},updateBtnVisibility:function(e){this.element.toggle(e)},updateLoadingState:function(e){var t=this.element.find(this.options.statusSelector);t.length&&t.toggleClass(this.options.loadingClass,e)},enableButton:function(e){var t=this.element.find(this.options.btnSelector);t.length&&t.prop(this.options.disabledAttr,e)},trackNextPage:function(e){var t=this,s=a.AsInstantFeedback;s&&s.isAvailable()&&e&&e.results&&e.searchTerm&&s.send(this.options.nextPageVal,{query:e.searchTerm,locale:e.results.locale||"",model:e.results.model||""},function(){t.nextPageSent=!0})}}),window.as.WebSearchResultsLoadMoreBtn=n.WebSearchResultsLoadMoreBtn,t.exports=n.WebSearchResultsLoadMoreBtn},{"@aos/as-elements/src/util/support/support.js":"@aos/as-elements/src/util/support/support.js","@aos/as-legacy/src/external/instantfeedback/jquery.AsInstantFeedback.js":10,can:"can","can/construct/super/super":"can/construct/super/super",jquery:"jquery"}],29:[function(e,t,s){var a=e("jquery"),i=e("can");e("can/construct/super/super");var n={};e("@aos/as-elements/src/util/support/support.js"),e("@aos/as-analytics/src/jquery.AsMetrics");n.WebSearchResultsResetBtn=i.Control.extend({defaults:{selectEvent:a.AsSupport.touch?"tap":"click",pageName:i.compute(null),pressEvent:"mousedown",isLoadingResults:i.compute(!1)}},{init:function(){this.options.hasParams(!1)},"{hasParams} change":"handleHasParamsChange"," {selectEvent}":"handleResetBtnSelect"," {pressEvent}":"handleResetBtnPress",handleHasParamsChange:function(e){this.element.toggle(e())},handleResetBtnSelect:function(e,t){this.options.isLoadingResults()?this.disableBtn(e,t):(this.clearOptions(),this.trackResetSelect(this.options.data))},handleResetBtnPress:function(e,t){this.options.isLoadingResults()&&this.disableBtn(e,t)},clearOptions:function(){window.location.hash=""},disableBtn:function(e,t){t.preventDefault(),e.trigger("blur")},trackResetSelect:function(){var e=window.s.pageName||"",t=e.search("search")!==-1?"Search Results Page":"Category Page",s={page:e,slot:t,feature:"Filter",part:"Reset filters",eVar:"eVar6",action:""};a.AsMetrics.fireMicroEvent(s)}}),window.as.WebSearchResultsResetBtn=n.WebSearchResultsResetBtn,t.exports=n.WebSearchResultsResetBtn},{"@aos/as-analytics/src/jquery.AsMetrics":"@aos/as-analytics/src/jquery.AsMetrics","@aos/as-elements/src/util/support/support.js":"@aos/as-elements/src/util/support/support.js",can:"can","can/construct/super/super":"can/construct/super/super",jquery:"jquery"}],30:[function(e,t,s){var a=e("jquery"),i=e("can");e("can/construct/super/super");var n={};e("@aos/as-elements/src/util/support/support.js"),e("@aos/as-analytics/src/jquery.AsMetrics");n.WebSearchResultsSidebarToggle=i.Control.extend({defaults:{sidebarOpen:i.compute(!1),selectedClass:"active",selectEvent:a.AsSupport.touch?"tap":"click",focusableEls:'button, input, a[aria-disabled!="true"][aria-hidden!="true"], textarea'}},{init:function(){this.updateBtnState(this.options.sidebarOpen)}," {selectEvent}":"handleBtnSelect","{sidebarOpen} change":"updateBtnState",handleBtnSelect:function(){this.trackSidebarToggle(),this.setOpenState(!this.options.sidebarOpen())},updateBtnState:function(e){this.updateAriaState(e()),this.element.toggleClass(this.options.selectedClass,e())},updateAriaState:function(e){var t=this.element.find("span.a11y"),s=a(this.options.sidebarSelector);t.length&&s.length&&(e?(t.html(this.options.atStr?this.options.atStr.hidePanel:""),this.element.attr("aria-expanded","true"),s.attr("aria-hidden","false").find(this.options.focusableEls).removeAttr("tabindex")):(t.html(this.options.atStr?this.options.atStr.showPanel:""),this.element.attr("aria-expanded","false"),s.attr("aria-hidden","true").find(this.options.focusableEls).attr("tabindex",-1)))},setOpenState:function(e){this.options.sidebarOpen(e)},trackSidebarToggle:function(){var e=window.s.pageName,t=this.options.omniture,s=t?t.pageName:"",i=t?t.sidebarType:"",n={page:e,slot:s,feature:i,eVar:"eVar6",action:""};a.AsMetrics.fireMicroEvent(n)}}),window.as.WebSearchResultsSidebarToggle=n.WebSearchResultsSidebarToggle,t.exports=n.WebSearchResultsSidebarToggle},{"@aos/as-analytics/src/jquery.AsMetrics":"@aos/as-analytics/src/jquery.AsMetrics","@aos/as-elements/src/util/support/support.js":"@aos/as-elements/src/util/support/support.js",can:"can","can/construct/super/super":"can/construct/super/super",jquery:"jquery"}],31:[function(e,t,s){var a=e("jquery"),i=e("can");e("can/construct/super/super");var n={};e("@aos/as-elements/src/util/event/event.js"),e("@aos/as-analytics/src/jquery.AsMetrics");n.WebSearchResultsSort=i.Control.extend({defaults:{sortBtnSelector:'input[type="radio"]',selectEvent:"click",pressEvent:"mousedown",checkedAttr:"checked",checkedBtnSelector:"input[checked='checked']",loadingResults:i.compute(!1),sortRenderToggle:i.compute(!1)}},{init:function(){this.sortFocused=!1},"{sortBtnSelector} {selectEvent}":"handleSortBtnSelect","{sortBtnSelector} {pressEvent}":"handleSortBtnPress","{sortBtnSelector} keyup":"handleSortBtnKeyup","{sortRenderToggle} change":"handleSortRenderToggleChange",handleSortBtnSelect:function(e,t){this.options.loadingResults()?this.disableBtn(e,t):(this.toggleChecked(e),this.sendLink(e),this.trackSortSelect(e))},handleSortBtnPress:function(e,t){this.options.loadingResults()&&this.disableBtn(e,t)},handleSortBtnKeyup:function(e,t){t.keyCode!==a.AsEvent.Keyboard.ArrowLeft&&t.keyCode!==a.AsEvent.Keyboard.ArrowRight&&t.keyCode!==a.AsEvent.Keyboard.ArrowUp&&t.keyCode!==a.AsEvent.Keyboard.ArrowDown||(this.sortFocused=!0)},handleSortRenderToggleChange:function(){if(this.sortFocused){var e=this.element.find(this.options.checkedBtnSelector);e.focus(),this.sortFocused=!1}},sendLink:function(e){e.length&&e.val()&&(window.location.hash=e.val())},toggleChecked:function(e){var t=this.element.find(this.options.sortBtnSelector);t.length&&t.attr(this.options.checkedAttr,!1),e.length&&e.attr(this.options.checkedAttr,!0)},disableBtn:function(e,t){t.preventDefault(),e.trigger("blur")},trackSortSelect:function(e){var t=window.s.pageName,s=e.val(),i=s.indexOf("&")>0?s.indexOf("&"):s.length,n=s.substring(s.indexOf("=")+1,i),o={page:t,slot:"sort by",feature:n,eVar:"eVar6",action:""};a.AsMetrics.fireMicroEvent(o)}}),window.as.WebSearchResultsSort=n.WebSearchResultsSort,t.exports=n.WebSearchResultsSort},{"@aos/as-analytics/src/jquery.AsMetrics":"@aos/as-analytics/src/jquery.AsMetrics","@aos/as-elements/src/util/event/event.js":"@aos/as-elements/src/util/event/event.js",can:"can","can/construct/super/super":"can/construct/super/super",jquery:"jquery"}],32:[function(e,t,s){var a=e("jquery"),i=e("can");e("can/construct/super/super");var n={};e("@aos/as-elements/src/util/support/support.js"),e("@aos/as-analytics/src/jquery.AsMetrics");n.WebSearchResultsViewToggle=i.Control.extend({defaults:{viewType:i.compute(null),buttonSelector:".button",selectedClass:"active",typeAttr:"toggle",disableAttr:"disabled",selectEvent:a.AsSupport.touch?"tap":"click"}},{init:function(){this.options.viewType&&this.updateBtnState(this.options.viewType)},"{buttonSelector} {selectEvent}":"handleBtnSelect","{viewType} change":"updateBtnState",handleBtnSelect:function(e){e.length&&(this.setViewType(e.data(this.options.typeAttr)),this.trackBtnSelect(e.data(this.options.typeAttr)))},updateBtnState:function(e){var t=this.element.find(this.options.buttonSelector),s=t.filter("[data-"+this.options.typeAttr+"="+e()+"]");t.length&&t.removeClass(this.options.selectedClass).prop(this.options.disableAttr,!1),s.length&&s.addClass(this.options.selectedClass).prop(this.options.disableAttr,!0)},trackBtnSelect:function(e){var t=e,s=window.s.pageName,i={page:s,slot:"view",feature:t,eVar:"eVar6",action:""};a.AsMetrics.fireMicroEvent(i)},setViewType:function(e){e&&this.options.viewType(e)}}),window.as.WebSearchResultsViewToggle=n.WebSearchResultsViewToggle,t.exports=n.WebSearchResultsViewToggle},{"@aos/as-analytics/src/jquery.AsMetrics":"@aos/as-analytics/src/jquery.AsMetrics","@aos/as-elements/src/util/support/support.js":"@aos/as-elements/src/util/support/support.js",can:"can","can/construct/super/super":"can/construct/super/super",jquery:"jquery"}],33:[function(e,t,s){var a=e("jquery"),i=e("can");e("can/construct/super/super");e("@aos/as-elements/src/util/string/string.js");i.stache.registerHelper("formatText",function(e,t){e=i.Mustache.resolve(e),t=t||{};var s=t.hash&&t.hash.truncate||null,n=t.hash&&t.hash.stripPunctAtStart||null,o=t.hash&&t.hash.sanitize||null,r=t.hash&&t.hash.letterCase||null;return e&&"string"==typeof e&&(e=a.AsString.stripTags(e),e=a.trim(e),s&&(e=a.AsString.truncate(e,s)),n&&(e=a.AsString.stripPunctuationAtStart(e)),o&&(e=e.replace(/[\s]+/g,"-")),r&&(r=r.toLowerCase(),"upper"===r?e=e.toLocaleUpperCase():"lower"===r&&(e=e.toLocaleLowerCase()))),e}),i.Mustache.registerHelper("compare",function(e,t,s,a){var n,o,r,l,c;if(l=i.Mustache.resolve(e),c=i.Mustache.resolve(s),arguments.length>=2&&(n={"===":function(e,t){return e===t},"!==":function(e,t){return e!==t},"<":function(e,t){return e<t},">":function(e,t){return e>t},"<=":function(e,t){return e<=t},">=":function(e,t){return e>=t},"||":function(e,t){return e||t},"&&":function(e,t){return e&&t}},n[t]))return o=n[t](l,c),r=o?a.fn(this):a.inverse(this)}),i.Mustache.registerHelper("withIndex",function(e,t){e=i.Mustache.resolve(e);var s,a="",n=0,o=e.length;for(n;n<o;n+=1)e[n]&&(s=e[n]._data||e[n],s.index=n+1,a+=t.fn(s));return a}),i.Mustache.registerHelper("preserveHtml",function(e){if(e=i.Mustache.resolve(e),"string"==typeof e)return e=e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"')}),i.Mustache.registerHelper("getFirst",function(e,t){if(e=i.Mustache.resolve(e),e&&e[0]&&t)return t.fn(e[0])})},{"@aos/as-elements/src/util/string/string.js":"@aos/as-elements/src/util/string/string.js",can:"can","can/construct/super/super":"can/construct/super/super",jquery:"jquery"}]},{},[1]);