KISSY.add("srp/__35",function(a,e,i,d){var s=d.exports=function(a){function e(a,e,i){var d=a.data,p=a.affix;e.data+="\n  ",e.data+='\n  <div id="',o.line=15;var n=(s=p.pageName)!==i?s:(s=d.pageName)!==i?s:a.resolveLooseUp(["pageName"]);e=e.writeEscaped(n),e.data+='-tab"></div>\n  ',e.data+='\n  <div id="',o.line=17;var t=(s=p.pageName)!==i?s:(s=d.pageName)!==i?s:a.resolveLooseUp(["pageName"]);return e=e.writeEscaped(t),e.data+='-shopstar"></div>\n  ',e}function i(a,e,i){var d=a.data,p=a.affix;e.data+="\n    ",e.data+='\n    <div id="',o.line=26;var n=(s=p.pageName)!==i?s:(s=d.pageName)!==i?s:a.resolveLooseUp(["pageName"]);return e=e.writeEscaped(n),e.data+='-tab"></div>\n    ',e}function d(a,e,i){var d=a.data,p=a.affix;e.data+="\n    ",e.data+='\n    <div id="',o.line=42;var n=(s=p.pageName)!==i?s:(s=d.pageName)!==i?s:a.resolveLooseUp(["pageName"]);return e=e.writeEscaped(n),e.data+='-shopstar"></div>\n    ',e}var s,p=this,n=p.root,t=p.buffer,r=p.scope,o=(p.runtime,p.name,p.pos),v=r.data,g=r.affix,m=n.nativeCommands,l=n.utils,N=(l.callFn,l.callDataFn,l.callCommand,m.range,m.foreach,m.forin,m.each,m["with"],m["if"]);m.set,m.include,m.parse,m.extend,m.block,m.macro,m["debugger"];t.data+='<div class="grid-total">\n  ',t.data+='\n  <div id="srp-error"></div>\n</div>\n\n<div class="grid-total">\n  <div class="grid-left">\n    <div id="',o.line=8;var c=(s=g.pageName)!==a?s:(s=v.pageName)!==a?s:r.resolveLooseUp(["pageName"]);t=t.writeEscaped(c),t.data+='-header"></div>\n  </div>\n</div>\n\n<div class="grid-total">\n  ',o.line=13,o.line=13;var w=(s=g.isNewStarShop)!==a?s:(s=v.isNewStarShop)!==a?s:r.resolveLooseUp(["isNewStarShop"]);t=N.call(p,r,{params:[w],fn:e},t),t.data+='\n  \n  <div class="grid-left">\n    ',t.data+='\n    <div id="',o.line=22;var L=(s=g.pageName)!==a?s:(s=v.pageName)!==a?s:r.resolveLooseUp(["pageName"]);t=t.writeEscaped(L),t.data+='-supertab"></div>\n    \n    ',o.line=24,o.line=24;var U=(s=g.isNewStarShop)!==a?s:(s=v.isNewStarShop)!==a?s:r.resolveLooseUp(["isNewStarShop"]);t=N.call(p,r,{params:[!U],fn:i},t),t.data+="\n    ",t.data+='\n    <div id="',o.line=29;var h=(s=g.pageName)!==a?s:(s=v.pageName)!==a?s:r.resolveLooseUp(["pageName"]);t=t.writeEscaped(h),t.data+='-choosecar"></div>\n\n    ',t.data+='\n    <div id="',o.line=32;var E=(s=g.pageName)!==a?s:(s=v.pageName)!==a?s:r.resolveLooseUp(["pageName"]);t=t.writeEscaped(E),t.data+='-menulist"></div>\n\n    ',t.data+='\n    <div id="',o.line=35;var u=(s=g.pageName)!==a?s:(s=v.pageName)!==a?s:r.resolveLooseUp(["pageName"]);t=t.writeEscaped(u),t.data+='-shopcombo"></div>\n\n    ',t.data+='\n    <div id="',o.line=38;var b=(s=g.pageName)!==a?s:(s=v.pageName)!==a?s:r.resolveLooseUp(["pageName"]);t=t.writeEscaped(b),t.data+='-shopcombotip"></div>\n    \n    ',o.line=40,o.line=40;var f=(s=g.isNewStarShop)!==a?s:(s=v.isNewStarShop)!==a?s:r.resolveLooseUp(["isNewStarShop"]);t=N.call(p,r,{params:[!f],fn:d},t),t.data+="\n    ",t.data+='\n    <div id="',o.line=45;var S=(s=g.pageName)!==a?s:(s=v.pageName)!==a?s:r.resolveLooseUp(["pageName"]);t=t.writeEscaped(S),t.data+='-sc"></div>\n\n    ',t.data+='\n    <div id="',o.line=48;var _=(s=g.pageName)!==a?s:(s=v.pageName)!==a?s:r.resolveLooseUp(["pageName"]);t=t.writeEscaped(_),t.data+='-tips"></div>\n\n    ',t.data+='\n    <div id="',o.line=51;var x=(s=g.pageName)!==a?s:(s=v.pageName)!==a?s:r.resolveLooseUp(["pageName"]);t=t.writeEscaped(x),t.data+='-phonenav"></div>\n\n    ',t.data+='\n    <div id="',o.line=54;var k=(s=g.pageName)!==a?s:(s=v.pageName)!==a?s:r.resolveLooseUp(["pageName"]);t=t.writeEscaped(k),t.data+='-spuseries"></div>\n\n    ',t.data+='\n    <div id="',o.line=57;var F=(s=g.pageName)!==a?s:(s=v.pageName)!==a?s:r.resolveLooseUp(["pageName"]);t=t.writeEscaped(F),t.data+='-vbaby"></div>\n\n    ',t.data+='\n    <div id="',o.line=60;var I=(s=g.pageName)!==a?s:(s=v.pageName)!==a?s:r.resolveLooseUp(["pageName"]);t=t.writeEscaped(I),t.data+='-brandbang"></div>\n\n    ',t.data+='\n    <div id="',o.line=63;var M=(s=g.pageName)!==a?s:(s=v.pageName)!==a?s:r.resolveLooseUp(["pageName"]);t=t.writeEscaped(M),t.data+='-nav"></div>\n\n    ',t.data+='\n    <div id="',o.line=66;var P=(s=g.pageName)!==a?s:(s=v.pageName)!==a?s:r.resolveLooseUp(["pageName"]);t=t.writeEscaped(P),t.data+='-related"></div>\n\n    ',t.data+='\n    <div id="',o.line=69;var C=(s=g.pageName)!==a?s:(s=v.pageName)!==a?s:r.resolveLooseUp(["pageName"]);t=t.writeEscaped(C),t.data+='-sortbar"></div>\n\n    ',t.data+='\n    <div id="',o.line=72;var D=(s=g.pageName)!==a?s:(s=v.pageName)!==a?s:r.resolveLooseUp(["pageName"]);t=t.writeEscaped(D),t.data+='-d11filterbar"></div>\n\n    ',t.data+='\n    <div id="',o.line=75;var K=(s=g.pageName)!==a?s:(s=v.pageName)!==a?s:r.resolveLooseUp(["pageName"]);t=t.writeEscaped(K),t.data+='-personalbar"></div>\n\n    ',t.data+='\n    <div id="',o.line=78;var Y=(s=g.pageName)!==a?s:(s=v.pageName)!==a?s:r.resolveLooseUp(["pageName"]);t=t.writeEscaped(Y),t.data+='-apasstips"></div>\n\n    ',t.data+='\n    <div id="',o.line=81;var y=(s=g.pageName)!==a?s:(s=v.pageName)!==a?s:r.resolveLooseUp(["pageName"]);t=t.writeEscaped(y),t.data+='-spucombo"></div>\n\n    ',t.data+='\n    <div id="',o.line=84;var z=(s=g.pageName)!==a?s:(s=v.pageName)!==a?s:r.resolveLooseUp(["pageName"]);t=t.writeEscaped(z),t.data+='-itemlist"></div>\n\n    ',t.data+='\n    <div id="',o.line=87;var A=(s=g.pageName)!==a?s:(s=v.pageName)!==a?s:r.resolveLooseUp(["pageName"]);t=t.writeEscaped(A),t.data+='-doubleonelist"></div>\n\n    ',t.data+='\n    <div id="',o.line=90;var B=(s=g.pageName)!==a?s:(s=v.pageName)!==a?s:r.resolveLooseUp(["pageName"]);t=t.writeEscaped(B),t.data+='-noresult"></div>\n\n    ',t.data+='\n    <div id="',o.line=93;var R=(s=g.pageName)!==a?s:(s=v.pageName)!==a?s:r.resolveLooseUp(["pageName"]);t=t.writeEscaped(R),t.data+='-navtablink"></div>\n\n    ',t.data+='\n    <div id="',o.line=96;var T=(s=g.pageName)!==a?s:(s=v.pageName)!==a?s:r.resolveLooseUp(["pageName"]);t=t.writeEscaped(T),t.data+='-navtabtags"></div>\n\n    ',t.data+='\n    <div id="',o.line=99;var j=(s=g.pageName)!==a?s:(s=v.pageName)!==a?s:r.resolveLooseUp(["pageName"]);t=t.writeEscaped(j),t.data+='-pager"></div>\n  </div>\n\n  <div class="grid-right">\n    <div id="',o.line=103;var q=(s=g.pageName)!==a?s:(s=v.pageName)!==a?s:r.resolveLooseUp(["pageName"]);t=t.writeEscaped(q),t.data+='-p4pRight"></div>\n  </div>\n</div>\n\n\n<div class="grid-total">\n  <div id="',o.line=109;var G=(s=g.pageName)!==a?s:(s=v.pageName)!==a?s:r.resolveLooseUp(["pageName"]);t=t.writeEscaped(G),t.data+='-p4pBottom"></div>\n</div>\n\n<div class="grid-total">\n  <div id="',o.line=113;var H=(s=g.pageName)!==a?s:(s=v.pageName)!==a?s:r.resolveLooseUp(["pageName"]);t=t.writeEscaped(H),t.data+='-bottomsearch"></div>\n</div>\n\n',t.data+='\n<div id="',o.line=117;var J=(s=g.pageName)!==a?s:(s=v.pageName)!==a?s:r.resolveLooseUp(["pageName"]);t=t.writeEscaped(J),t.data+='-feedback"></div>\n',t.data+='\n<div id="',o.line=119;var O=(s=g.pageName)!==a?s:(s=v.pageName)!==a?s:r.resolveLooseUp(["pageName"]);t=t.writeEscaped(O),t.data+='-updatebar"></div>\n<div id="',o.line=120;var Q=(s=g.pageName)!==a?s:(s=v.pageName)!==a?s:r.resolveLooseUp(["pageName"]);return t=t.writeEscaped(Q),t.data+='-debugbar"></div>\n',t};s.TPL_NAME=d.id||d.name}),KISSY.add("srp/_29",["srp/_0","srp/c/icons/bg.css","srp/c/icons/text.css","srp/c/icons/btn.css","srp/c/icons/service.css","srp/c/icons/supple.css","kg/xtemplate/runtime","srp/__35","srp/_1g"],function(a,e){var i=e("srp/_0");e("srp/c/icons/bg.css"),e("srp/c/icons/text.css"),e("srp/c/icons/btn.css"),e("srp/c/icons/service.css"),e("srp/c/icons/supple.css");var d=e("kg/xtemplate/runtime"),s=new d(e("srp/__35")),p=e("srp/_1g");return i.extend({initializer:function(){var a=this.getPageName();p.initPostMessage();var e=this.getIoData().mods||{},i=e.shopstar&&e.shopstar.data&&e.shopstar.data.data&&e.shopstar.data.data.isNewStarShop,d=s.render({pageName:a,isNewStarShop:i});this.get("el").html(d),this.attachMods(),this.renderFirst()}})});KISSY.add("srp/__0",function(t){var n,e,i,r='<div class="srp-error">\u51fa\u9519\u5566\uff0c\u8bf7\u5237\u65b0\u6216\u91cd\u65b0\u70b9\u51fb\u5c1d\u8bd5\uff01</div>',a=function(){n=t.one("#srp-error"),n.html(r)},s=function(){i&&clearTimeout(i),i=null},o={show:function(){n||a(),n&&((t.isUndefined(e)||e===!1)&&n.show(),n.scrollIntoView(),e=!0,s(),i=setTimeout(function(){o.hide()},2e3))},hide:function(){n&&(s(),(t.isUndefined(e)||e===!0)&&n.hide(),e=!1)}};return o}),KISSY.add("srp/_0",["srp/_1","srp/_2","srp/_1i","srp/_1f","srp/_1j","srp/_1h","srp/_5","srp/_3","srp/__0","srp/_9","srp/_6"],function(t,n){function e(){setTimeout(function(){var n=t.one("#srp-footer");if(n){var e=t.one("#srp-footer-tmpl"),i=e.val();n.html(i)}},100)}var i=n("srp/_1"),r=n("srp/_2"),a=n("srp/_1i");a.switchOn(r.isDebugMode(),100*Math.random()<=1);var s=n("srp/_1f"),o=n("srp/_1j"),u=n("srp/_1h"),d=n("srp/_5"),c=n("srp/_3"),h=n("srp/__0"),f=n("srp/_9"),l=function(t,n,e){window.Search.safeRun(function(){n.render(e||{})},function(e){return"modRender-"+t.getPageName()+"/"+n.get("name")+":"+e})};return i.extend({initializer:function(){this.env=r,this.timing=a,this.logger=s,this.responsive=n("srp/_6"),this.History=c,c.init(this),this.NProgress=f,this.requester=new d(this,{isAjaxRequest:c.isSupport()}),u.setTraceRule(window.givenByFE&&window.givenByFE.tracerule),u.initClickTrace(),u.initAntiCheat(),this.stat=u},getPageName:function(){var t=this.get("data");return t.pageName},getIoData:function(){return this.get("data")},setIoData:function(t){this.set("data",t)},getFeature:function(t){var n,e=this.getIoData()||{},i=e.feature||{};return n=t?i[t]:i},getAjaxUrl:function(t){var n=this.get("data")||{},e=n.mainInfo&&n.mainInfo.modLinks||{},i=e[t]||e["default"]||"";return i},getCurrentUrl:function(){var t=this.get("data")||{},n=t.mainInfo&&t.mainInfo.currentUrl;return n},getNick:function(){var t=window.TB&&window.TB.Global&&window.TB.Global.util&&window.TB.Global.util.getNick()||"";return t},scrollToBodyTop:function(){window.scrollTo(0,0)},renderFirst:function(){var t=this.get("data");this.env.syncFeature(t.feature),this.logger.debug(t);var n=t&&t.mods||{};this.renderMods(n),this._jumpToHash(),this._changeURL(t,!0),this._logPv(),e()},renderPage:function(t){this.set("data",t),this.env.syncFeature(t.feature),this.logger.debug(t);var n=t&&t.mods||{};this.renderMods(n),this._changeURL(t),this._logPv()},attachMods:function(){var n=this,e=n.getPageName(),i=n.getIoData(),r=i.modsConfig,a=n.timing;a.tick("init.all-mods"),t.each(r,function(t){window.Search.safeRun(function(){var i=t.CONSTRUCTOR,r=t.name,s="init."+r;a.tick(s);var o="#"+e+"-"+r,u=new i({name:r,el:o,app:n});a.tickEnd(s),n._addMod(u)},function(e){return"modInit-"+n.getPageName()+"/"+t.name+":"+e})}),a.tickEnd("init.all-mods")},renderMods:function(n,e){var i=this,r=i.getMods(),a=i.timing;a.tick("render.all-mods"),o.process(r,function(t){var e=t.get("name"),r="render."+e;a.tick(r);var s=n[e]||{status:"hide"},o=t.get("always_render");o?(t.show(),l(i,t,s)):"hide"===s.status?t.hide():(t.show(),"keep"===s.status||l(i,t,s)),a.tickEnd(r)},function(){a.tickEnd("render.all-mods"),a.report(),t.isFunction(e)&&e()})},getMods:function(){return this.__mods||[]},_jumpToHash:function(n){if(n||(n=location.hash),n){"#"!==n.charAt(0)&&(n="#"+n);try{var e=t.one(n);e.scrollIntoView()}catch(i){}}},_addMod:function(n){t.isArray(this.__mods)||(this.__mods=[]),this.__mods.push(n)},_logPv:function(){var t=this.get("data"),n=t&&t.mainInfo||{},e=n.traceInfo||{};this.stat.setTraceData(e.traceData),this.stat.setIframeTrace(e.iframeTrace);var i=e.pvStat||"";this.stat.logPv(i),this.stat.iframeClickStat()},_changeURL:function(t,n){var e=this.getCurrentUrl(),i=e.indexOf("?");if(-1!==i){var r=e.substr(i),a=t.mainInfo&&t.mainInfo.srpGlobal&&t.mainInfo.srpGlobal.q||"",s=t.mainInfo&&t.mainInfo.title||"\u6dd8\u5b9d\u641c\u7d22";a&&(s=a+"_"+s),n?c.replaceState({url:e},s,r):c.pushState({url:e},s,r)}},showIoError:function(){h.show()},hideIoError:function(){h.hide()}})});KISSY.add("srp/_1",["srp/c/app/base.css","node","event","base","srp/c/app/base.css"],function(e,n){function t(n){var o=n.constructor.EVENTS,i=n.get("el");s(n,i,o);var r=n.constructor.BODY_EVENTS;t.bodyNode||(t.bodyNode=e.one("body"));var a=t.bodyNode;s(n,a,r)}function s(n,t,s){e.each(s,function(s,o){e.each(s,function(e,s){t.delegate(s,o,e,n)})})}n("srp/c/app/base.css"),n("node");var o=n("event"),i=n("base");n("srp/c/app/base.css");var r=e.mix({},o.Target);return i.extend({initializer:function(){var n=this.get("el");this.set("el",e.one(n)),t(this)},render:function(e){this.doRender(e)},doRender:function(){},show:function(){var e=this.get("el");e&&(this.__isShown__===!1&&e.show(),this.__isShown__=!0)},hide:function(){var e=this.get("el");e&&(this.__isShown__===!0&&e.hide(),this.__isShown__=!1)},broadcast:function(e,n){return r.fire(e,n)},listen:function(e,n,t){return r.on.apply(r,arguments)},unListen:function(e,n,t){return r.detach.apply(r,arguments)}})});KISSY.add("srp/_2",["srp/_1k"],function(i,e){function t(){var i=t;return i.__instance?i.__instance:(this._env={},this._feature={},this._init(),void(i.__instance=this))}var n=e("srp/_1k");return i.augment(t,{_init:function(){this.isDaily(),this.isSupportWebP()},syncFeature:function(i){this._feature=i||{}},isDaily:function(){return i.isUndefined(this._env.isDaily)&&(this._env.isDaily=/taobao\.net/.test(location.hostname)),this._env.isDaily},isSupportWebP:function(e){var t=this;return n.isSupport(function(n){t._env.isSupportWebP=n,i.isFunction(e)&&e(n)}),this._env.isSupportWebP},getImageSrc:function(i,e){e=e||{};var t="";return e.xz&&(e.retinaSuffix=e.retinaSuffix.replace(/_(\d+)x(\1)/,"_$1x$2xz"),e.suffix=e.suffix.replace(/_(\d+)x(\1)/,"_$1x$2xz")),t=!this._feature.retinaOff&&e.retinaSuffix&&this.isRetina()?i+e.retinaSuffix:i+e.suffix,!this._feature.webpOff&&e.useWebp&&this.isSupportWebP()&&(t+="_.webp"),t},isRetina:function(){if(!i.isBoolean(this._env.isRetina)){var e=!1,t="(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)";window.devicePixelRatio>1&&(e=!0),window.matchMedia&&window.matchMedia(t).matches&&(e=!0),this._env.isRetina=e}return this._env.isRetina},isDebugMode:function(){return window.Search&&window.Search.isDebug}}),new t});KISSY.add("srp/_1k",function(){function A(A,t){if("function"==typeof A){var a=new Image;a.onload=function(){var n=a.width>0&&a.height>0;o(n),A(n,t)},a.onerror=function(){o(!1),A(!1,t)},a.src="data:image/webp;base64,"+n[t]}}function o(A){window.localStorage&&window.localStorage.setItem("webpsupport",A)}function t(o,t){if("function"==typeof o){t=t||"lossy";var n=window.localStorage&&window.localStorage.getItem("webpsupport");n?o("true"===n,t):A(o,t)}}var n={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"},a={};return a.isSupport=t,a});KISSY.add("srp/_1i",["json"],function(n,o){function e(n){if(window.JSTracker&&window.JSTracker.send&&window.Search&&window.Search.get){var o=window.Search.get("app");o?a(n):setTimeout(function(){a(n)},10)}}function t(){var o=[],t={},a=r();n.each(a,function(n,e){o.push({task:"performance."+e,"takes(ms)":n}),t[e]=n}),n.each(i,function(n,e){2===n.length&&(o.push({task:e,"takes(ms)":n[1]-n[0]}),t[e]=n[1]-n[0])}),i={},window.console&&console.table&&f&&(console.log("consoleProfile:"),console.table(o)),(s||f)&&e(t)}function a(n){var o="",e=window.Search.get("app");if(e){var t=e.getIoData(),a=e.getPageName(),r=t.mainInfo&&t.mainInfo.srpGlobal&&t.mainInfo.srpGlobal.buckets||"";o=a+"_"+r,window.JSTracker.send({sampling:1,msg:c.stringify(n),category:o})}}function r(){var n={};if(window.performance&&window.performance.timing){var o=window.performance.timing;n.dns=o.domainLookupEnd-o.domainLookupStart,n.con=o.connectEnd-o.connectStart,n.req=o.responseStart-o.requestStart,n.res=o.responseEnd-o.responseStart,n.dcl=o.domContentLoadedEventEnd-o.domLoading,n.onload=o.loadEventStart-o.domLoading,n.type=window.performance.navigation.type}return n}var i={},c=o("json"),d=!1,s=!1,f=!1,w={switchOn:function(n,o){d=o||n,f=n,s=o},tick:function(n){d&&""!==n&&(i[n]=[+new Date])},tickEnd:function(n){d&&""!==n&&i[n]&&(i[n][1]=+new Date)},getTime:function(n){if(d){var o=i[n];return o&&2===o.length?o[1]-o[0]:void 0}},report:function(){d&&t()}};return w});KISSY.add("srp/_1f",["srp/_2"],function(o,n){var e=n("srp/_2");return{debug:function(){e.isDebugMode()&&window.console&&console.log&&("function"==typeof console.log.apply?console.log.apply(console,arguments):console.log(arguments))}}});KISSY.add("srp/_1j",["event","dom","ua"],function(e,n){var t=n("event"),r=n("dom"),i=n("ua");return{parallel:function(n,t){if(0===n.length)return void t(!0);var r=0,i=[];e.each(n,function(e,n){++r,e(function(e){return function(n){i[e]=n,--r,0===r&&t.call(null,!1,i)}}(n),function(){t(!0)})})},process:function(n,t,r){function i(){c++;for(var n,u=+new Date,f=100,l=25;;){var s=o.shift();if(t(s,a),0===o.length){e.isFunction(r)&&r(),e.log("process slice to "+c+" times");break}if(n=+new Date,n-u>f){a.id=setTimeout(i,l);break}}}if(0!==n.length){var o=n.concat(),a={},c=0;return i(),a}},checkAIload:function(n,o){var a=o.bufferTime||20;i.ie<=8&&(a=30*a);var c,u,f=o.el,l=function(e,n){if(!c)return c=e,u=(new Date).getTime(),!1;var t,r,i=(new Date).getTime(),o=i-u,a=(e-c)/o;return a?(t=(n-e)/a,r=100>t,c=e,u=i,r):!1},s=e.buffer(function(){var e=l(r.scrollTop(),f.offset().top+f.height()-r.viewportHeight());e&&(v(),n())},a);t.on(window,"scroll",s);var v=function(){t.detach(window,"scroll",s)};return v}}});KISSY.add("srp/_1h",["node","ua"],function(e,t){t("node");var a,n,r,i,o=e.one,c=t("ua"),u={navMutiSelectedPPath:function(){},navPPath:function(e){var t=e.parent(".J_Row");return t&&t.hasClass("multi-mode")?void 0:e.attr("data-value")},navSwitchState:function(){},auctionClick:function(e){return e.parent(".title")?";item_click_from:2":e.parent(".pic-box")?";item_click_from:1":""},skuClick:function(e){var t=this.getTraceRule(),a=e.parent(".feature-thumbs"),n=a.parent(".item"),r=this.getQuery("auction",t.auction.replace("${exec-auctionClick}","${skuClickValue}"),n.one('a[trace="auction"]'));return a&&r?r.replace("${skuClickValue}",";item_click_from:4;sku_smallpage:1"):void 0}};i=window.Search&&window.Search.get("logTypes")?window.Search.get("logTypes"):{mouseover:{key:"/mspcmouse.2",sign:"H46777405"},tongji:{key:"/tongji",sign:"H51884970"},pv:{key:"/search",sign:"H51884969"}};var l={initClickTrace:function(t){t=o(t?t:"body"),t&&(c.ie>6?t.delegate("keyup mouseup","[trace]",function(e){var t=e.which;(2===t||e.ctrlKey&&1===t)&&l._clickTrace(o(e.currentTarget))}):e.UA.firefox&&t.delegate("keyup mouseup","[trace]",function(e){var t=e.which;(2===t||3===t)&&l._clickTrace(o(e.currentTarget))}),t.delegate("click","[trace]",function(e){l._clickTrace(o(e.currentTarget))}))},iframeClickStat:function(e){var t={rule:a,data:n};if(r)try{document.domain="taobao.com"}catch(i){}if(e)for(var o=0,c=e.length;c>o;o++)"null"===e[o]?l.iframeTrace(t,"sc",""):l.iframeTrace(t,"sc",e[o]);else{var u=location.search,f=u.match(/sc_trace=([\.\w]*)/);if(f){var s=a.sc,d=n;d.iframe_show="iframe_show:"+f[1];var g=s.replace(/\$\{([\w]+)\}/g,function(e,t){return d[t]});this.log(g)}}},iframeTongjiStat:function(e){var t={rule:a,data:n},r=t.rule.sc,i=t.data;if(e=l.matchIframe(e)){i.iframe_show="iframe_show:"+e;var o=r.replace(/\$\{([\w]+)\}/g,function(e,t){return i[t]});o=o.replace("stats_click","f_stats_show"),l.log(o,!0)}},iframeTrace:function(e,t,a){if(t){var n=e.rule[t],r=e.data;if(a=l.matchIframe(a)){r.iframe_show="iframe_show:"+a;var i=n.replace(/\$\{([\w]+)\}/g,function(e,t){return r[t]});l.log(i,!1)}}},matchIframe:function(t){var a=0,n=[];if(r[t])return r[t];for(var i in r)a++,n.push(i);return 1===a?r[n[0]]:a>1&&(e.all("iframe").each(function(e){for(var t=e[0].src,i=0;a>i;i++)if(t.indexOf(r[n[i]])>-1){n.splice(i,1);break}}),n.length)?r[n[n.length-1]]:void 0},initAntiCheat:function(){if(!c.mobile){var t,a,n,r,i=["ctrlKey","metaKey","altKey","shiftKey"],o=function(e){for(var t=0,a=[],n=0;4>n;n++)if(e[i[n]]&&(t++,a.push(i[n])),2===t)return a;return!1},u=function(){return window.TB&&window.TB.Global&&window.TB.Global.util&&window.TB.Global.util.getNick()||""},f=function(){var e=window.g_page_config;if(!e&&window.Search)try{e=window.Search.get("app").getIoData()}catch(t){}return e&&e.mainInfo&&e.mainInfo.srpGlobal&&e.mainInfo.srpGlobal.q||""};e.ready(function(){var i=e.one("body");i.on("keydown",function(i){var s="ctrlKey";"macintosh"===c.os&&(s="metaKey"),r=o(i),r&&(t=e.now(),a=0,n=0);var d="";if(i[s]&&(i.which==="V".charCodeAt(0)?d="ctrl-v":i.which==="F".charCodeAt(0)&&(d="ctrl-f"),d)){var g={nick:u(),q:f(),time:e.now(),type:d},m=e.param(g);l.log(m,!0)}}),i.on("mouseleave",function(){r&&(a=e.now())}),i.on("mouseenter",function(){r&&(n=e.now(),l.log(e.param({type:"shortcut",assistKeys:r,nick:u(),q:f(),keydown:t,start:a,end:n}),!0),r=null)})})}},_clickTrace:function(e){var t=e.attr("trace");if(t&&a){var n=l.getQuery(t,a[t],e);n&&l.log(n)}},getQuery:function(t,a,r){var i,o,c,l=this;o=r.attr("traceidx"),o?(c=parseInt(o),isNaN(c)&&(c=1)):(i=r.attr("tracenum")||1,c=Math.floor(e.indexOf(r[0],e.all('a[trace="'+t+'"]'))/i));var f=!1,s=a.replace(/\$\{([\w-]+)\}/g,function(e,t){if(0===t.indexOf("data-")){var a=t.replace(/^data\-/,"trace-");return r.attr(a)}if(0===t.indexOf("exec-")){var i=u[t.slice(5)].call(l,r);if(void 0!==i)return i;f=!0}return void 0===n[t]?e:n[t]});return s.indexOf("[].")>-1&&(s.indexOf("[].#index")>-1&&(s=s.replace(/\$\{([\w]+\[\]\.\#index)\}/g,function(){return c+1})),s.indexOf("[].#value")>-1&&(s=s.replace(/\$\{([\w]+)\[\]\.\#value\}/g,function(e,t){return n[t][c]}))),f&&(s=""),s},logPv:function(e){l.log(e)},log:function(e,t){var a;a=t?i.tongji:i.pv,(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.record",arguments:[a.key,"",e,a.sign]})},mouseoverlog:function(e){var t;t=i.mouseover,(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.record",arguments:[t.key,"",e,t.sign]})},setTraceRule:function(e){a=e},setTraceData:function(e){n=e||{}},setIframeTrace:function(e){r=e},getIframeTrace:function(){return r},getTraceData:function(){return n},getTraceRule:function(){return a}};return window.SEARCH=window.SEARCH||{},window.SEARCH.matchIframe=l.matchIframe,KISSY.add("srpbase/tool/statsend/index",function(){return function(){return l}}),KISSY.add("components/_srpbase_statsend_/",function(){return function(){return l}}),l});KISSY.add("srp/_5",["io","ua"],function(e,a){function t(a,t){var r=-1===a.indexOf("?")?"?":"&",n=e.param(t);if(n){var i=a.indexOf("#");a=-1!==i?a.substr(0,i)+r+n+a.substr(i):a+r+n}return a}function r(e,a){var t=e&&e[1]||"";window.JSTracker&&window.JSTracker.send({url:"http://stat.s.taobao.com/",msg:"io-error:"+a.pageName+"_"+a.bucketid+"_"+t,sampling:1})}function n(e,a){this.app=e,this._config=a||{}}function i(e){var a=e.getIoData()||{},t=a.mainInfo&&a.mainInfo.srpGlobal&&a.mainInfo.srpGlobal.bucketid;return t}function o(e){var a=i(e),t=10;switch(a){case 0:t=8}return t}var s=a("io"),c=a("ua");return e.augment(n,{addItemRequestBehavior:function(a){var r=this,n=a.node,i=e.isUndefined(a.isAsync)?r._config.isAjaxRequest:a.isAsync,o=".J_Ajax",s="";s="ios"===c.os?"click":"click contextmenu",n.delegate(s,o,function(n){var o,s=e.one(n.currentTarget);if(e.isFunction(a.beforeRequest)&&(o=a.beforeRequest(s,n),o===!1))return void n.preventDefault();var c=s.attr("data-url")||"",u=r.app.getAjaxUrl(c),p={"data-key":s.attr("data-key"),"data-value":s.attr("data-value")},f=s.attr("data-action");f&&(p["data-action"]=f),o=e.merge(p,o);var d="contextmenu"===n.type,g=!1;if((1===n.button||0===n.button&&n.ctrlKey)&&(g=!0),!i||d||g){u=t(u,o),g&&(s.attr("target")||(s.attr("target","_blank"),setTimeout(function(){s.removeAttr("target")},0)));var l=s.attr("data-anchor");l&&(u=u+"#"+l),s.attr("href",u)}else n.preventDefault(),r.request(u,o,!0,a.afterRequest)})},request:function(a,n,c,u){var p=this,f=n||{};if(c=e.isUndefined(c)?p._config.isAjaxRequest:c){p.app.hideIoError(),f.ajax=!0,a=a.replace(/\#.+$/g,"");var d={url:a,cache:!1,dataType:"jsonp",crossDomain:!0,data:f,timeout:o(p.app)};p.app.NProgress.configure({speed:500,trickleRate:.2}),p.app.NProgress.set(.9);var g=p.app.timing;g.tick("io");var l=new s(d);l.then(function(t){g.tickEnd("io"),p.app.NProgress.configure({speed:0}),p.app.NProgress.set(1);var r=function(a){if(a.redirect)return void(location.href=a.redirect);var t=p.app.getPageName();if(t!==a.pageName){var r=a.mainInfo&&a.mainInfo.currentUrl;return void(location.href=r)}p.app.renderPage(a),e.isFunction(u)&&u()},n=t&&t[0];"sm"===n.rgv587_flag?e.use("sd/data_sufei/sufei, sd/data_sufei/css/taobao.css",function(e,t){new s(t({url:a,data:f,success:function(e){r(e)},dataType:"jsonp",crossDomain:!0,cache:!1},{style:"taobao"}))}):r(n)},function(a){g.tickEnd("io"),p.app.NProgress.done(),e.isFunction(u)&&u(),p.app.showIoError(),r(a,{pageName:p.app.getPageName(),bucketid:i(p.app),timeout:o(p.app)})})}else a=t(a,n),location.href=a}}),n});