//------------------------------------------------------------------------------------
//ÎŞÕÏ°­¿ì½İ¼ü¼°¹¤¾ßÌõµ÷ÓÃJS
//Version£ºV1.0
//Author£ºivan
//Date£º2013-07-03
//------------------------------------------------------------------------------------
var serverUrl = "http://www.shanghai.gov.cn/jhelper_V2.0/";
//var serverUrl = "http://www.wdit.com.cn/wza/V2.0/";
document.writeln("<script type=\"text/javascript\" src=\"" + serverUrl + "pinyin.js\"  charset=\"gb2312\" ></script>");
document.writeln("<script type=\"text/javascript\" src=\"" + serverUrl + "jhelper_urls.js\" charset=\"gb2312\" ></script>");


//------------------------------------------------------------------------------------
//-----------------------------------¹«¹²·½·¨¶¨Òå¿ªÊ¼------------------------------------

function debugAlert(msg) {
	//alert(msg);
}

//ä¯ÀÀÆ÷ÀàĞÍÅĞ¶Ï

function browserFlag() {
	var Sys = {};
	var ua = navigator.userAgent.toLowerCase();
	var s;
	(s = ua.match(/msie ([\d.]+)/)) ? Sys.ie = s[1] :
		(s = ua.match(/firefox\/([\d.]+)/)) ? Sys.firefox = s[1] :
		(s = ua.match(/chrome\/([\d.]+)/)) ? Sys.chrome = s[1] :
		(s = ua.match(/opera.([\d.]+)/)) ? Sys.opera = s[1] :
		(s = ua.match(/version\/([\d.]+).*safari/)) ? Sys.safari = s[1] : 0;
	return Sys;
}

//cookie¹¦ÄÜ--------------------------
//ÉèÖÃcookie//Á½¸ö²ÎÊı£¬Ò»¸öÊÇcookieµÄÃû×Ó£¬Ò»¸öÊÇÖµ

function SetCookie(name, value) {
	//´Ë cookie ½«±»±£´æ 30 Ìì
	var Days = 30;
	var exp = new Date();
	exp.setTime(exp.getTime() + Days * 24 * 60 * 60 * 1000);
	document.cookie = name + "=" + escape(value) + ";expires=" + exp.toGMTString();
}

//È¡cookies

function getCookie(name) {
	var arr = document.cookie.match(new RegExp("(^| )" + name + "=([^;]*)(;|$)"));
	if (arr != null) return unescape(arr[2]);
	return null;
}

//É¾³ıcookie

function delCookie(name) {
	var exp = new Date();
	exp.setTime(exp.getTime() - 1);
	var cval = getCookie(name);
	if (cval != null) document.cookie = name + "=" + cval + ";expires=" + exp.toGMTString();
}

// »ñÈ¡x£¬yÎ»ÖÃµÄelement

function getHTMLElementsAtPoint(x, y) {
	var tags = ",";
	var e = document.elementFromPoint(x, y);
	return e;
	while (e) {
		if (e.tagName) {
			tags += e.tagName + ',';
		}
		e = e.parentNode;
	}
	return tags;
}

// fengjunfeng ËÑË÷Ê¹ÓÃ

function changefoucs(newnav) {
	document.getElementById(newnav).style.display = "block";
}

function changeblur(newnav) {
	document.getElementById(newnav).style.display = "none";
}

function changeinput(newid) {
	if (newid.value != "") {
		newid.value = "";
	}
}

function blurinput(newid) {
	if (newid.value == "") {
		newid.value = "ÇëÊäÈë¹Ø¼ü´Ê"
	}
}

function getText(element) {
	var elementText;
	if (element.nodeName == "H1" || element.nodeName == "H2" || element.nodeName == "H3" || element.nodeName == "H4" || element.nodeName == "H5" || element.nodeName == "H6")

	{
		element = element.firstChild;
	}
	if (element.nodeName == "#text") {
		elementText = thisElement.nodeValue;
	} else if (element.nodeName == "IMG") {
		if (element.getAttribute("alt")) {
			elementText = element.getAttribute("alt");
		} else if (element.getAttribute("title")) {
			elementText = element.getAttribute("title");
		} else {
			elementText = document.title;
		}
	} else {
		elementText = element.innerText || element.textContent;
	}
	return elementText;
}

// ¼ò·±×ª»»·½·¨

function JTPYStr() {
	return 'ÍòÓë³ó×¨Òµ´Ô¶«Ë¿¶ªÁ½ÑÏÉ¥¸öãÜ·áÁÙÎªÀö¾ÙÃ´ÒåÎÚÀÖÇÇÏ°ÏçÊéÂòÂÒÕùÓÚ¿÷ÔÆØ¨ÑÇ²úÄ¶Ç×ÙôÒÚ½ö´ÓÂØ²ÖÒÇÃÇ¼ÛÖÚÓÅ»ï»áØñÉ¡Î°´«ÉËØöÂ×Ø÷Î±ØùÌåÓàÓ¶ÙİÏÀÂÂ½ÄÕì²àÇÈ¿ëÙ­Ù¯Ù¶Ù±Ù²Á©Ù³¼óÕ®ÇãÙÌÙÍÙÇ³¥ÙÎÙÏ´¢ÙĞ¶ù¶ÒÙğµ³À¼¹ØĞË×ÈÑøÊŞÙæÄÚ¸Ô²áĞ´¾üÅ©Ú£·ë³å¾ö¿ö¶³¾»ÆàÁ¹Áè¼õ´ÕÁİ¼¸·ïÙìÆ¾¿­»÷ÛÊÔäÛ»»®ÁõÔò¸Õ´´É¾±ğ„iØÙ¹ôØÛØÜ¼Á¹Ğ½£°ş¾çÈ°°ìÎñÛ½¶¯Àø¾¢ÀÍÊÆÑ«ÛÂ„ÖÔÈØĞØÑÇøÒ½»ªĞ­µ¥ÂôÂ¬Â±ÎÔÎÀÈ´Úá³§ÌüÀúÀ÷Ñ¹ÑáØÇ²ŞÏáØÉÏÃ³ø¾ÇØËÏØ²Î…¥…¦Ë«·¢±äĞğµşÒ¶ºÅÌ¾ß´ÓõºóÏÅÂÀÂğßÄ¶ÖÌıÆôÎâß¼ß½Å»ß¿ßÂÔ±ßÃÇºÎØÓ½ßÇÁüßÌßĞßåßÔÏÌßßÏìÑÆßÕßØßÙßÜ»©ßàßâßæÓ´ßé†yßë†|ßïßğ»½ßüßõØÄßùÄö†ª†®Ğ¥Åçà¶à·à¿ºÇàÈĞêàÓÖöàààèÏùàëÍÅÔ°´ÑÎ§àğ¹úÍ¼Ô²Ê¥ÛÛ³¡Ûà»µ¿é¼áÌ³ÛŞ°ÓÎë·Ø×¹Â¢ÛâÛäÀİ¿ÑÛğÛÑµæÛëˆ™ˆ›ÛîÛñÛõÛ÷ÛöÛşÛûÇµ¶é‰GÇ½×³Éù¿Çºø‰×´¦±¸¸´¹»Í·¿ä¼Ğ¶áŞÆÛ¼·Ü½±°Â×±¸¾Âèåüåıæ£æ©½ªÂ¦æ«æ¬½¿æ®Óéæ´æµ‹OÓ¤æ¿ÉôæÁæÈæÉæÍæÖËïÑ§ÂÏÄş±¦Êµ³èÉóÏÜ¹¬¿í±öÇŞ¶ÔÑ°µ¼ÊÙ½«¶û³¾Ò¢ŞÏÊ¬¾¡²ãŒÁÌë½ìÊôÂÅåğÓìËêÆñá«¸Úá­á®á°µºÁëÔÀá´¿ùNá»Ï¿iá½á¿ÂÍáÀáÁÕ¸áÉÂáÎáĞáÕáÛ¹®ÛÏ±ÒË§Ê¦àøÕÊÁ±ÖÄ´øÖ¡°ïàüàıàşÃİá¥¸É²¢¹ã×¯ÇìÂ®âĞ¿âÓ¦ÃíÅÓ·ÏöâŞ¿ªÒìÆúÕÅÃÖåòÍäµ¯Ç¿¹éµ±Â¼¦Ñå³¹¾¶áâÓùÒäâãÓÇâé»³Ì¬ËËâäâæâêâëÁ¯×Üí¡âøÁµ¿Ò¶ñâúâûâıâüÄÕã¢ÔÃí¨Ğüã¥Ãõ¾ª¾å²Ò³Í±¹ã«²Ñµ¬¹ßíªã³·ßã´Ô¸Éå‘\ãÀí¯ÀÁãÁí°ê§Ï·ê¨Õ½ê¯»§ÔúÆËÇ¤Ö´À©ŞÑÉ¨ÑïÈÅ¸§Å×ŞÒ¿ÙÂÕÇÀ»¤±¨µ£ÄâÂ£¼ğÓµÀ¹Å¡²¦Ôñ¹ÒÖ¿ÂÎ’¥ÎÎÌ¢Ğ®ÄÓµ²ŞØÕõ¼·»Ó’¦ÀÌËğ¼ñ»»µ·¾İÄíÂ°ŞâÖÀµ§²ôŞèŞêÀ¿Şì²ó¸éÂ§½ÁĞ¯ÉãŞó°ÚÒ¡±÷Ì¯Şü³ÅÄìß¢ß£ß¥ËÓÔÜµĞÁ²ÊıÕ«ìµ¶·Õ¶¶ÏÎŞ¾ÉÊ±¿õ•Dê¼Öç•oÏÔ½úÉ¹ÏşêÊÔÎêÍÔİêÓÔıÊõÆÓ»úÉ±ÔÓÈ¨ÌõÀ´Ñîè¿½Ü¼«¹¹èÈÊàÔæèÀèÅèÇÇ¹·ãèÉ¹ñÄûèßèÙÕ¤±êÕ»èÎèĞ¶°èÓèİÀ¸Ê÷ÆÜÑùèïèğèâèãèåµµèçÇÅèëèí½°×®ÃÎ—ƒ—…¼ìèùé¤èüèıé¡ÍÖÂ¥é­é´éµé·˜–¼÷éÄéÆºáéÉÓ£éÍ³÷éÖéÚéÜéİ»¶ì£Å·¼ßéâéä²ĞéæéçéééëÅ¹»Ùì±±Ï±ĞÕ±ë§ëªÆøÇâë²ëµ»ãººÎÛÌÀĞÚí³¹µÃ»ããÅ½Á¤ÂÙ²×›hãí»¦›mÅ¢Àáí´ãñãòãøĞºÆÃÔóãş½àÈ÷Íİä¤Ç³½¬½½ä¥›¸×Ç²âä«¼Ãä¯›º»ëä°Å¨ä±›»Í¿Ó¿ÌÎÀÔäµÁ°ä¶ÎĞ›é»ÁµÓÈó½§ÕÇÉ¬µíÔ¨äË×ÕäÂ½¥äÅÓæäÉÉøÎÂÓÎÍåÊªÀ£½¦äÓœ¾ää¹öÖÍäÙäÜÂúäŞÂËÀÄÂĞ±õÌ²œùäíäëäìäòÎ«Ç±äóÀ½äş±ôå°ÃğµÆÁéÔÖ²Óì¾Â¯ìÀì¿ìÁµãÁ¶³ãË¸ÀÃÌşÖòÑÌ·³ÉÕìÇ»âÌÌ½ıÈÈ»ÀìËìâìÑìÎìÖ°®Ò¯ë¹êóÇ£Îş¶¿êñ×´áîáïÓÌ±·áóªAÄü¶ÀÏÁÊ¨áöÕøÓüáøáıÁÔâ¨â¤ÖíÃ¨â¬Ï×Ì¡çá«_«`Âêçâ»·ÏÖ«oçôçëçå·©çç«šçõ¬QçöËöÇíÑşè¨è¯è¬è¶ÎÍê±µç»­³©î´³ëğÜÁÆÅ±ğİÑñğß´¯·èğåğâÓ¸¾·Ñ÷ğéğì»¾ğï³Õğ÷¯}ğùğü±ñÌ±ñ«ñ¨ñ®Ñ¢ñ²ñ³°¨ÖåñäÕµÑÎ¼à¸ÇµÁÅÌíîíö±€×ÅÕöíùíúÂ÷Öõ½Ãí¶·¯¿óí¸Âë×©íºÑâí¿íÂíÃÀù´¡³n¹èË¶íÌíÍ³}³~È·¼ï°­íÓí×¼îíÛíŞÀñµtìòìõµ»»öÙ÷Â»ìøÀëÍº¸ÑÖÖ»ı³Æ»à¶ŒïùË°öÕÎÈğ£ÇîÇÔÇÏÒ¤´ÜÎÑ¿úñ¼ñÀÊú¾ºóÆËñ±ÊóÈ¼ãÁıóÖÖşóÙÉ¸¹Yóİ³ïÇ©¼ò¹‚óåóæóêÂáóìóïóñÂ¨ÀºÀéóıô¥ÙáÀàôÌôĞôÏÔÁ·àÁ¸ôÖô×½ôôêæù¾ÀæúºìæûÏËæüÔ¼¼¶æıæş¼ÍÈÒÎ³ç¡À€´¿ç¢É´¸ÙÄÉÀ×İÂÚ·×Ö½ÎÆ·ÄÀ‚ÀƒÅ¦ç£Ïßç¤ç¥ç¦Á·×éÉğÏ¸Ö¯ÖÕç§°íç¨ç©ÉÜÒï¾­çª°óÈŞ½áç«ÈÆÀ„ç¬»æ¸øÑ¤ç­Âç¾ø½ÊÍ³ç®ç¯¾îĞåÀ…ËçÌĞ¼Ìç°¼¨Ğ÷ç±À†Ğøç²ç³´Âç´çµÉşÎ¬Ãàç·±Á³ñÀ‡ç¸ç¹×ÛÕÀçºÂÌ×ºç»ç¼ç½¼êÃåÀÂç¾ç¿¼©ÀˆçÀçÁç¶¶ĞçÂÀ‰çÃçÄ»ºµŞÂÆ±àçÅÔµçÆ¸¿çÈçÇ·ìÀŠçÉ²øçÊçËçÌçÍçÎçÏçĞÓ§ËõçÑçÒçÓçÔÉÉçÕçÖç×çØçÙ½ÉçÚó¿ÍøÂŞ·£°Õî¼î¿ôÇÏÛÇÌÁ™ÁšñìñïËÊ³ÜÄôÁûÖ°ñ÷Áªñù´ÏËà³¦·ôëÉÉöÖ×ÕÍĞ²µ¨Ê¤ëÊëËëÍëÖ½ºÂöëÚÔàÆêÄÔÅ§Ùõ½ÅÍÑëáÁ³À°ëçÄNëñÄåëïëğÌÚë÷ÅHÓßô¯½¢²Õôµ¼èÑŞÜ³ÒÕ½ÚØÂÜ¼ÎßÂ«ÜÊÎ­ÜÂÜÈÜÉ²ÔÜÑËÕÜÜÆ»¾¥Ü×ÜàÜãÜä¼ë¾£¼öÇQ¼ÔÜéÜêÜñÜöÜùµ´ÈÙ»çÜşÜıÓ«İ¡İ£İ¥Òñİ¤İ¦İ§Ò©İ°İ¯À³Á«İªİ«İ²»ñİµÓ¨İºİ»È[ÂÜÓ©ÓªİÓÏôÈø´ĞİÛİŞ½¯İäÀ¶¼»İñİ÷İöİëÇ¾İüİş°ªŞ­ÔÌŞ´Ş»ŞºÂ²ÂÇĞé³æò°ò±ËäÏºò²Ê´ÒÏÂì²Ïòºò¹¹ÆòÃòÉÂùÕİòÌòÍòÏòÓÍÉÎÏÀ¯Ó¬òå²õĞ«ò÷òîÎ…òıÏ]ĞÆÏÎ²¹³ÄÙò°ÀôÁĞ„ÍàÏ®ÑB×°ñÉÑTñÍñÏ¿ãñĞñÚñÜñßÒ[¼û¹ÛÓ_¹æÃÙÊÓêèÀÀ¾õêéêêêëÓ`êìêíêîêïõü´¥ö£Ô€ÓşÌÜÚ¥¼Æ¶©¸¼ÈÏ¼¥Ú¦Ú§ÌÖÈÃÚ¨ÆıÑµÒéÑ¶¼Ç×š½²»äÚ©ÚªÑÈÚ«Ğí¶ïÂÛ×›ËÏ·íÉè·Ã¾÷Ö¤Ú¬Ú­ÆÀ×çÊ¶×œÕ©ËßÕïÚ®Öß´ÊÚ°Ú¯×ÒëÚ±Ú²Ú³ÊÔÚ´Ê«ÚµÚ¶³ÏÖïÚ·»°µ®Ú¸Ú¹¹îÑ¯ÒèÚº¸ÃÏê²ïÚ»Ú¼×½ëÎÜÓïÚ½ÎóÚ¾ÓÕ»åÚ¿ËµËĞÚÀÇëÖîÚÁÅµ¶ÁÚÂ·Ì¿ÎÚÃÚÄË­ÚÅµ÷ÚÆÁÂ×»ÚÇÌ¸ÒêÄ±ÚÈµı»ÑÚÉĞ³ÚÊÚËÎ½ÚÌÚÍÚÎ²÷ÚÑÚÏÑèÚĞÃÕÚÒ× ÚÓÚÔÚÕĞ»Ò¥°ùÚÖÇ«Ú×½÷Ã¡ÚØÚÙÃıÌ·ÚÚÚÛÀ¾Æ×ÚÜÚİÇ´ÚŞÚß¹ÈØk±´Õê¸ºÚO¹±²ÆÔğÏÍ°ÜÕË»õÖÊ··Ì°Æ¶±á¹ºÖü¹á·¡¼úêÚêÛÌù¹óêÜ´ûÃ³·ÑºØêİÔôêŞ¼Ö»ßêßÁŞÂ¸Ôß×ÊêàêáêäêâêãÉŞ¸³¶ÄêåÊêÉÍ´ÍÚPÚQâÙÅâêæÀµÚR×¸êç×¬ÈüØÓØÍÔŞÚSÔùÉÄÓ®¸ÓÚWÕÔ¸ÏÇ÷ôõõ»Ô¾õÄõÅõÈ¼ùÛQõÎõÏõÑõÒÓ»³ì×ÙõÙõÜõæõçõé´ÚõïõòÇû³µÔş¹ìĞùŞaéí×ªéîÂÖÈíºäéïéğéñÖáéòéóéõéôéöé÷ÇáéøÔØéù½ÎŞbéúéû½Ïéü¸¨Á¾éı±²»Ô¹õéşŞcê¡ê¢ê£·ø¼­ŞdÊäàÎÔ¯Ï½Õ·ê¤ÕŞê¥´Ç±ç±è±ßÁÉ´ïÇ¨¹ıÂõÔË»¹Õâ½øÔ¶Î¥Á¬³ÙåÇåÉ¼£ÊÊÑ¡Ñ·µİåÎÂßÒÅÒ£µËÚ÷ÚùÓÊ×ŞÚşÁÚÓôÛ§Û£Û¦Ö£Û©ÛªÔÇµ¦ÔÍáN½´õ¦õ§ÄğÊÍÀïâ ¼øöÇöÉîÅîÆÕë¶¤îÈîÇîÉîÊÇ¥îËîÌè•·°µöîÍîÏè–îÎè—¸ÆîĞîÑ¶Û³®ÖÓÄÆ±µ¸ÖîÓîÔÔ¿ÇÕ¾ûÎÙ¹³îÖîÕîØî×Å¥îÙîÚÇ®îÛÇ¯îÜ²§îİîŞîßîàîá×êîâîã¼ØîäÓËÌú²¬ÁåîåÇ¦Ã­îæîçîèîéîëîìè™îíîîîïîğîòîôîóèœîõÍ­ÂÁîöî÷îøÕ¡îùÏ³îúîûèîüîıîşï¢¸õÃúï£ï¤½ÂÒ¿²ùï¥ï¦ï§Òøï¨Öıï©ÆÌèïªï«Á´ï¬ÏúËøï®ï­³ú¹øï¯ï°Ğâï±ï²·æĞ¿ï³ï´ïµÈñÌàï¶ï·ï¸ï¹ïºÕà´íÃªèŸï¾ï¿è ÎıïÀÂà´¸×¶½õÏÇïÃïÂïÄ¶§¼ü¾âÃÌïÅïÆéAïÇïÏïÈïÉïÊÇÂïñ¶ÍïËéBïÌïÍ¶ÆÃ¾ïÎéCïÒÕòéDïÓÄ÷ïÔÄøïÕïÖ¸ä°÷ï×éFïÚïÛïİéGïŞ¾µïáïßïàéHïâïãÁÍïäïåïæïçïèïéïêïëïìÀØéIïíÁ­ïîïïïğéJÏâ³¤ÃÅãÅÉÁãÆê\±ÕÎÊ´³ÈòãÇÏĞãÈ¼äãÉãÊÃÆÕ¢ÄÖ¹ëÎÅãËÃöãÌê]·§¸óºÒãÍãÎÔÄãÏê^ãĞÑËãÑãÒãÓãÔÑÖãÕ²ûÀ»ãÖê_À«ã×ãØãÙê`ãÚãÛêa¶ÓÑôÒõÕó½×¼ÊÂ½Â¤³ÂÚêÉÂÚíÔÉÏÕËæÒşÁ¥öÁÄÑ³ûöÅö¨Îíö«Ã¹ö°ö¦¾²ØÌ÷²÷³÷µ÷¹Î¤ÈÍí‚º«è¸è¹èºÔÏÒ³¶¥ÇêñüÏîË³ĞëçïÍç¹Ë¶Ùñı°äËÌñşÔ¤Â­ÁìÆÄ¾±ò¡¼ÕïFò¢ò£ïGò¤ÒÃÆµïHÍÇò¥ïIÓ±¿ÅÌâïJò¦ò§ÑÕ¶îò¨ò©µßòªò«ïK²üò¬ò­È§·çïrïsì©ìªì«ïtì¬ïuïvÆ®ì­ì®·É÷Ï÷Ğğ—¼¢ğ˜â¼â½â¾â¿âÀâÁ·¹Òû½¤ÊÎ±¥ËÇğ™âÂ¶üÈÄâÃğšğ›½Èğœ±ıâÄğ¶öâÅÄÙğğŸâÆÏÚ¹İâÇÀ¡ğ âÈ²öñ@âÉñAÁóâÊâËÂøâÌâÍâÎÂíÔ¦ÍÔÑ±³ÛÇıóR²µÂ¿æàÊ»æáæâ¾Ôæã×¤ÍÕæå¼İæäæææçÂîóS½¾æèÂæº§æéóTæê³ÒÑéóUóV¿¥æëÆïæìæíóWóXæîÆ­æïóYÉ§æğæñæòå¹æóæôÂâæõæöÖèæ÷óZæø÷Ã÷Å÷Æ÷Ş÷Ê÷ËÓã÷÷‚öÏ÷ƒÂ³öĞ÷…öÑöÒöÓöÔ÷†÷‡öÖ÷ˆ±«ö×÷‰öØöÙöÚ÷ŠöÛöÜ÷‹÷Œ÷÷öİöŞÏÊ÷ößöàöáöâöãöäÀğöåöæöçöèöé÷öê÷‘öëöì÷’öíöîöïöğöñöòöóöô¾¨÷“öõööö÷öø÷”÷•÷–÷—÷˜Èúöùöúöûöü÷™÷šöıöş÷¡÷¢÷£÷¤÷¥÷›÷œ÷¦÷§÷¨±î÷©÷ª÷«÷÷¬÷­ÁÛ÷®÷Ÿ÷ ÷¯ø@Äñğ¯¼¦ğ°Ãùû\Å¸Ñ»û]ğ±ğ²ğ³ğ´ğµÑ¼û^Ñìû_ğ·ğ¶Ô§û`ÍÒğ¸ğºğ¹ğ»ğ¼ûaûb¸ëğ½ºèûcğ¾ğ¿¾éğÀ¶ìğÁğÂğÃğÄÈµğÅğÆûdğÇÅôûeğÈûfûgûhğÉûiğÊ÷½ğËğÌğÍûkğÎûlûmûnûoğÏº×ûpğĞğÑğÒğÓğÔğÕğÖğØûrÓ¥ğ×ûsğÙûtõºÂóôï»ÆÙäüd÷ò÷õö¼ö½ü…ö¾Ø»÷ú÷şÆëì´³İö³ı†ı‡ö´Áäöµö¶ö·ö¸ö¹öºÈ£ö»Áú¹¨íè¹êÖ¾ÖÆ×ÉÖ»ÀïÏµ·¶ËÉÃ»³¢³¢ÄÖÃæ×¼ÖÓ±ğÏĞ¸É¾¡Ôà';
}

function FTPYStr() {
	return 'ÈfÅcáhŒ£˜I…²–|½zGƒÉ‡À†Ê‚€ãİØSÅRéûÅeüNÁxõ˜·†ÌÁ•àl•øÙIy ì¶Ìë…ƒ†®a®€ÓHÒC‡¾ƒ|ƒHÄö‚}ƒx‚ƒƒr±Šƒâ·•ş‚ø‚ã‚¥‚÷‚û‚t‚‚á‚ÎĞówğN‚òƒL‚b‚Hƒe‚É‚ÈƒSƒ~ƒŠƒz‚Rƒ‰ƒ°‚zƒ«ƒ€‚ùƒA‚ôƒEƒfƒ”ƒ¯ƒ†ƒ¦ƒ®ƒºƒ¶ƒ¼ühÌmêPÅdÆğB«F‡ÏƒÈŒùƒÔŒ‘ÜŠŞr‰VñTĞn›Q›rƒöœQœD›öœRœpœ„C×øPøD‘{„P“ôšëèÆc„„¢„t„‚„“„h„e„}„q„£„¥„’„©„„¦„ƒ„¡„ñŞk„Õ„ê„Ó„î„Å„Ú„İ„ìÃÍ„ã„ò…Q…T…^átÈA…f†ÎÙu±RûuÅPĞl…s„Sd•Ñ…–‰º…’…‡úû…˜BNıP¿h…¢ìaì^ëp°l×ƒ”¢¯BÈ~Ì–šU‡\»náá‡˜…Î†á†w‡Â †¢…Ç‡`‡Ò‡I‡³†h†T†J†Ü†èÔ†U‡µ‡“‡zß¸‡jûyßÉí‘†¡‡}‡^†ô‡‚‡W‡ˆ‡‡†Ñ‡O†ß‡Z†¤†î†r†¾ºô‡K†İ‡Êım‡Ó‡c‡[‡Š‡D‡¿‡ËàÀ‡†‡u‡Â‡Ú‡£Åü‡ÌÖoˆFˆ@‡è‡ú‡÷‡øˆDˆAÂ}‰¿ˆöÚæ‰Ä‰KˆÔ‰¯‰È‰Î‰]‰‰‹‰Å‰Å‰À‰¾‰¨ˆsˆ×‰|ˆº‰¡‰³‰Nˆß‰P‰_ˆå‰|ˆ‰q‰™‰Ï ‰ÑÂ•š¤‰Ø‰ÚÌ‚äÑ}‰òî^ÕFŠAŠZŠYŠJŠ^ª„ŠWŠy‹D‹Œ‹³‹‹‚Š™ËKŠä‹I‹Æ‹ÉŒDŠÊ‹z‹¹‹½‹ë‹È‹ğ‹‹‹Ü‹å‹Ô‹ßŒOŒWŒ\ŒŒšŒŒ™Œ‘—ŒmŒ’ÙeŒ‹Œ¦Œ¤Œ§‰ÛŒ¢ –‰mˆòŒÀŒÆ±MŒÓŒÚŒÏŒÃŒÙŒÒŒÕZšqØMçsS¹uX[–hGF{Aş˜n÷ˆMäVô£â¼¹pì–€Å›Ÿ®¤ºŸÃ§¬ÍÎ¾½ƒçÒLÖKVÇf‘c]Tì‘ªRı‹UF[é_®—‰ˆ›†—Ššw®”ä›§©Ø½Æ¶R‘›‘Ô‘n÷‘Ñ‘B‘Z‘“‘Yí‘z¿‚‘»‘«‘Ù‘©º‘Q‘ÃğÅÀÁ‚â‘Ò‘a‘‘ó@‘Ö‘K‘Í‘vÜ‘M‘„‘Tœ¡‘C‘‘|îŠ‘Ø‘€âğ‘¿‘Ğ‘¬‘ß‘â‘ò‘ê‘ğ‘ì‘ô¼™“ä’LˆÌ”U’Ğ’ß“P”_“á’“»“¸’à“Œ×oˆó“ú”M”n’ş“í”r”Q“Ü“ñ’ì“´”’é“ë“é’¶“Ï“õ“×’ê”D“]“Í“Æ“p“ì“Q“v“ş“Ó“ï“”S“Û“½“¥“«”ˆ“å”v”R“§”‡”y”z”d”[“u”P”‚”t“Î”f”X”]”x”\”€”³”¿”µıS”ÌôY”Ø”àŸoÅf•r•ç•ª•Ò•ƒ•îï@•x•ñ•Ô•Ï••Ÿ•º•á„Ğg˜ã™Cš¢ës™à—lí—î˜q‚Ü˜O˜‹˜º˜Ğ——™À—g—–˜Œ—÷—n™™™™f—d–Å˜Ë—£™±™É—™¾™µ™Ú˜ä—«˜Ó™è—¨—¿˜ï˜E™n˜˜ò˜å™u˜ª˜¶‰ô™„—®™z™ô˜¡™³˜ ™å™E˜Ç™ì™Â™°™Î™x™‘™‰™½™M™{™Ñ™Á™»™©™´º™™_šgšešWšš{š‘šˆšŒššš—š›šªš§İ®…”ÀšÖšĞšÚšâšäšåšè¡h›@œ«›°ßeœÏ›]–arœSœæœtœ¿œûğôœIÍ{oTaŠÉ›Ü¢¸D›Ñœ\{²œœÛáœyÒúgIœ†Gâ¡ø‰Tœ¥ı³œZi¬œuœİœoœì™¾q­ÕœYœOn^uÆOcBœØß[³ñ¢RsU§Lœş¹—M]VE´I©ËEut‡H“z‘|l®œçŸôì`Ä NŸ¬ tŸõŸ˜ŸÍücŸ’Ÿë q €ŸN TŸŸŸ©ŸıŸî Z C aŸáŸ¨ F cŸºıÁïÛ ” © Ó ¿ Ş ÙŠ î«EªwªqªNûƒªªŸªšªMª{ªœªbªzªsª«C«J«MØiØˆÎo«I«H­^­m¬„¬”¬|­h¬F¬š­t¬z«k¬m­‡­c¬q­\­I¬­‚¬­a­v­‹­‘®Y®TëŠ®‹•³ÙÜ® °X¯Ÿ¯‘°O¯ƒóœ¯¯‚°’åí°b¯d°W¯{°A¯ˆ°B°V°D¯”¯¯›°T°c°a°`°]°_°dÄŸ°}°™°—±Kû}±OÉw±I±P²g±{²”Öø± ²A²€²m²š³C´‰µ\µV´X´a´u³Œ³´^µZµaµ[µA³Îù´T³ˆ´“´o´™´_û|µK´ƒ´~‰AïàL¶Y¶B¶[µ¶\µœ·Aµ“¶Uëx¶d¶’·N·e·Q·x·v·„¶·d·€·w¸F¸`¸[¸G¸Z¸C¸Q¸]¸MØQ¸‚ºV¹S¹P¹a¹{»\»eºBº`ºYºš¹~»Iºº†»UºjºD»X»jº„ººˆºt»@»h»f»[¼eî¶i¼g¼c»›¼S¼Z¼Rğf¾o¿{ôé¼m¼u¼t¼qÀw¼v¼s¼‰¼wÀk¼o¼x¾•¼‹¼‡¼ƒ¼„¼†¾V¼{¼Œ¿v¾]¼Š¼ˆ¼y¼¼Ÿ¼…¼~¼‚¾€½C½X¼›¾š½M¼¼š¿—½K¿U½O½E½I½BÀ[½›½H½‰½q½Y½fÀ@½x½WÀL½o½k½{½j½^½g½y½½‹½ÀC½”½—½dÀ^½¿ƒ¾w¾c¾xÀm¾_¾p¾b¾y¾iÀK¾S¾d¾R¿‡¾I¾T¾^¾J¾C¾`¾U¾G¾Y¾l¾~¾|¾}¾’À|¾Ÿ¾˜¾ƒ¿ZÀD¾Œ¾E¾„¾œ¾€¾—¿P¾¾†¿|¾¾‡¾‰¿N¿`¿d¿b¿p¿\¿cÀp¿r¿O¿VÀ_¿~¿z¿wÀt¿s¿Š¿‰Ài¿¿˜¿•í\À`ÀRÀQÀUÀyÀ›¾WÁ_ÁPÁTÁ`ÁbÁuÁwÂNÂPÂEÂgÂeÂ–uÂ™Ã@ÂšÂœÂ“Â˜Â”ÃCÄcÄwÄdÄIÄ[Ã›Ã{Ä‘„Ù–VÄLÅFÃ„ÄzÃ}Ä’óvÄšÄXÄ“ÅLÄ_Ã“ÄTÄ˜ÅDáZÄsı|ÄìtÄeòvÄœÅNİ›ÅœÅÅ“ÆAÆDØWÆHË‡¹ÁdËGÊÌJÉÈ”ËÇ{ÈOÉnÆrÌK™”ÌOÇoÌdÊ\‰LŸ¦ÀOÇGË]ËRÇvÊÉœÊwËCËjÊ˜sÈœî ÎŸÉÊnË|ÉpÊaÊ{È‡È’ËÉWÉ‰ÈRÉÉPÈnËW«@Ê~¬“úLÉ”ÌEÌ}Î I¿MÊ’Ë_Ê[ÊrÊ‰ÊYÊVË{ËEÌyÊšævò‡ËNÌ`ÌAÌ@ÌIÌNË’éÂÌ\Ì”‘]Ì“ÏxÍAÏlëmÎrÏŠÎgÏÎ›ĞQÏ–Í˜ĞMÏ Ï|ĞUÏUÍÏuÎ‡Ï“Í‘ÎÏÏ‰ÏXÏsÏÏNÏ”ÏQÏ\ĞDá…ã•ÑaÒrĞ–Ò\‹–Ñ‹ÒmÒuÒUÑbÒdÑ‚ÑÒcÑÒMÒ@Òh¿‹ÒwÒŠÓ^ÒÒÒ’Ò•Ò—Ó[ÓXÓJÒ Ó]ÓCÓDÓMÓPÓUÓxÓ|Óz×„×uÖ`Ó…Ó‹Ó†Ó‡ÕJ×IÓ“ÓÓ‘×ŒÓ˜Ó™Ó–×hÓÓ›Ó•ÖvÖMÖÔnÓ ÔGÔSÓÕ“ÔKÔAÖSÔOÔLÔE×CÔbÔXÔuÔ{×RÔwÔpÔVÔ\ÔgÖaÔ~ÔxÔtÔv×gÔrÕEÕCÔ‡ÔŸÔŠÔ‘ÔœÕ\ÕDÔ–Ô’ÕQÔÔÔÔƒÔ„ÕŠÔ“Ô”ÔŒÕŸÔ‚×pÕ]Õ_ÕZÕVÕ`ÕaÕTÕdÕNÕfÕbÕOÕˆÖTÕŒÖZ×xÕÕuÕnÕ†Õ˜ÕlÕ”Õ{Õ~ÕÕÕrÕ„ÕxÖ\ÖRÕ™ÖeÖGÖCÖoÖ]Ö^Ö@ÖIÖX×‹ÖJÖOÖVÖBÖiÕ›ÕšÖƒ×•ÖqÖxÖ{ÖrÕÖtÖkÖ”Ö™Ö†×vÖ‡×T×P×S××V×H×—×l×d×·YØrØØ‘Ø“Ø’Ø•Ø”ØŸÙt”¡Ù~Ø›Ù|ØœØØšÙHÙÙAØÙEÙvÙSÙBÙNÙFÙLÙJÙQÙMÙRÙOÙ\Ù—ÙZÙVÙDÙUÙTÚEÙYÙWÚBÙgÙcÙlÙdÙxÙ€ıVÚHÙpÙnÚFÙkÙsÙrÙyÙ‡ÙˆÙ˜ÙÙÙÙ‘ÚI×“ÙšÙ›Ù ÚAÚMÚXÚwÚsÚ…ÚÜOÜSÛ„Û•ÜVÛ`ÜJÜEÛ‹Ü]ÜQÛxÜPÛ™ÜWÜUÜbÛ˜ÜXÜfÜkÜgÜ|Ü‡ÜˆÜ‰ÜÜÜŞDÜ—İ†Ü›ŞZİMİVŞ_İSİTİWÜ İFŞ]İUİpİYİdİeŞIİcİbİ`İ^İmİoİvİ‚İ…İxİİyİˆİzİwİİ—İ‹İœİ”Ş\Ş@İ İšŞAŞHŞOŞoŞqŞpß…ß|ß_ßwß^ß~ß\ß€ß@ßMßhß`ßBßtßƒŞŸÛEßmßxßdßfßŠß‰ßzßbà‡à—àwà]àuà’àôdàSàPà”ààiáBàyàájáwáuá‰á‡á„áŒÑYîÒèbèçYááá˜á”á“á•á‘âQâTâAáŸâlâCáå{âSåâOâ]â}âbââgânæRâcä^ä“âkâjè€šJâxæuã^â‚â[â€â^âoâZâ•åXã`ãQâ’ÀâãOâ˜â“ãXèãfãgâ›âšâ™èFãKâèpãUãTâ‹ãCãBãGâ”èIãoäDã™ãsäBäeäyçtã‡èKã~äXäHãŸæzåããŠäbäAã”çfãŒãxã“ãtã‘åPäCãqãçPã|ç|ä@ãyãœèTç„ääoånäˆæœçHäNæiä‡ä{äzåä†ä~çnäSäsähä\äç˜ç™äJäRäZäuä|åHäæNåeå^åWä˜åKå_åaådèŒåNåFå\åväŸäåUåVæIäåiåOå›å}å|çIæJåŠåšæ@æRå‘æ}å–æDæXåƒæVçUætæŸæ‚ænækè‡çæ‡æ“æyæ€æ^æ„ægçSçMæ çaçOçRçCæ—æ›çBç†è‘ç‚çhèuç…è|ç’è‰çjç‹èZèDèGèCç èOèdèsènè‚éLéTéVéWéZé\é]†–êJécééeébégéhé`élô[é|Â„êYé}é‚êGéyéwéué€ôbé†éêAé“éé‹ô]é”é’éé‘êUê@é˜êTéŸé êHêDêFêIêRêXê ê–êê‡ëAëHê‘ë]êê€ê„êŸëEëUëSë[ë`ëhëyër×‡ìZìFìVüqì\ìnìoìví^íXídíxífígíhínítíyíwíí“í”í•í™í—í˜íšíœîBî™îDí îCíî@îAïBîIîHîiîRîaîcîM}ŸâîWîUîlî_îjîhîe·fîwî}î„î€î…îî~ïDî”îî‹î—ÀhîîïAïEïLï^ïQïRïSïZï\ï`ï_ïdïhïjïjïwğ‹ğï}ğ‡ï€ğhï‚ğqïƒï„ï†ïˆï‹ğTï—ï–ï•ï˜ïğDğˆğAïğEïœğFïğGğLğIğNğHğKğRğQğWğ^ğlğğkğtğ’ğvğxğoğsğ}ğ~ğzğ€ğ‚ğ–ñRñSñWñZñYòŒñ_ñgóHñzñ‚ñ†ñ€ñxò|ñvñ„ñwñ{óAñ~ò”ÁRñ—òœò‘ñ˜ñ”ñ‰óQóPòGòòHñŸòEòUòTòSòKòRò“ò‰ò_òsòjò}ò\òˆòtòqò~òŠò…ò‹ò–óEóKóLóJótóyóxôWô|ôuô~ô€ô‡ôœôô”ô™ôŸõEõGöT÷|õOõWõVõNõU÷cõQõTõqõ^õwõnõbõjöfõ`÷d÷qõoõrõ~õœ÷\õ†÷~ö–öõöˆöœõ…õõŒõzöaõ—õ›öNõšöOöEöHöKöAöFöTõ öLöYöXõ™÷aölös÷lö[ö“ögöw÷{öqövömöe÷Föcö…üö’ööŠöö„öö˜÷B÷L÷Mö öš÷I÷@÷Z÷X÷[÷V÷s÷h÷k÷gøBøFëuøSøQøOútøfúIødøcøù…ûRø†ø{ø„øoø|øzøxøŠørúƒúvøøø ø’ù@øû[ø™ùMùPûZùNù]ùZùOú‘ùYù^ùoù‘ùgúAùlùiùkù‡ùˆùtú‰ù–ùŸù˜úXú\úBúFúgú_úOúVúWú^úYúQúsûWúpúwúú„úú–ú˜ûDú—ûIûLûXûUûzûœûŸüSüZüsütüoüwüxü{üƒìŠıBıOıRıWıXıZı[ı]ıeıgı_ıfıbılırıpıxı}ıˆııı”ÕIÑuÚÑëbÑe‚S¹ ó ƒÓ‡Ÿ‡Lô\üIœÊçŠ•éfÇ¬ƒÅK';
}

function Traditionalized(cc) {
	var str = '',
		ss = JTPYStr(),
		tt = FTPYStr();
	for (var i = 0; i < cc.length; i++) {
		if (cc.charCodeAt(i) > 10000 && ss.indexOf(cc.charAt(i)) != -1) str += tt.charAt(ss.indexOf(cc.charAt(i)));
		else str += cc.charAt(i);
	}
	return str;
}

function Simplized(cc) {
	var str = '',
		ss = JTPYStr(),
		tt = FTPYStr();
	for (var i = 0; i < cc.length; i++) {
		if (cc.charCodeAt(i) > 10000 && tt.indexOf(cc.charAt(i)) != -1) str += ss.charAt(tt.indexOf(cc.charAt(i)));
		else str += cc.charAt(i);
	}
	return str;
}

// HashMap
function HashMap() { 

	var size=0; 
	var entry=new Object(); 
	this.put=function(key,value)
	{ 
		if(!this.containsKey(key)){ 
		size++; 
		entry[key]=value; 
		} 
	} 

	this.get=function(key){ 
		return this.containsKey(key) ? entry[key] : null; 
	}

	this.remove=function(key){ 
		if(this.containsKey(key) && ( delete entry[key] )){ 
			size--; 
		}	 
	}	 

	/**ÊÇ·ñ°üº¬Key**/ 
	this.containsKey= function (key){ 
		return (key in entry); 
	} 

	/**ÊÇ·ñ°üº¬Value**/ 
	this.containsValue=function(value){ 
		for(var prop in entry) 
		{ 
			if(entry[prop]==value){ 
			return true; 
			} 
		} 
		return false; 
	} 

	/**ËùÓĞµÄValue**/ 
		this.values=function(){ 
			var values=new Array(); 
			for(var prop in entry) 
			{ 
				values.push(entry[prop]); 
			} 
			return values; 
	} 

	/**ËùÓĞµÄ Key**/ 
	this.keys=function(){ 
		var keys=new Array(); 
		for(var prop in entry) 
		{ 
			keys.push(prop); 
		} 
		return keys; 
	}

	/**Map size**/ 
	this.size=function(){ 
		return size; 
	} 

	/**Çå¿ÕMap**/ 
	this.clear=function(){ 
		size=0; 
		entry=new Object(); 
	} 
}

// md5
var hexcase = 0; /* hex output format. 0 - lowercase; 1 - uppercase */ 
var b64pad = ""; /* base-64 pad character. "=" for strict RFC compliance */ 
var chrsz = 8; /* bits per input character. 8 - ASCII; 16 - Unicode */

/* 
* These are the functions you'll usually want to call 
* They take string arguments and return either hex or base-64 encoded strings 
*/ 
function hex_md5(s){ return binl2hex(core_md5(str2binl(s), s.length * chrsz));} 
function b64_md5(s){ return binl2b64(core_md5(str2binl(s), s.length * chrsz));} 
function hex_hmac_md5(key, data) { return binl2hex(core_hmac_md5(key, data)); } 
function b64_hmac_md5(key, data) { return binl2b64(core_hmac_md5(key, data)); }

/* Backwards compatibility - same as hex_md5() */ 
function calcMD5(s){ return binl2hex(core_md5(str2binl(s), s.length * chrsz));}

/* 
* Perform a simple self-test to see if the VM is working 
*/ 
function md5_vm_test() 
{ 
return hex_md5("abc") == "900150983cd24fb0d6963f7d28e17f72"; 
}

/* 
* Calculate the MD5 of an array of little-endian words, and a bit length 
*/ 
function core_md5(x, len) 
{ 
/* append padding */ 
x[len >> 5] |= 0x80 << ((len) % 32); 
x[(((len + 64) >>> 9) << 4) + 14] = len;

var a = 1732584193; 
var b = -271733879; 
var c = -1732584194; 
var d = 271733878;

for(var i = 0; i < x.length; i += 16) 
{ 
var olda = a; 
var oldb = b; 
var oldc = c; 
var oldd = d;

a = md5_ff(a, b, c, d, x[i+ 0], 7 , -680876936); 
d = md5_ff(d, a, b, c, x[i+ 1], 12, -389564586); 
c = md5_ff(c, d, a, b, x[i+ 2], 17, 606105819); 
b = md5_ff(b, c, d, a, x[i+ 3], 22, -1044525330); 
a = md5_ff(a, b, c, d, x[i+ 4], 7 , -176418897); 
d = md5_ff(d, a, b, c, x[i+ 5], 12, 1200080426); 
c = md5_ff(c, d, a, b, x[i+ 6], 17, -1473231341); 
b = md5_ff(b, c, d, a, x[i+ 7], 22, -45705983); 
a = md5_ff(a, b, c, d, x[i+ 8], 7 , 1770035416); 
d = md5_ff(d, a, b, c, x[i+ 9], 12, -1958414417); 
c = md5_ff(c, d, a, b, x[i+10], 17, -42063); 
b = md5_ff(b, c, d, a, x[i+11], 22, -1990404162); 
a = md5_ff(a, b, c, d, x[i+12], 7 , 1804603682); 
d = md5_ff(d, a, b, c, x[i+13], 12, -40341101); 
c = md5_ff(c, d, a, b, x[i+14], 17, -1502002290); 
b = md5_ff(b, c, d, a, x[i+15], 22, 1236535329);

a = md5_gg(a, b, c, d, x[i+ 1], 5 , -165796510); 
d = md5_gg(d, a, b, c, x[i+ 6], 9 , -1069501632); 
c = md5_gg(c, d, a, b, x[i+11], 14, 643717713); 
b = md5_gg(b, c, d, a, x[i+ 0], 20, -373897302); 
a = md5_gg(a, b, c, d, x[i+ 5], 5 , -701558691); 
d = md5_gg(d, a, b, c, x[i+10], 9 , 38016083); 
c = md5_gg(c, d, a, b, x[i+15], 14, -660478335); 
b = md5_gg(b, c, d, a, x[i+ 4], 20, -405537848); 
a = md5_gg(a, b, c, d, x[i+ 9], 5 , 568446438); 
d = md5_gg(d, a, b, c, x[i+14], 9 , -1019803690); 
c = md5_gg(c, d, a, b, x[i+ 3], 14, -187363961); 
b = md5_gg(b, c, d, a, x[i+ 8], 20, 1163531501); 
a = md5_gg(a, b, c, d, x[i+13], 5 , -1444681467); 
d = md5_gg(d, a, b, c, x[i+ 2], 9 , -51403784); 
c = md5_gg(c, d, a, b, x[i+ 7], 14, 1735328473); 
b = md5_gg(b, c, d, a, x[i+12], 20, -1926607734);

a = md5_hh(a, b, c, d, x[i+ 5], 4 , -378558); 
d = md5_hh(d, a, b, c, x[i+ 8], 11, -2022574463); 
c = md5_hh(c, d, a, b, x[i+11], 16, 1839030562); 
b = md5_hh(b, c, d, a, x[i+14], 23, -35309556); 
a = md5_hh(a, b, c, d, x[i+ 1], 4 , -1530992060); 
d = md5_hh(d, a, b, c, x[i+ 4], 11, 1272893353); 
c = md5_hh(c, d, a, b, x[i+ 7], 16, -155497632); 
b = md5_hh(b, c, d, a, x[i+10], 23, -1094730640); 
a = md5_hh(a, b, c, d, x[i+13], 4 , 681279174); 
d = md5_hh(d, a, b, c, x[i+ 0], 11, -358537222); 
c = md5_hh(c, d, a, b, x[i+ 3], 16, -722521979); 
b = md5_hh(b, c, d, a, x[i+ 6], 23, 76029189); 
a = md5_hh(a, b, c, d, x[i+ 9], 4 , -640364487); 
d = md5_hh(d, a, b, c, x[i+12], 11, -421815835); 
c = md5_hh(c, d, a, b, x[i+15], 16, 530742520); 
b = md5_hh(b, c, d, a, x[i+ 2], 23, -995338651);

a = md5_ii(a, b, c, d, x[i+ 0], 6 , -198630844); 
d = md5_ii(d, a, b, c, x[i+ 7], 10, 1126891415); 
c = md5_ii(c, d, a, b, x[i+14], 15, -1416354905); 
b = md5_ii(b, c, d, a, x[i+ 5], 21, -57434055); 
a = md5_ii(a, b, c, d, x[i+12], 6 , 1700485571); 
d = md5_ii(d, a, b, c, x[i+ 3], 10, -1894986606); 
c = md5_ii(c, d, a, b, x[i+10], 15, -1051523); 
b = md5_ii(b, c, d, a, x[i+ 1], 21, -2054922799); 
a = md5_ii(a, b, c, d, x[i+ 8], 6 , 1873313359); 
d = md5_ii(d, a, b, c, x[i+15], 10, -30611744); 
c = md5_ii(c, d, a, b, x[i+ 6], 15, -1560198380); 
b = md5_ii(b, c, d, a, x[i+13], 21, 1309151649); 
a = md5_ii(a, b, c, d, x[i+ 4], 6 , -145523070); 
d = md5_ii(d, a, b, c, x[i+11], 10, -1120210379); 
c = md5_ii(c, d, a, b, x[i+ 2], 15, 718787259); 
b = md5_ii(b, c, d, a, x[i+ 9], 21, -343485551);

a = safe_add(a, olda); 
b = safe_add(b, oldb); 
c = safe_add(c, oldc); 
d = safe_add(d, oldd); 
} 
return Array(a, b, c, d);

}

/* 
* These functions implement the four basic operations the algorithm uses. 
*/ 
function md5_cmn(q, a, b, x, s, t) 
{ 
return safe_add(bit_rol(safe_add(safe_add(a, q), safe_add(x, t)), s),b); 
} 
function md5_ff(a, b, c, d, x, s, t) 
{ 
return md5_cmn((b & c) | ((~b) & d), a, b, x, s, t); 
} 
function md5_gg(a, b, c, d, x, s, t) 
{ 
return md5_cmn((b & d) | (c & (~d)), a, b, x, s, t); 
} 
function md5_hh(a, b, c, d, x, s, t) 
{ 
return md5_cmn(b ^ c ^ d, a, b, x, s, t); 
} 
function md5_ii(a, b, c, d, x, s, t) 
{ 
return md5_cmn(c ^ (b | (~d)), a, b, x, s, t); 
}

/* 
* Calculate the HMAC-MD5, of a key and some data 
*/ 
function core_hmac_md5(key, data) 
{ 
var bkey = str2binl(key); 
if(bkey.length > 16) bkey = core_md5(bkey, key.length * chrsz);

var ipad = Array(16), opad = Array(16); 
for(var i = 0; i < 16; i++) 
{ 
ipad[i] = bkey[i] ^ 0x36363636; 
opad[i] = bkey[i] ^ 0x5C5C5C5C; 
}

var hash = core_md5(ipad.concat(str2binl(data)), 512 + data.length * chrsz); 
return core_md5(opad.concat(hash), 512 + 128); 
}

/* 
* Add integers, wrapping at 2^32. This uses 16-bit operations internally 
* to work around bugs in some JS interpreters. 
*/ 
function safe_add(x, y) 
{ 
var lsw = (x & 0xFFFF) + (y & 0xFFFF); 
var msw = (x >> 16) + (y >> 16) + (lsw >> 16); 
return (msw << 16) | (lsw & 0xFFFF); 
}

/* 
* Bitwise rotate a 32-bit number to the left. 
*/ 
function bit_rol(num, cnt) 
{ 
return (num << cnt) | (num >>> (32 - cnt)); 
}

/* 
* Convert a string to an array of little-endian words 
* If chrsz is ASCII, characters >255 have their hi-byte silently ignored. 
*/ 
function str2binl(str) 
{ 
var bin = Array(); 
var mask = (1 << chrsz) - 1; 
for(var i = 0; i < str.length * chrsz; i += chrsz) 
bin[i>>5] |= (str.charCodeAt(i / chrsz) & mask) << (i%32); 
return bin; 
}

/* 
* Convert an array of little-endian words to a hex string. 
*/ 
function binl2hex(binarray) 
{ 
var hex_tab = hexcase ? "0123456789ABCDEF" : "0123456789abcdef"; 
var str = ""; 
for(var i = 0; i < binarray.length * 4; i++) 
{ 
str += hex_tab.charAt((binarray[i>>2] >> ((i%4)*8+4)) & 0xF) + 
hex_tab.charAt((binarray[i>>2] >> ((i%4)*8 )) & 0xF); 
} 
return str; 
}

/* 
* Convert an array of little-endian words to a base-64 string 
*/ 
function binl2b64(binarray) 
{ 
var tab = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"; 
var str = ""; 
for(var i = 0; i < binarray.length * 4; i += 3) 
{ 
var triplet = (((binarray[i >> 2] >> 8 * ( i %4)) & 0xFF) << 16) 
| (((binarray[i+1 >> 2] >> 8 * ((i+1)%4)) & 0xFF) << 8 ) 
| ((binarray[i+2 >> 2] >> 8 * ((i+2)%4)) & 0xFF); 
for(var j = 0; j < 4; j++) 
{ 
if(i * 8 + j * 6 > binarray.length * 32) str += b64pad; 
else str += tab.charAt((triplet >> 6*(3-j)) & 0x3F); 
} 
} 
return str; 
} 


//------------------------------------------------------------------------------------
//--------------------------------------¹«¹²·½·¨¶¨Òå½áÊø---------------------------------
//---------------------------ÎÄ×ÖÌáÊ¾¹¦ÄÜ¶¨Òå¿ªÊ¼-----------------------------//
var toolbar = new Object();
toolbar.Function = new Object();
var hiddenTagName = "samp";
var elementFuncHashMap=new HashMap(); 

function elementContext() {
	this.thisContext 	= new Object();
	this.funcMouseOver 	= new function(){};
	this.funcMouseOut 	= new function(){};
	this.testValue 		= "what is your";
	this.element        = new Object();
}

function initTextTips() {
	var messageboxText = "";
	messageboxText += "<div class=\"disabilitiesLanguage\">";
        // ½â¾öie6ÏÂÀ­¿ò¸¡ÔÚ¹¤¾ßÌõÉÏµÄ·½·¨
        messageboxText += "<iframe style=\"position:absolute;top:0;left:0;width:100%;height:100%;z-index:-1;filter:alpha(opacity=0);\"></iframe>";
	messageboxText += "<div class=\"LanguageMain\" id=\"language\">";
	messageboxText += "<ul class=\"font_titleBar\">";
	messageboxText += "<li><input type=\"button\" title=\"×ª»»¼òÌå×Ö\" id=\"jhelper_btn01\" class=\"jhelper_btn01\" onclick=\"toolbar.Function.textTips.simpleModel()\"/></li>";
	messageboxText += "<li><input type=\"button\" title=\"×ª»»·±Ìå×Ö\" class=\"jhelper_btn02\" onclick=\"toolbar.Function.textTips.raditionalModel()\"/></li>";
	messageboxText += "</ul>";
	messageboxText += "<ul class=\"LanguageSpell\">";
	messageboxText += "<li class=\"jhelper_btn01\" id=\"spell\"><input type=\"button\" title=\"ÏÔÊ¾Æ´Òô\" onclick=\"toolbar.Function.textTips.pinyinControl()\"/></li>";
	messageboxText += "<li class=\"jhelper_btn02\"><input type=\"button\" title=\"¹Ø±ÕÎÄ×Ö·Å´óÔÄ¶ÁÆÁÄ»\" class=\"input\" onclick=\"toolbar.Function.textTips.mainMethod();\" onMouseDown=\"this.className='inputOn'\" onMouseUp=\"this.className=''\"/></li>";
	messageboxText += "</ul>";
	messageboxText += "</div>";
	messageboxText += "<div class=\"Languagetext\">";
	messageboxText += "<div class=\"LanguageTextMin\">";
	messageboxText += "<div class=\"LanguageTextContent\">";
	messageboxText += "<p><table><tr><td id=\"helper_messageBoxText\"></td></tr></table></p>";
	messageboxText += "</div>";
	messageboxText += "</div>";
	messageboxText += "</div>";
	messageboxText += "<div class=\"disabilitiesFooterBg\"></div>";
	messageboxText += "</div>";

	toolbar.Function.textTips = {
		showHTML: function() {
			if (ABTConfig.textTips.functionSwitch) {
				return "<input id=\"texttipsbutton\" type=\"button\" value=\"ÎÄ×ÖÌáÊ¾\" title=\"ÎÄ×ÖÌáÊ¾\" onclick=\"toolbar.Function.textTips.mainMethod()\" /><!--<input id=\"pinyinbutton\" type=\"button\" value=\"¿ªÆôÆ´Òô¹¦ÄÜ\" title=\"¿ªÆôÆ´Òô¹¦ÄÜ\"onclick=\"toolbar.Function.textTips.pinyinControl()\" />-->";
			} else {
				return "";
			}
		},
		cookieName: "textTips",
		cookieMethod: function() {
			if (ABTConfig.textTips.cookieSwitch && toolbar.cookie.getCookie(this.cookieName) == 1) {
				toolbar.Function.textTips.mainMethod();
			}
		},
		resetCookie: function() {
			toolbar.cookie.setCookie(this.cookieName, 0);
		},
		testTipsState: false,
		pinyinState: false,
		allTextNode: new Array(),
		isTextNode: function(element) {
			if (element.tagName == "IMG" || element.tagName == "INPUT" || element.tagName == "OBJECT" || element.tagName == "SELECT" || element.tagName == "H1" || element.tagName == "H2" || element.tagName == "H3" || element.tagName == "H4" || element.tagName == "H5" || element.tagName == "H6" || element.tagName == "A" || element.tagName == "li" || element.tagName == "SPAN"|| element.tagName=="a" || element.tagName=="input"|| element.tagName=="img") {
				return true;
			} else {
				return false;
			}
		},
		getTextNode: function(element) {
			var childNodes = element.childNodes;
			for (var i = 0; i < childNodes.length; i++) {
				var thisChild = childNodes[i];
				switch (thisChild.nodeType) {
					case 1:
						this.getTextNode(thisChild);
						break;
					case 3:
						if (this.trim(thisChild.nodeValue).length == 0) {
							break;
						}
						this.allTextNode.push(thisChild);
						break;
				}
				if (thisChild.nodeName == "IMG" || thisChild.nodeName == "INPUT" || thisChild.nodeName == "OBJECT" || thisChild.nodeName == "SELECT") {
					this.allTextNode.push(thisChild);
				}
			}
		},
		AddTag: function() {
			if (this.firstRun) {
				return;
			}
			for (var a = 0; a < this.allTextNode.length; a++) {
				var tagNode = document.createElement(hiddenTagName);
				if (this.allTextNode[a].nodeName == "IMG" || this.allTextNode

					[a].nodeName == "INPUT" || this.allTextNode[a].nodeName == "SELECT") {
					tagNode.setAttribute("class", "getmessage");
					var newNode = this.allTextNode[a].cloneNode(true);
					tagNode.appendChild(newNode);
				} else if (this.allTextNode[a].nodeName == "OBJECT" && this.allTextNode[a].parentNode.nodeName != "OBJECT") {
					tagNode.setAttribute("class", "getmessage");
					var newNode = this.allTextNode[a].cloneNode(true);
					tagNode.appendChild(newNode);
				} else {
					var newString = this.allTextNode[a].nodeValue;
					var reg = /[£¬¡££¡£¿£»¡¢£º]/;
					if (true){//reg.exec(newString) == null) {
						tagNode.setAttribute("class", "getmessage");
						tagNode.innerHTML = newString;
					} else {
						tagNode.setAttribute("class", "getmainmessage");
						tagNode.innerHTML = this.mySplit(newString, /[£¬¡££¡£¿£»¡¢£º]/);
					}
				}
				if (this.allTextNode[a].parentNode) {
					this.allTextNode[a].parentNode.insertBefore(tagNode, this.allTextNode[a]);
				}
			}
			for (var b = 0; b < this.allTextNode.length; b++) {
				if(this.allTextNode[b].parentNode != null) {
					this.allTextNode[b].parentNode.removeChild(this.allTextNode[b]);
				}
			}
			var allOption = $(mainBoxID).get(0).getElementsByTagName("option");
			for (var c = 0; c < allOption.length; c++) {
				if(allOption[c].firstChild != null) {
					var thisMessage = allOption[c].firstChild.cloneNode(true);
					allOption[c].innerHTML = "";
					allOption[c].appendChild(thisMessage);
				}
			}
			this.firstRun = true;

		},
		trim: function(str) {
			return str.replace(/(^\s*)|(\s*$)/g, "");
		},
		mySplit: function(str, reg) {
			var result, x = str,
				y, zzz = true;
			var stringArray = new Array();
			do {
				result = reg.exec(x);
				if (result != null) {
					var stringIndex = result.index;
					stringArray.push(x.substring(0, stringIndex + 1));
					x = x.substring(stringIndex + 1);
				} else {
					stringArray.push(x)
					zzz = false;
				}
			}
			while (zzz)
			var yy = "<"+hiddenTagName + "class=\"getmessage\">";
			for (var a = 0; a < stringArray.length; a++) {
				yy += (a < stringArray.length - 1) ? (stringArray[a] + "</"+hiddenTagName+"><"+hiddenTagName+" class=\"getmessage\">") :

				(stringArray[a]);
			}
			yy += "</"+hiddenTagName+">";
			return yy;
		},
		pinyingArray: new Array(),
		TraditionalArray: new Array(),
		simplifiedArray: new Array(),
		makeMsgHTMLText: function(arrayText, arrayPinyin) {
			var htmlText = "";
			var CLOUM = 17;

			htmlText += "<table>";

			for (var k = 0; k <= arrayPinyin.length / CLOUM; k++) {
				htmlText += "<tr>";
				for (var i = 0; i + k * CLOUM < arrayPinyin.length && i < CLOUM; i++) {
					htmlText += "<td class=\"jhelper_pinyin\">";
					htmlText += arrayPinyin[i + k * CLOUM];
					htmlText += "</td>";
				}
				htmlText += "</tr>";

				htmlText += "<tr>";
				for (var i = 0; i + k * CLOUM < arrayText.length && i < CLOUM; i++) {
					htmlText += "<td>";
					htmlText += arrayText[i + k * CLOUM];
					htmlText += "</td>";
				}
				htmlText += "</tr>";
			}

			htmlText += "</table>";

			return htmlText;
		},
		getTextNoParam:function() {
			toolbar.Function.textTips.getText(this);
		},
		getText: function(element) {
			var ele = element;
			if (!document.getElementById("helper_messageBoxText") || ele == null || ele.firstChild == null) {
				return;
			}
			var messagebox = document.getElementById("helper_messageBoxText");
			var textMessage = "";
			if (ele.firstChild.nodeName == "IMG") {

				if (ele.parentNode.parentNode.nodeName == "A" || ele.parentNode.nodeName == "A") {
					textMessage = "Í¼Æ¬Á´½Ó£º" + getText(ele.firstChild);
				} else {
					textMessage = "Í¼Æ¬£º" + getText(ele.firstChild);
				}
			} else if (ele.firstChild.nodeName == "OBJECT") {
				textMessage = "Ã½Ìå£º" + ele.firstChild.getAttribute("title");
			} else if (ele.firstChild.nodeName == "SELECT") {
				textMessage = "ÏÂÀ­²Ëµ¥";
			} else if (ele.firstChild.nodeName == "INPUT") {
				var inputType = ele.firstChild.getAttribute("type");
				switch (inputType) {
					case "button":
						textMessage = "±íµ¥°´Å¥£º" + ele.firstChild.getAttribute("value");
						break;
					case "image":
						textMessage = "Í¼ĞÎ°´Å¥£º" + ele.firstChild.getAttribute("alt");
						break;
					case "submit":
						textMessage = "Ìá½»°´Å¥£º" + ele.firstChild.getAttribute("value");
						break;
					case "reset":
						textMessage = "ÖØÖÃ°´Å¥£º" + ele.firstChild.getAttribute("value");
						break;
					case "file":
						textMessage = "ÎÄ¼şÓò£º" + ele.firstChild.getAttribute("title");
						break;
					case "password":
						textMessage = "ÃÜÂëÓò£º" + ele.firstChild.getAttribute("title");
						break;
					case "radio":
						textMessage = "µ¥Ñ¡¿ò£º" + ele.firstChild.getAttribute("title");
						break;
					case "checkbox":
						textMessage = "¸´Ñ¡¿ò£º" + ele.firstChild.getAttribute("title");
						break;
					case "text":
						textMessage = "ÎÄ±¾Óò£º" + ele.firstChild.getAttribute("title");
						break;
				}
			} else if (ele.parentNode.parentNode.nodeName == "A" || ele.parentNode.nodeName == "A") {
				var thisContent;
				if (ele.parentNode.parentNode.nodeName == "A") {
					if (ele.parentNode.parentNode.getAttribute("title")) {
						thisContent = ele.parentNode.parentNode.getAttribute("title");
					} else {
						thisContent = ele.innerText || ele.textContent;
					}
				} else if (ele.parentNode.nodeName == "A") {
					if (ele.parentNode.getAttribute("title")) {
						thisContent = ele.parentNode.getAttribute("title");
					} else {
						thisContent = ele.innerText || ele.textContent;
					}
				}
				textMessage = "Á´½Ó£º" + thisContent;
			} else if (ele.parentNode.nodeName == "H1" || ele.parentNode.nodeName == "H2" || ele.parentNode.nodeName == "H3" || ele.parentNode.nodeName == "H4" || ele.parentNode.nodeName == "H5" || ele.parentNode.nodeName == "H6") {
				var thisContent = ele.innerText || ele.textContent;
				textMessage = "±êÌâ£º" + thisContent;
			} else {
				//console.log("2:" + ele.innerHTML || ele.textContent);
				var thisContent = ele.innerText || ele.textContent;
				textMessage = "ÎÄ±¾£º" + thisContent;
			}
			var messageboxWidth = messagebox.offsetWidth;
			var fontRatio = messageboxWidth / textMessage.length;
			//alert(messageboxWidth+"|"+textMessage.length+"|"+fontRatio);
			if (fontRatio < 30) {
				if (fontRatio > 18) {
					messagebox.style.fontSize = parseInt(fontRatio) + "px";
					messagebox.style.lineHeight = parseInt(fontRatio) + "px";
				}
				if (fontRatio < 10) {
					messagebox.style.fontSize = parseInt(fontRatio * 2) + "px";
					messagebox.style.lineHeight = parseInt(fontRatio * 2) + "px";
				}
			} else {
				messagebox.style.fontSize = "";
			}

			if (INSTANCE.pinYing == "1") {

				if (INSTANCE.isSimplifiedModel == "0") {
					toolbar.Function.textTips.pinyinText(textMessage);
					var traditionText = Traditionalized(textMessage);
					toolbar.Function.textTips.TraditionalArray = traditionText.split("");
					textMessage = toolbar.Function.textTips.makeMsgHTMLText(toolbar.Function.textTips.TraditionalArray, toolbar.Function.textTips.pinyingArray);

				} else {
					toolbar.Function.textTips.simplifiedArray = textMessage.split("");
					toolbar.Function.textTips.pinyinText(textMessage);
					textMessage = toolbar.Function.textTips.makeMsgHTMLText(toolbar.Function.textTips.simplifiedArray, toolbar.Function.textTips.pinyingArray);
				}

			} else {
				if (INSTANCE.isSimplifiedModel == "0") {
					textMessage = Traditionalized(textMessage);
				}
			}

			// ÉèÖÃĞÅÏ¢¿òÄÚÈİ
			messagebox.innerHTML = textMessage;
			textMessage = "";
			if (toolbar.Function.textTips.textbgState) {
				ele.style.backgroundColor = "#F00";
				ele.style.color = "#FFF";
			}
		},
		pinyinText: function(text) {
			var messayArray = text.split("");
			var newString = "";
			this.pinyingArray = new Array();
			for (var a = 0; a < messayArray.length; a++) {
				var testVar = "";
				if (pinyin[messayArray[a]]) {
					testVar = pinyin[messayArray[a]];
				} else {
					testVar = "&nbsp;";
				}
				if (messayArray[a] == " ") {
					messayArray[a] = "&nbsp;";
				}
				this.pinyingArray.push(testVar);
			}
			return newString;
		},
		getEvent: function() {
			var allSpan = $(mainBoxID).get(0).getElementsByTagName(hiddenTagName);
			for (var c = 0; c < allSpan.length; c++) {
				if (allSpan[c].getAttribute("class") == "getmessage") {
					allSpan[c].onmouseover = this.getTextNoParam;
					allSpan[c].onmouseout = this.clearTextbgNoParam;
				}
			}

			// ÉèÖÃiframeÑùÊ½
			var iframeNode = document.getElementById(JHelperConfig.mainBox).getElementsByTagName("iframe");
			if (!iframeNode) {
				return;
			}
			for (var i = 0; i < iframeNode.length; i++) {
				var iframeObject = iframeNode[i].contentWindow;
				this.addEventForIframe(iframeObject);
			}
		},
		addEventForIframe: function(iframeObject) {
				try {
					var iFrameAllNode = iframeObject.document.getElementsByTagName("body")[0].getElementsByTagName("*");
					for (var j = 0; j < iFrameAllNode.length; j++) {
						var element = iFrameAllNode[j];
						if(element.tagName == 'iframe' || element.tagName == 'IFRAME') {
							this.addEventForIframe(element.contentWindow);
						}else if (this.isTextNode(element)) {

							var value 			= new elementContext();
							value.thisContext 	= this;
							value.funcMouseOver = element.onmouseover;
							value.funcMouseOut 	= element.onmouseout;
							value.element 		= element;
							elementFuncHashMap.put(hex_md5(element.innerHTML),value);

							element.onmouseout = function() {

							    var context = elementFuncHashMap.get(hex_md5(this.innerHTML));
							    if (context && typeof(context.funcMouseOut) == 'function') {
							        context.funcMouseOut();
							    }
							    if(context) {
							    	context.thisContext.clearTextbg(this);
							    } else {
							    	//alert(hex_md5(this.innerHTML));	
							    }
							}

							element.onmouseover = function() {
							    var context = elementFuncHashMap.get(hex_md5(this.innerHTML));
							    if (context && typeof(context.funcMouseOver) == 'function') {
							        context.funcMouseOver();
							    }
							    if(context) {
							    	context.thisContext.getText(this);
							    } else {
							    	//alert(hex_md5(this.innerHTML));
							    }
							}

							//element.onmouseover = this.getText;
							//element.onmouseout = this.clearTextbg;
						}
					}
				} catch (e) {}
		},

		simpleModel: function() {
			INSTANCE.isSimplifiedModel = INSTANCE.isSimplifiedModel = "1";
		},
		raditionalModel: function() {
			INSTANCE.isSimplifiedModel = INSTANCE.isSimplifiedModel = "0";
		},
		pinyinControl: function() {
			INSTANCE.pinYing = INSTANCE.pinYing == "0" ? "1" : "0";
			//SetCookie("pinYing", INSTANCE.pinYing);
			/*
			this.pinyinState = this.pinyinState ? false : true;
			if (this.pinyinState) {
				document.getElementById("pinyinbuttonbox").firstChild.innerHTML = "¹Ø±ÕÆ´Òô¹¦ÄÜ";
			} else {
				document.getElementById("pinyinbuttonbox").firstChild.innerHTML = "¿ªÆôÆ´Òô¹¦ÄÜ";
			}*/
		},
		firstRun: false,
		textbgState: false,
		textbg: function() {
			this.textbgState = this.textbgState ? false : true;
			document.getElementById("textbgbuttonbox").getElementsByTagName("a")[0].innerHTML =

			this.textbgState ? "¹Ø±Õ±ê¼Ç¹¦ÄÜ" : "¿ªÆô±ê¼Ç¹¦ÄÜ";
		},
		clearTextbgNoParam: function() {
			toolbar.Function.textTips.clearTextbg(this);
		},
		clearTextbg: function(element) {
			var ele = element || this;
			ele.style.backgroundColor = "";
			ele.style.color = "";
		},
		mainMethod: function() {
			//if(!ABTConfig.textTips.functionSwitch||getE.error){return;};
			if (!this.textGetState) {
				if ($("#gettextmessagebox").size() > 0) {

					this.textGetState = true;
					document.body.style.paddingBottom = 160 + "px";

					$("#gettextmessagebox").show();
					foldToolBar();
					toggleMsgBoxBtn();
					$("#jhelper_btn01").get(0).focus();
					return;
				}
				var newMessageBox = document.createElement("div");
				newMessageBox.setAttribute("id", "gettextmessagebox");
				newMessageBox.innerHTML = messageboxText;
				document.body.insertBefore(newMessageBox, $(mainBoxID).get(0));
				document.body.style.paddingBottom = 160 + "px";
				document.body.style.width = "100%";
				document.body.style.float = "left";
				//document.getElementById("pinyinbuttonbox").firstChild.focus();
				this.getTextNode($(mainBoxID).get(0));

				this.AddTag();
				this.getEvent();
				this.textGetState = true;
				//bindPageJS();
				bindMessageBoxJS();
				foldToolBar();
				toggleMsgBoxBtn();
				$("#jhelper_btn01").get(0).focus();
			} else {
				$("#gettextmessagebox").hide();
				document.body.style.paddingBottom = 0 + "px";
				document.body.style.overflow = "";
				this.textGetState = false;
				toggleMsgBoxBtn();
				$("#screen_input").get(0).focus();
			}
			INSTANCE.textTips = this.textGetState ? "1" : "0";
			SetCookie("textTips", this.textGetState ? "1" : "0");
			//toolbar.cookie.setCookie(this.cookieName,this.textGetState?1:0);
		},
		getIframeTextNode: function() {
			// ÉèÖÃiframeÑùÊ½
			var iframeNode = document.getElementById(JHelperConfig.mainBox).getElementsByTagName("iframe");
			if (!iframeNode) {
				return;
			}
			for (var i = 0; i < iframeNode.length; i++) {
				var iframeObject = iframeNode[i].contentWindow;
				try {
					var iFrameAllNode = iframeObject.document.getElementsByTagName("body")[0];
					this.getTextNode(iFrameAllNode);
				} catch (e) {
				//alert(e);
				}
			}
		}
	}
}
//---------------------------ÎÄ×ÖÌáÊ¾¶¨Òå½áÊø-----------------------------//

//---------------------------Ò³Ãæjs¶¨Òå¿ªÊ¼-----------------------------//
var toolBarFoldFlag = 0;
var openMsgBoxFlag = 0;

function toggleMsgBoxBtn() {
	if (openMsgBoxFlag == 0) {
		openMsgBox();
	} else {
		closeMsgBox();
	}
}

function openMsgBox() {
	openMsgBoxFlag = 1;
	$("#screen_input").attr("title", "¹Ø±ÕÎÄ×Ö·Å´óÔÄ¶ÁÆÁÄ»");
	$("#screen").attr('class', 'jhelper_open');
	createNodeDiv("wcagnav", "ÆÁÄ»¸¨ÖúÒÑ¿ªÆô");
}

function closeMsgBox() {
	openMsgBoxFlag = 0;
	$("#screen_input").attr("title", "¿ªÆôÎÄ×Ö·Å´óÔÄ¶ÁÆÁÄ»");
	$("#screen").attr('class', 'jhelper_close');
	createNodeDiv("wcagnav", "ÆÁÄ»¸¨ÖúÒÑ¹Ø±Õ");
}

function bindPageJS() {
	// °ó¶¨Ò³Ãæ¶Ô±È¶ÈĞ§¹û½Å±¾
	doorList('tab');
	doorList('language');
	doorList('txt');

	// °ó¶¨¸¨ÖúÏß¿ª¹ØĞ§¹û½Å±¾
	$("#line").toggle(function() {
			$("#line_input").attr('title', '¹Ø±Õ¸¨ÖúÏß');
			$(this).attr('class', 'jhelper_open');
		},
		function() {
			$("#line_input").attr('title', '´ò¿ª¸¨ÖúÏß');
			$(this).attr('class', 'jhelper_close');
		});

	$("#spell").toggle(function() {
			$(this).attr('class', 'jhelper_open')
		},
		function() {
			$(this).attr('class', 'jhelper_close')
		});

	//$("#screen").click(toggleMsgBoxBtn);

	$("#txt").toggle(function() {
			txtName.innerHTML = "ÎÄ×Ö"
			$(this).attr('class', 'jhelper_open')
			$("#txt_input").attr('title', '×ª»»Í¼ÎÄÄ£Ê½ÍøÒ³')
		},
		function() {
			txtName.innerHTML = "Ò³Ãæ"
			$(this).attr('class', 'jhelper_close')
			$("#txt_input").attr('title', '×ª»»´¿ÎÄ±¾Ä£Ê½ÍøÒ³')
		});

	$("#fold").click(function() {
		if (toolBarFoldFlag == 0) {
			foldToolBar();
		} else {
			unfoldToolBar();
		}
	});
}

// ÕÛµş¶¥²¿¹¤¾ßÌõ

function foldToolBar() {
	$("#fold").get(0).setAttribute("title", "Õ¹¿ª¹¤¾ßÌõ");
	$(".disabilitiesNav").attr('class', 'disabilitiesNavFold');
	toolBarFoldFlag = 1;
	document.body.style.paddingTop = '0px'; //wcagNavDiv.get(0).offsetHeight + "px";
}
// ÕÛµş¶¥²¿¹¤¾ßÌõ

function unfoldToolBar() {
	$("#fold").get(0).setAttribute("title", "ÕÛµş¹¤¾ßÌõ");
	$(".disabilitiesNavFold").attr('class', 'disabilitiesNav');
	toolBarFoldFlag = 0;
	document.body.style.paddingTop = '34px';
}

// ³õÊ¼»¯ÎÄ×ÖÌáÊ¾¿ò½çÃæ

function bindMessageBoxJS() {
	doorList('language');

	$("#spell").toggle(function() {
			$(this).attr('class', 'jhelper_open')
		},
		function() {
			$(this).attr('class', 'jhelper_close')
		});
}

function doorList(id) {
	var curentId = 0;
	$("#" + id + " .font_titleBar li:eq(0)").addClass("disabilitiesNow");
	$("#" + id + " .door:eq(0)").show();
	$("#" + id + " .font_titleBar li").click(function() {
		if ($(this).attr('class') == 'link') {
			return;
		}
		if (curentId != $(this).index()) {
			curentId = $(this).index();
			var curentDiv = $("#" + id + " div div.door").eq(curentId);
			var curentHeight = $(curentDiv).height();
			$("#" + id + " .font_titleBar li").removeClass("disabilitiesNow");
			$(this).addClass("disabilitiesNow");

		};
	});
}
//---------------------------Ò³Ãæjs¶¨Òå½áÊø-----------------------------//


function initJSHelperEvent() {
	addKeyListenerToIframe();
}
// ³õÊ¼»¯¹¤¾ßÄ£¿é

function initJSHelper() {
	debugAlert("initJSHelper");
	declareConfig();
	mainBoxID = "#" + JHelperConfig.mainBox;
	// ³õÊ¼»¯
	initTextTips();
	initData();
	debugAlert(toolbar.Function.textTips);
	// ¼àÌıÊÂ¼ş
	initKeyEventListener();
	// »Ö¸´ÉÏ´Î×´Ì¬
	setTimeout(restoreStatus, 1000);
}
//------------------------------------------------------------------------------------
//--------------------------------------Ö÷·½·¨¿ªÊ¼½áÊø-----------------------------------

// ³õÊ¼»¯Êı¾İ

function initData() {
	INSTANCE.openFlag = getCookie("openFlag");
	if (!INSTANCE.openFlag) {
		INSTANCE.openFlag = "0";
	}
	INSTANCE.textFlag = getCookie("textFlag");
	//if (!INSTANCE.textFlag) {
	INSTANCE.textFlag = "0";
	//}
	INSTANCE.zoomValue = parseInt(getCookie("zoomValue"));
	debugAlert("INSTANCE.zoomValue:" + INSTANCE.zoomValue);
	if (INSTANCE.zoomValue > 2 || INSTANCE.zoomValue <= 0 || isNaN(INSTANCE.zoomValue)) {
		INSTANCE.zoomValue = 1;
	}
	INSTANCE.fontValue = parseInt(getCookie("fontValue"));
	//if (INSTANCE.fontValue > 32 || INSTANCE.fontValue < 16 || isNaN(INSTANCE.fontValue)) {
	INSTANCE.fontValue = 16;
	//}
	INSTANCE.colorFlag = getCookie("colorFlag");
	if (!INSTANCE.colorFlag) {
		INSTANCE.colorFlag = "0";
	}
	INSTANCE.lineFlag = getCookie("lineFlag");
	if (!INSTANCE.lineFlag) {
		INSTANCE.lineFlag = "0";
	}
	INSTANCE.textTips = getCookie("textTips");
	if (!INSTANCE.textTips) {
		INSTANCE.textTips = "0";
	}

	INSTANCE.isSimplifiedModel = getCookie("isSimplifiedModel");
	if (!INSTANCE.isSimplifiedModel) {
		INSTANCE.isSimplifiedModel = "1";
	}
	INSTANCE.pinYing = getCookie("pinYing");
	if (!INSTANCE.pinYing) {
		INSTANCE.pinYing = "0";
	}
	INSTANCE.browser = browserFlag();
}

// »Ö¸´µ½ÉÏ´ÎµÄ×´Ì¬

function restoreStatus() {
    $.fn.extend({
        toggle: function (fn1, fn2) {
            $(this).bind("click", function () {
                if ($(this).attr("lsfAlreadyToggle") && $(this).attr("lsfAlreadyToggle") == "1") {
                    $(this).attr("lsfAlreadyToggle", "0");
                    if (fn2)
                        fn2.call(this);
                    else
                        $(this).show();
                }
                else {
                    $(this).attr("lsfAlreadyToggle", "1");
                    if (fn1)
                        fn1.call(this);
                    else
                        $(this).hide();
                }
            });
        }
    });
	//¹¤¾ßÌõ³õÊ¼»¯	
	/*
	if (INSTANCE.textFlag == "1") {
		textFunction();
	}
	if (INSTANCE.zoomValue > 1) {
		pageFunction(INSTANCE.zoomValue);
	}
	if (INSTANCE.fontValue > 16) {
		fontFunction(INSTANCE.fontValue);
	}
	if (INSTANCE.colorFlag != "0") {
		asyDoSetColorFunction(INSTANCE.colorFlag);
	}
	if (INSTANCE.lineFlag == "1") {
		lineFunction();
	}*/
	if (INSTANCE.openFlag == "1" || (typeof(JHelperConfig.AutoOpen) != "undefined") && (JHelperConfig.AutoOpen == "1")) {
		openToolBar();
	}
	debugAlert("INSTANCE.openFlag:" + INSTANCE.openFlag);
}

// ¼àÌıkeyÊÂ¼ş

function initKeyEventListener() {
	// ÊÂ¼ş¼àÌı
	document.onkeydown = function KeyDownEvent(e) {
		//¿ì½İ¼ü»ñÈ¡
		var currkey = 0,
			e = e || event || window.event;
		currkey = e.keyCode || e.which || e.charCode;
		//¿ì½İ¼ü¼üÅÌ¼àÌı
		accessKeyboardListener(currkey, e);
		//¹¤¾ßÌõ¼üÅÌ¼àÌı
		toolBarKeyDownEvent(currkey, e);
	}
}
/*
 * ¿ØÖÆ´ò¿ª£¯¹Ø±Õ¸¨Öú¹¤¾ßÌõ
 */

function toggleToolBar() {
	if(!checkValid()) {
		return;
	}
	if (INSTANCE.openFlag == "0") {
		openToolBar();
		INSTANCE.openFlag = "1";
		SetCookie("openFlag", "1");
	} else {
		INSTANCE.openFlag = "0";
		SetCookie("openFlag", "0");
		closeToolBar();
		setTimeout(resetNavToolbar, 1000);
		//resetNavToolbar();
	}
}
function checkValid() {
	var host = document.domain;
	if(1) {
		return true;
		}
	else {
		return true;
	}
}
/*
 * ´ò¿ª¸¨Öú¹¤¾ßÌõ
 */

function openToolBar() {

	var wcagNavDiv = $("#wcagnav");
	if (wcagNavDiv.size() == 0) {
		creatWcagNav();
		wcagNavDiv = $("#wcagnav");
	}

	wcagNavDiv.show(1000, function() {
		wcagNavDiv.get(0).style.display = "block";
		document.body.style.paddingTop = wcagNavDiv.get(0).offsetHeight + "px";
	});

	INSTANCE.openFlag == "1";
	SetCookie("openFlag", "1");


	if (toolbar.Function.textTips.textGetState == true) {
		$("#gettextmessagebox").show();
	}
	createNodeDiv("wcagnav", "¹¤¾ßÌõÒÑ¿ªÆô,°ïÖúÇë°´ALT+1");
	//wcagNavDiv.style.display = "block";
	//document.body.style.paddingTop = wcagNavDiv.offsetHeight + "px";
}

/*
 * ¹Ø±Õ¸¨Öú¹¤¾ßÌõ
 */

function closeToolBar() {
	var wcagNavDiv = $("#wcagnav");
	wcagNavDiv.hide(1000, function() {
		wcagNavDiv.get(0).style.display = "none";
		document.body.style.paddingTop = wcagNavDiv.get(0).offsetHeight + "px";
	});

	$("#gettextmessagebox").hide();
	createNodeDiv("wcagnav", "¹¤¾ßÌõÒÑ¹Ø±Õ");
}

/*
 * ´´½¨¸¨Öú¹¤¾ßÌõ
 */

function creatWcagNav() {

	var toolbarinnerText = getToolbarInnerText();

	//¹¤¾ßÌõ´´½¨
	var navToolbarDiv = document.createElement("div");
	navToolbarDiv.setAttribute("id", "wcagnav");
	navToolbarDiv.style.display = "none";
	navToolbarDiv.innerHTML = toolbarinnerText;
	document.body.insertBefore(navToolbarDiv, document.body.firstChild);

	// °ó¶¨Ò³ÃæĞ§¹û½Å±¾
	bindPageJS();
}

function getToolbarInnerText() {

	var textHTML = "";
	// ¶¥²¿ÇøÓò
	textHTML += "<div class=\"disabilitiesNav\">";
        // ½â¾öie6ÏÂÀ­¿ò¸¡ÔÚ¹¤¾ßÌõÉÏµÄ·½·¨
        textHTML += "<iframe style=\"position:absolute;top:0;left:0;width:100%;height:100%;z-index:-1;filter:alpha(opacity=0);\"></iframe>";
	textHTML += "<div class=\"disabilitiesMain\"  id=\"tab\">";
	textHTML += "<div class=\"disabilitiesContent\">";
	textHTML += "<ul class=\"disabilitiesN1\">";
	textHTML += "<span id=\"txtName\">Ò³Ãæ</span>";
	textHTML += "<li class=\"jhelper_btn01\"><input id=\"jhelper_zoom_in\" type=\"button\" title=\"·Å´óÒ³Ãæ\" onclick=\"openPageFunction(0);\" class=\"input\" onMouseDown=\"this.className='inputOn'\" onMouseUp=\"this.className=''\"/></li>";
	textHTML += "<li class=\"jhelper_btn02\"><input id=\"jhelper_zoom_out\" type=\"button\" title=\"ËõĞ¡Ò³Ãæ\" onclick=\"openPageFunction(1);\" class=\"input\" onMouseDown=\"this.className='inputOn'\" onMouseUp=\"this.className=''\"/></li>";
	textHTML += "</ul>";
	textHTML += "<ul class=\"disabilitiesN2 font_titleBar\">";
	textHTML += "<span>ÅäÉ«</span>";
	textHTML += "<li class=\"jhelper_btn01\"><input type=\"button\" title=\"Ò³ÃæÎŞÅäÉ«\" onclick=\"asySetColorFunction('0');\"class=\"disabilitiesM1\"/><em class=\"disabilitiesB1\"></em></li>";
	textHTML += "<li class=\"jhelper_btn02\"><input type=\"button\" title=\"À¶µ×»Æ×ÖÅäÉ«\" onclick=\"asySetColorFunction('1');\"class=\"disabilitiesM2\"/><em class=\"disabilitiesB2\"></em></li>";
	textHTML += "<li class=\"jhelper_btn03\"><input type=\"button\" title=\"»Æµ×À¶×ÖÅäÉ«\" onclick=\"asySetColorFunction('2');\"class=\"disabilitiesM3\"/><em class=\"disabilitiesB3\"></em></li>";
	textHTML += "<li class=\"jhelper_btn04\"><input type=\"button\" title=\"ºÚµ×»Æ×ÖÅäÉ«\" onclick=\"asySetColorFunction('3');\"class=\"disabilitiesM4\"/><em class=\"disabilitiesB4\"></em></li>";
	textHTML += "<li class=\"jhelper_btn05\"><input type=\"button\" title=\"°×µ×ºÚ×ÖÅäÉ«\" onclick=\"asySetColorFunction('4');\"class=\"disabilitiesM5\"/><em class=\"disabilitiesB5\"></em></li>";
	textHTML += "</ul>";
	textHTML += "<ul class=\"disabilitiesN3\">";
	textHTML += "<span>¸¨ÖúÏß</span>";
	textHTML += "<li id=\"line\"><input id='line_input' type=\"button\" title=\"´ò¿ª¸¨ÖúÏß\" onclick=\"openLineFunction()\"/></li>";
	textHTML += "</ul>";
	textHTML += "<ul class=\"disabilitiesN4\">";
	textHTML += "<li class=\"jhelper_btn01\"><input type=\"button\" title=\"ÖØÖÃÒ³Ãæ\" onclick=\"resetNavToolbar();\" class=\"input\" onMouseDown=\"this.className='inputOn'\" onMouseUp=\"this.className=''\"/></li>";
	textHTML += "<li class=\"jhelper_btn02\"><input type=\"button\" title=\"ÕÛµş¹¤¾ßÌõ\" class=\"input\" onMouseDown=\"this.className='inputOn'\" onMouseUp=\"this.className=''\" id=\"fold\"/></li>";
	textHTML += "</ul>";
	textHTML += "</div>";
	textHTML += "</div>";
	textHTML += "<div class=\"disabilitiesTopBg\"></div>";
	textHTML += "</div>";

	// ÓÒ²àÇøÓò
	textHTML += "<div class=\"disabilitiesRight\">";
	textHTML += "<ul>"
	textHTML += "<li id=\"screen\"><input id='screen_input' type=\"button\" class=\"jhelper_btn01\" title=\"¿ªÆôÎÄ×Ö·Å´óÔÄ¶ÁÆÁÄ»\" onclick=\"toolbar.Function.textTips.mainMethod();\"/></li>";
	textHTML += "<li id=\"txt\"><input id='txt_input' type=\"button\" class=\"jhelper_btn02\" title=\"×ª»»´¿ÎÄ±¾Ä£Ê½ÍøÒ³\" onclick=\"openTextFunction();\"/></li>";
	textHTML += "<li><input type=\"button\" class=\"jhelper_btn03\" title=\"´ò¿ªÎŞÕÏ°­¹¤¾ßÌõ°ïÖú\" onclick=\"navToolbarHelp();\"/></li>";
	textHTML += "<li><input type=\"button\" class=\"jhelper_btn04\" title=\"¹Ø±ÕÎŞÕÏ°­¹¤¾ßÌõ\" onclick=\"toggleToolBar();\"/></li>";
	textHTML += "</ul>";
	textHTML += "</div>"

	return textHTML;
}

//---------------------------´¿ÎÄ±¾Í¨µÀ¹¦ÄÜ¿ªÊ¼------------------------//
//Ö´ĞĞº¯Êı

function openTextFunction() {
	if (INSTANCE.textFlag == "0") {
		textFunction();
		// È¡ÏûÒ³Ãæ·Å´ó
		pageFunction(1);

		INSTANCE.textFlag = "1";
		SetCookie("textFlag", "1");

		$("#jhelper_zoom_in").get(0).setAttribute("title","·Å´óÎÄ×Ö");
		$("#jhelper_zoom_out").get(0).setAttribute("title","ËõĞ¡ÎÄ×Ö");

		// ÉèÖÃ¶Ô±ÈÉ«
		if (INSTANCE.colorFlag != "0") {
			asyDoSetColorFunction(INSTANCE.colorFlag);
		}
	} else {
		//navgationIframeBack();
		INSTANCE.textFlag = "0";
		SetCookie("textFlag", "0");
		resetNavToolbar();
		//window.location.href = window.location.href;
		//window.location.reload();
	}
}
//´¿ÎÄ±¾¹¦ÄÜÊµÏÖ

function textFunction() {
	//navgationIframe();
	changeiFrame();
	changeImage();
	changeStyle();
	changeiZXFT();
}
//Ìæ»»¡¢Çå³ıÒ³ÃæÑùÊ½

function changeStyle() {
	//Ìæ»»ÑùÊ½
	var linkStyle = document.getElementsByTagName("link");
	for (i = 0; i < linkStyle.length; i++) {
		if (linkStyle[i].getAttribute("href") != serverUrl + "jhelper_tool_style.css"
		&& linkStyle[i].getAttribute("href") != "/newlib/css/jhelper_no_clear.css") {
			linkStyle[i].setAttribute("href", textStyleCSS);
		}
	}
	//Çå³ıÒ³ÃæÑùÊ½
	var allNode = document.getElementById(JHelperConfig.mainBox).getElementsByTagName("*");
	for (var j = 0; j < allNode.length; j++) {
		allNode[j].style.cssText = "";
	}
	for (var k = 0; k < allNode.length; k++) {
		allNode[k].style.height = "auto";
	}
}
//ÓÃÎÄ×ÖÌæ»»Ò³ÃæÍ¼Æ¬

function changeImage() {
	var allImage = document.getElementById(JHelperConfig.mainBox).getElementsByTagName("img");
	var length = allImage.length;
	for (i = 0; i < allImage; i++) {
		var allImageAlt = allImage[i].getAttribute("alt");
		if (allImageAlt == "" || allImageAlt == null) {
			allImageAlt = allImage[i].getAttribute("title");
		}
		var newImageNode = document.createElement("span");
		newImageNode.innerHTML = allImageAlt;
		allImage[i].parentNode.insertBefore(newImageNode, allImage[i]);
	}
	while (allImage.length) {
		allImage[0].parentNode.removeChild(allImage[0]);
	}
}
//´¦ÀíÒ³ÃæÖĞµÄiframe

function changeiFrame() {
	var iframeNode = document.getElementById(JHelperConfig.mainBox).getElementsByTagName("iframe");
	if (!iframeNode) {
		return;
	}

	var length = iframeNode.length;
	for (var i = 0; i < length; i++) {
		var iframeObject = iframeNode[i].contentWindow;
		try {
			var iFrameHTML = iframeObject.document.body.innerHTML;
			var divForiFrame = document.createElement("div");
			divForiFrame.setAttribute("id", "iframeDiv_" + i);
			divForiFrame.innerHTML = iFrameHTML;
			iframeNode[i].parentNode.insertBefore(divForiFrame, iframeNode[i]);
		} catch (e) {}
	}
	while (iframeNode.length) {
		iframeNode[0].parentNode.removeChild(iframeNode[0]);
	}
}

//´¦ÀíÖĞ¹úÉÏº£ÌØÓĞÔÚÏß·ÃÌ¸¹ö¶¯

function changeiZXFT() {
	var ZXFT_ID = document.getElementById("interview_btn");
	if (!ZXFT_ID) {
		return;
	}
	ZXFT_ID.setAttribute("id", "interview_bt");
}
//---------------------------´¿ÎÄ±¾Í¨µÀ¹¦ÄÜ½áÊø------------------------//
//---------------------------Ò³ÃæËõ·Å¹¦ÄÜ¿ªÊ¼--------------------------//
//Ö´ĞĞº¯Êı

function openPageFunction(flag) {

	// ÎÄ×ÖÄ£Ê½ÏÂ ±äÎªËõ·ÅÎÄ×Ö
	if (INSTANCE.textFlag == "1") {
		openFontFunction(flag);
		return;
	}

	if (flag == "0") {
		INSTANCE.zoomValue = INSTANCE.zoomValue + 0.2;
		if (INSTANCE.zoomValue > 2) {
			INSTANCE.zoomValue = 2;
		}
	} else {
		INSTANCE.zoomValue = INSTANCE.zoomValue - 0.2;
		if (INSTANCE.zoomValue < 1) {
			INSTANCE.zoomValue = 1;
		}
	}
	debugAlert("INSTANCE.zoomValue:" + INSTANCE.zoomValue);
	SetCookie("zoomValue", INSTANCE.zoomValue);
	pageFunction(INSTANCE.zoomValue);
}
//Ëõ·Å¹¦ÄÜÊµÏÖ

var rabitPx = 1;
function pageFunction(value) {
	debugAlert("pageFunction 1");
	if(rabitPx == 1) {
	    rabitPx = 0;
	} else {
		rabitPx = 1;
	}

	//console.log("zoom scale:" + value);
	if (value == 1) {
		//window.location.href = window.location.href;
		//window.location.reload();
		//return;
	}
	if (INSTANCE.browser.safari || INSTANCE.browser.chrome) {
		$(mainBoxID).css({
			"-webkit-transform-origin": "top left",
			"-webkit-transform": "scale(" + value + ")",
			"padding":rabitPx +"px"
		});
		//document.getElementById(mainBox).style.cssText = "-webkit-transform-origin:top left;-webkit-transform:scale(" + value + ")";
	} else if (INSTANCE.browser.firefox) {
		$(mainBoxID).css({
			"-moz-transform-origin": "top left",
			"-moz-transform": "scale(" + value + ")",
			"padding":rabitPx +"px"
		});
		//document.getElementById(mainBox).style.cssText = "-moz-transform-origin:top left;-moz-transform:scale(" + value + ")";
	} else if (INSTANCE.browser.opera) {
		$(mainBoxID).css("-o-transform:scale(" + value + ")");
		//document.getElementById(mainBox).style.cssText = "-o-transform:scale(" + value + ")";
	} else {
		if (document.body.offsetWidth > document.getElementById(JHelperConfig.mainBox).offsetWidth * value) {
			document.getElementById(JHelperConfig.mainBox).style.cssText = "position:absolute;left:0%;margin:0px;";
			//document.getElementById(JHelperConfig.mainBox).style.marginLeft = 0 - Math.round(document.getElementById(JHelperConfig.mainBox).offsetWidth * value / 2) + "px";
			document.getElementById(JHelperConfig.mainBox).style.marginLeft = (document.body.offsetWidth - Math.round(document.getElementById(JHelperConfig.mainBox).offsetWidth * value)) / 2 + "px";
		} else {
			$(mainBoxID).css("position:absolute;left:0px;margin:0px;");
			document.getElementById(JHelperConfig.mainBox).style.cssText = "position:absolute;left:0px;margin:0px;";
		}
		//$(mainBoxID).css("room:" + value);
		document.getElementById(JHelperConfig.mainBox).style.zoom = value;
	}

	//console.log("zoom scale:" + value);
}
//---------------------------Ò³ÃæËõ·Å¹¦ÄÜ½áÊø--------------------------//
//---------------------------ÎÄ×ÖËõ·Å¹¦ÄÜ½áÊø----------------------------//

function openFontFunction(flag) {
	debugAlert("fontFunction 1");
	if (flag == "0") {
		INSTANCE.fontValue = parseInt(INSTANCE.fontValue) + 4;
		if (INSTANCE.fontValue > 32) {
			INSTANCE.fontValue = 32;
		}
	} else {
		INSTANCE.fontValue = parseInt(INSTANCE.fontValue) - 4;
		if (INSTANCE.fontValue < 16) {
			INSTANCE.fontValue = 16;
		}
	}
	SetCookie("fontValue", INSTANCE.fontValue);
	fontFunction(INSTANCE.fontValue);
}
//ÎÄ×ÖËõ·Å¹¦ÄÜÊµÏÖ

function fontFunction(sizeValue) {

	if (sizeValue == 16) {
		$(mainBoxID).css({
			"fontSize": "",
			"lineHeight": "",
			"height": ""
		});

		$("table").css({
			"fontSize": "",
			"lineHeight": "",
			"height": ""
		});

		// ÉèÖÃiframeÑùÊ½
		var iframeNode = document.getElementById(JHelperConfig.mainBox).getElementsByTagName("iframe");
		if (!iframeNode) {
			return;
		}
		for (var i = 0; i < iframeNode.length; i++) {
			var iframeObject = iframeNode[i].contentWindow;
			try {
				var iFrameAllNode = iframeObject.document.getElementsByTagName("body")[0].getElementsByTagName("*");
				iframeObject.document.getElementsByTagName("body")[0].style.fontSize = "";
				iframeObject.document.getElementsByTagName("body")[0].style.lineHeight = "";
				iframeObject.document.getElementsByTagName("body")[0].style.height = "";
				for (var j = 0; j < iFrameAllNode.length; j++) {
					iFrameAllNode[j].style.fontSize = "";
					iFrameAllNode[j].style.lineHeight = "";
					iFrameAllNode[j].style.height = "";
				}
			} catch (e) {}
		}

	} else {

		$("table").css({
			"fontSize": sizeValue + "px",
			"lineHeight": "1.8em", //(parseInt(sizeValue) + 2) + "px",
			"height": "auto"
		});

		$(mainBoxID).css({
			"fontSize": sizeValue + "px",
			"lineHeight": "1.8em", //(parseInt(sizeValue) + 2) + "px",
			"height": "auto"
		});

		// ÉèÖÃiframeÑùÊ½
		var iframeNode = document.getElementById(JHelperConfig.mainBox).getElementsByTagName("iframe");
		if (!iframeNode) {
			return;
		}
		for (var i = 0; i < iframeNode.length; i++) {
			var iframeObject = iframeNode[i].contentWindow;
			try {
				var iFrameAllNode = iframeObject.document.getElementsByTagName("body")[0].getElementsByTagName("*");
				iframeObject.document.getElementsByTagName("body")[0].style.fontSize = sizeValue + "px";
				iframeObject.document.getElementsByTagName("body")[0].style.lineHeight = (parseInt(sizeValue) + 2) + "px";
				iframeObject.document.getElementsByTagName("body")[0].style.height = "auto";
				for (var j = 0; j < iFrameAllNode.length; j++) {
					iFrameAllNode[j].style.fontSize = sizeValue + "px";
					iFrameAllNode[j].style.lineHeight = "1.8em", //(parseInt(sizeValue) + 2) + "px",
					iFrameAllNode[j].style.height = "auto";
				}
			} catch (e) {}
		}
	}
}
//---------------------------ÎÄ×ÖËõ·Å¹¦ÄÜ½áÊø----------------------------//

//---------------------------¶Ô±È¶È¹¦ÄÜ¿ªÊ¼----------------------------//
//Ö´ĞĞº¯Êı

function setColorFunction() {
	var mode = parseInt(INSTANCE.colorFlag);
	switch (mode) {
		case 0:
			changeColorStyle("", "", "");
			break;
		case 1:
			changeColorStyle("#0000ff", "none", "#ffff00");
			break;
		case 2:
			changeColorStyle("#fefecc", "none", "#0000ff");
			break;
		case 3:
			changeColorStyle("#000000", "none", "#ffff00");
			break;
		case 4:
			changeColorStyle("#ffffff", "none", "#000000");
			break;

		default:
			break;
	}
}

function asyDoSetColorFunction(mode) {
	INSTANCE.colorFlag = mode;
	SetCookie("colorFlag", mode);

	setTimeout(setColorFunction, 10);
}

function asySetColorFunction(mode) {
	if (INSTANCE.colorFlag === mode)
		return;

	asyDoSetColorFunction(mode);
}

function changeColorStyle(bgColor, bgImage, color) {
	$(mainBoxID).find("*:not(#wcagnav)").css({
		"backgroundColor": bgColor,
		"backgroundImage": bgImage,
		"color": color
	});


	// ÉèÖÃiframeÑùÊ½
	var iframeNode = document.getElementById(JHelperConfig.mainBox).getElementsByTagName("iframe");
	if (!iframeNode) {
		return;
	}
	for (var i = 0; i < iframeNode.length; i++) {
		var iframeObject = iframeNode[i].contentWindow;
		changeIframeColor(bgColor,bgImage,color,iframeObject);
		
		/*try {
			var iFrameAllNode = iframeObject.document.getElementsByTagName("body")[0].getElementsByTagName("*");
			iframeObject.document.getElementsByTagName("body")[0].style.backgroundColor = bgColor;
			iframeObject.document.getElementsByTagName("body")[0].style.backgroundImage = bgImage;
			iframeObject.document.getElementsByTagName("body")[0].style.color = color;
			for (var j = 0; j < iFrameAllNode.length; j++) {
				iFrameAllNode[j].style.backgroundColor = bgColor;
				iFrameAllNode[j].style.backgroundImage = bgImage;
				iFrameAllNode[j].style.color = color;
			}
		} catch (e) {
			//alert(e);
		}*/
	}
}

function changeIframeColor(bgColor, bgImage, color, iframeObject) {
	try {
			var iFrameAllNode = iframeObject.document.getElementsByTagName("body")[0].getElementsByTagName("*");
			iframeObject.document.getElementsByTagName("body")[0].style.backgroundColor = bgColor;
			iframeObject.document.getElementsByTagName("body")[0].style.backgroundImage = bgImage;
			iframeObject.document.getElementsByTagName("body")[0].style.color = color;
			for (var j = 0; j < iFrameAllNode.length; j++) {
				if(iFrameAllNode[j].tagName == 'iframe' || iFrameAllNode[j].tagName=='IFRAME') {
					changeIframeColor(bgColor,bgImage,color,iFrameAllNode[j].contentWindow);
				} else {
					iFrameAllNode[j].style.backgroundColor = bgColor;
					iFrameAllNode[j].style.backgroundImage = bgImage;
					iFrameAllNode[j].style.color = color;
				}
			}
		} catch (e) {
			//alert(e);
		}
}

function openColorFunction() {
	debugAlert("openColorFunction 1");
	if (INSTANCE.colorFlag == "0") {

		colorFunction();

		INSTANCE.colorFlag = "1";
		SetCookie("colorFlag", "1");

		debugAlert("open color function");

	} else {

		closeColorFunction();

		INSTANCE.colorFlag = "0";
		SetCookie("colorFlag", "0");

		debugAlert("close color function");
	}
}

function closeColorFunction() {
	debugAlert("closeColorFunction start");

	iframeClearColorFunction();
	$(mainBoxID).find("*:not(:#wcagnav)").css({
		"backgroundColor": "",
		"backgroundImage": "",
		"color": ""
	});
	debugAlert("closeColorFunction end");
}
//¸ß¶Ô±È¶È¹¦ÄÜÊµÏÖ

function colorFunction() {

	debugAlert("colorFunction 1");

	iframeColorFunction();
	$(mainBoxID).find("*:not(:#wcagnav)").css({
		"backgroundColor": "#000",
		"backgroundImage": "none",
		"color": "#FFF"
	});
}

//iframe¶Ô±È¶È´¦Àí

function iframeColorFunction() {
	var iframeNode = document.getElementsByTagName("iframe");
	if (!iframeNode) {
		return;
	}
	for (var i = 0; i < iframeNode.length; i++) {
		var iframeObject = iframeNode[i].contentWindow;
		try {
			var iFrameAllNode = iframeObject.document.getElementsByTagName("body")[0].getElementsByTagName("*");
			iframeObject.document.getElementsByTagName("body")[0].style.backgroundColor = "#000";
			iframeObject.document.getElementsByTagName("body")[0].style.backgroundImage = "none";
			iframeObject.document.getElementsByTagName("body")[0].style.color = "#FFF";
			for (j = 0; j < iFrameAllNode.length; j++) {
				iFrameAllNode[j].style.backgroundColor = "#000";
				iFrameAllNode[j].style.backgroundImage = "none";
				iFrameAllNode[j].style.color = "#FFF";
			}
		} catch (e) {}
	}
}

// iframe È¥µô¸ß¶Ô±È¶È

function iframeClearColorFunction() {
	var iframeNode = document.getElementById(JHelperConfig.mainBox).getElementsByTagName("iframe");
	if (!iframeNode) {
		return;
	}
	for (var i = 0; i < iframeNode.length; i++) {
		var iframeObject = iframeNode[i].contentWindow;
		try {
			var iFrameAllNode = iframeObject.document.getElementsByTagName("body")[0].getElementsByTagName("*");
			iframeObject.document.getElementsByTagName("body")[0].style.backgroundColor = "";
			iframeObject.document.getElementsByTagName("body")[0].style.backgroundImage = "";
			iframeObject.document.getElementsByTagName("body")[0].style.color = "";
			for (j = 0; j < iFrameAllNode.length; j++) {
				iFrameAllNode[j].style.backgroundColor = "";
				iFrameAllNode[j].style.backgroundImage = "";
				iFrameAllNode[j].style.color = "";
			}
		} catch (e) {}
	}
}
//---------------------------¶Ô±È¶È¹¦ÄÜ½áÊø----------------------------//

//---------------------------¸¨ÖúÏß¹¦ÄÜ¿ªÊ¼---------------------------//
//¸¨ÖúÏßÖ´ĞĞº¯Êı

function openLineFunction() {
	debugAlert("openLineFunction 1 :" + INSTANCE.lineFlag);
	if (INSTANCE.lineFlag == "0") {
		INSTANCE.lineFlag = "1";
		lineFunction();

		//SetCookie("lineFlag", "1");
	} else {

		document.getElementById('lineX').style.display = 'none';
		document.getElementById('lineY').style.display = 'none';
		document.onmousemove = "";

		INSTANCE.lineFlag = "0";
		//SetCookie("lineFlag", "0");
	}
}
//¸¨ÖúÏß¹¦ÄÜÊµÏÖ£¬¸¨ÖúÏßÒÆ¶¯¹¤¾ß:Ò³Ãæ³öÏÖ2Ìõ¸¨Öú¹¦ÄÜÏß£¬ÓÃÀ´´ÓË®Æ½ºÍ´¹Ö±Á½·½ÃæĞ£¶ÔÒ³ÃæÎÄ±¾¡£

function lineFunction() {
	debugAlert("lineFunction 1");
	//³õÊ¼»¯¸¨ÖúÏß
	var lineDivHTML = "<div id=\"lineX\" style=\"border-top:5px red solid;position:absolute;width:100%;height:4px;left:0px;top:0px;font-size:0px;line-height:0px;z-index:99999;\"></div>";
	lineDivHTML = lineDivHTML + "<div id=\"lineY\" style=\"border-left:5px red solid;position:absolute;width:4px;height:100%;top:0px;font-size:0px;line-height:0px;z-index:99998;\"></div>";

	var lineDiv = document.getElementById("lineDiv");
	if (!lineDiv) {
		lineDiv = document.createElement("div");
		lineDiv.setAttribute("id", "lineDiv");
		lineDiv.setAttribute("style", "width:100%;height:0px;line-height:0px;font-size:0px;top:0px;left:0px;");
		lineDiv.innerHTML = lineDivHTML;
		document.body.insertBefore(lineDiv, document.body.firstChild);
	}

	document.getElementById('lineX').style.display = 'block';
	document.getElementById('lineY').style.display = 'block';
	debugAlert("onmousemove");
	document.onmousemove = mouseLineMove;
	//$("html").bind("mousemove", mouseLineMove);
	//$("iframe").bind("mousemove", mouseLineMove);
	setIframeOnMouseMoveEevent();
}

function setIframeOnMouseMoveEevent()
{
	var iframeNode = document.getElementById(JHelperConfig.mainBox).getElementsByTagName("iframe");
	if (!iframeNode) {
		return;
	}
	for (var i = 0; i < iframeNode.length; i++) {
		//alert("count:"+iframeNode.length + "/" + i);
		var iframeObject = iframeNode[i].contentWindow;
		bindOnMouseEvent(iframeObject);
	}
} 
function bindOnMouseEvent(iframeObject)
{
	try {
		iframeObject.document.onmousemove = mouseIframeLineMove;
		var iFrameAllNode = iframeObject.document.getElementsByTagName("body")[0].getElementsByTagName("*");
		for (var j = 0; j < iFrameAllNode.length;j++ ) {
			if(iFrameAllNode[j].tagName == 'iframe' || iFrameAllNode[j].tagName=='IFRAME') {
				//alert(iFrameAllNode[j].tagName +" " + j + " count:" + iFrameAllNode.length);
				var innerIframeObject = iFrameAllNode[j].contentWindow;
				bindOnMouseEvent(innerIframeObject);
			}
		}
	} catch (e) {}
}

//µ±Ç°Êó±êÎ»ÖÃÅĞ¶Ï
var browserToolBarHeight = 0;
function mouseLineMove(e) {
	//console.log(e.screenX + "  Y:" + e.screenY);
	e = e || event || window.event;
	var lineValueX = e.pageX;
	var lineValueY = e.pageY;

	if (!lineValueX && !lineValueY) {
		lineValueX = e.clientX;
		lineValueY = e.clientY + (document.documentElement.scrollTop || document.body.scrollTop);
	}

	document.getElementById('lineX').style.top = lineValueY + 5 + "px";
	document.getElementById('lineY').style.height = document.documentElement.scrollHeight + "px";
	document.getElementById('lineX').style.width = document.documentElement.scrollWidth + "px";
	document.getElementById('lineY').style.left = lineValueX + 5 + "px";
	
	browserToolBarHeight = e.screenY - e.clientY;
	//console.log("browserToolBarHeight:" + browserToolBarHeight);
}
function mouseIframeLineMove(e) {
	e = e || event || window.event;
	var lineValueX = e.screenX;
	var lineValueY = e.screenY - browserToolBarHeight + (document.documentElement.scrollTop || document.body.scrollTop);;

	document.getElementById('lineX').style.top = lineValueY + 5 + "px";
	document.getElementById('lineY').style.height = document.documentElement.scrollHeight + "px";
	document.getElementById('lineX').style.width = document.documentElement.scrollWidth + "px";
	document.getElementById('lineY').style.left = lineValueX + 5 + "px";
}
//---------------------------¸¨ÖúÏß¹¦ÄÜ½áÊø---------------------------//
//---------------------------°ï×é¹¦ÄÜ¿ªÊ¼---------------------------//

function navToolbarHelp() {
	window.open(JHelperConfig.wzaHelp);
}
//---------------------------°ï×é¹¦ÄÜ½áÊø---------------------------//
//---------------------------ÖØÖÃ¹¦ÄÜ¿ªÊ¼-----------------------------//

function resetNavToolbar() {
	delCookie("textFlag");
	delCookie("zoomValue");
	delCookie("fontValue");
	delCookie("colorFlag");
	delCookie("lineFlag");
	window.location.href = window.location.href;
	window.location.reload();
}
//---------------------------ÖØÖÃ¹¦ÄÜ½áÊø-----------------------------//
////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////
//¹¤¾ßÌõ¼àÌıº¯Êı

function toolBarKeyDownEvent(sKeycode, e) {
	if (sKeycode == 74 && e.altKey && !e.shiftKey && !e.ctrlKey) {
		//Alt+J:¹¤¾ßÌõ¿ª¹Ø
		toggleToolBar();
	} if (sKeycode == 49 && e.altKey && !e.shiftKey && !e.ctrlKey) {
		//Alt+1:´ò¿ª°ïÖú
		navToolbarHelp();
	} else if (sKeycode == 74 && e.altKey && e.shiftKey && !e.ctrlKey) {
		//Alt+Shift+J:´¿ÎÄ±¾¿ª¹Ø
		openTextFunction();
	}
}


//----------------------------------------------------------------------
//ÎŞÕÏ°­¿ì½İ¼üJS
//Version£ºV0.01
//Author£ºaction
//Date£º2011-12-16
//----------------------------------------------------------------------

//¼üÅÌ¼ü
//´ó¼üÅÌ 1
var NumOneKey = '49';
//´ó¼üÅÌ 2
var NumTwoKey = '50';
//´ó¼üÅÌ 3
var NumThreeKey = '51';
//´ó¼üÅÌ 4
var NumFourKey = '52';
//´ó¼üÅÌ 5
var NumFiveKey = '53';
//´ó¼üÅÌ 6
var NumSixKey = '54';
//×ÖÄ¸¼ü z
var GroupTagKey = '90';

//ÇøÓò  ID
//ÎŞÕÏ°­²Ù×÷ËµÃ÷ID//¶ÁÆÁÈí¼şÓïÒô½Ó¿Ú£ºÒÑ¶¨Î»µ½ÎŞÕÏ°­°ïÖú
//var AccessHelp = JHelperConfig.AccessHelp;//'accesshelp';
var AccessHelpTitle = "ÒÑ¶¨Î»µ½ÎŞÕÏ°­°ïÖú";

//Ö÷µ¼º½ÇøID//¶ÁÆÁÈí¼şÓïÒô½Ó¿Ú£ºÒÑ¶¨Î»µ½ÍøÕ¾µ¼º½
//var MainNavigation = JHelperConfig.MainNavigation;//'nav';
var MainNavigationTitle = "ÒÑ¶¨Î»µ½ÍøÕ¾µ¼º½";

//ÖĞ¹úÉÏº£·şÎñÒıµ¼Çø//¶ÁÆÁÈí¼şÓïÒô½Ó¿Ú£ºÒÑÌø×ªµ½ÍøÕ¾·şÎñÒıµ¼Çø
//var HeaderGuide = JHelperConfig.HeaderGuide;//'headerGuideNav';
var HeaderGuideTitle = "ÒÑÌø×ªµ½ÍøÕ¾·şÎñÒıµ¼Çø";

//Ö÷ÒªÄÚÈİÇøID//¶ÁÆÁÈí¼şÓïÒô½Ó¿Ú£ºÒÑÌø×ªµ½Ö÷ÒªÄÚÈİÇø
//var MainContent = JHelperConfig.MainContent;//'mainbox';
var MainContentTitle = "ÒÑÌø×ªµ½Ö÷ÒªÄÚÈİÇø";

//ÍøÕ¾µØÍ¼ÇøID//¶ÁÆÁÈí¼şÓïÒô½Ó¿Ú£ºÒÑÌø×ªµ½ÍøÕ¾µØÍ¼
//var SiteMap = JHelperConfig.SiteMap;//'copyright';
var SiteMapTitle = "ÒÑÌø×ªµ½ÍøÕ¾µØÍ¼Çø";

//ËÑË÷ÇøID//¶ÁÆÁÈí¼şÓïÒô½Ó¿Ú£ºÒÑÌø×ªµ½ËÑË÷ÇøÓò
//var SearchForm = JHelperConfig.SearchForm;//'searchbox';
var SearchFormTitle = "ÒÑÌø×ªµ½ËÑË÷ÇøÓò";

//Í·²¿ÄÚÈİÇøID//¶ÁÆÁÈí¼şÓïÒô½Ó¿Ú£ºÒÑÌø×ªµ½Í·²¿ÄÚÈİÇøÓò
//var HeadContent = JHelperConfig.HeadContent;//'header';
var HeadContentTitle = "ÒÑÌø×ªµ½Í·²¿ÄÚÈİÇøÓò";

//µ×²¿ÄÚÈİÇøID//¶ÁÆÁÈí¼şÓïÒô½Ó¿Ú£ºÒÑÌø×ªµ½µ×²¿ÄÚÈİÇøÓò
//var BottomContent = JHelperConfig.BottomContent;//'copyright';
var BottomContentTitle = "ÒÑÌø×ªµ½µ×²¿ÄÚÈİÇøÓò";

//ÍøÒ³×óÀ¸ÇøID//¶ÁÆÁÈí¼şÓïÒô½Ó¿Ú£ºÒÑÌø×ªÍøÒ³×óÀ¸ÇøÓò
//var LeftContent = JHelperConfig.LeftContent;//'leftbox';
var LeftContentTitle = "ÒÑÌø×ªÍøÒ³×óÀ¸ÇøÓò";

//ÍøÒ³ÖĞ¼äÇøID//¶ÁÆÁÈí¼şÓïÒô½Ó¿Ú£ºÒÑÌø×ªµ½ÖĞ¼ä½á¹¹ÇøÓò
//var MiddleContent = JHelperConfig.MiddleContent;//'leftbox';
var MiddleContentTitle = "ÒÑÌø×ªµ½ÖĞ¼ä½á¹¹ÇøÓò";

//ÍøÒ³ÓÒÀ¸ÇøID//¶ÁÆÁÈí¼şÓïÒô½Ó¿Ú£ºÒÑÌø×ªµ½ÍøÒ³ÓÒÀ¸ÇøÓò
//var RightContent = JHelperConfig.RightContent;//'rightbox';
var RightContentTitle = "ÒÑÌø×ªµ½ÍøÒ³ÓÒÀ¸ÇøÓò";

//À¸Ä¿·Ö×é±äÁ¿
//À¸Ä¿·Ö×é±ê¼Ç H2 »ò H3 »ò H4
var GroupTagNameH2 = 'H2';
var GroupTagNameH3 = 'H3';
var GroupTagNameH4 = 'H4';
//À¸Ä¿·Ö×é¼ÆÊıÆ÷³õÊ¼»¯Îª-1
var GroupCount = -1;
//Ë³£¨Äæ£©Ïò±ê¼Ç
var ForwardFlag = false;
var BackwardFlag = false;

//¿ì½İ¼üÖ´ĞĞº¯Êı

function accessKeyboardListener(currkey, e) {
	var browser = browserFlag();
	//ä¯ÀÀÆ÷ÀàĞÍÅĞ¶Ï
	/*--------------------------------------------------------ÈÈµãÌø×ª¿ªÊ¼--------------------------------------------------------*/
	if (String(navigator.platform).indexOf("Win") != -1) {
		//windows²Ù×÷ÏµÍ³
		if ((e.altKey && !e.shiftKey && !e.ctrlKey) || (!e.altKey && !e.shiftKey && e.ctrlKey)) {
			if (currkey == NumOneKey) {
				//alt+1: ¶¨Î»µ½ÎŞÕÏ°­²Ù×÷ËµÃ÷Á¬½ÓÃªµã£¬
				document.getElementById(JHelperConfig.AccessHelp).focus();
			} else if (currkey == NumTwoKey) {
				//alt+2: ¶¨Î»µ½ÍøÕ¾µ¼º½ÈİÆ÷£¬
				createNodeDiv(JHelperConfig.MainNavigation, JHelperConfig.MainNavigationTitle);
			} else if (currkey == NumThreeKey) {
				//alt+3: ¶¨Î»µ½ÍøÕ¾·şÎñÒıµ¼Çø£¬
				createNodeDiv(JHelperConfig.HeaderGuide, JHelperConfig.HeaderGuideTitle);
			} else if (currkey == NumFourKey) {
				//alt+4: ¶¨Î»µ½Ö÷ÒªÄÚÈİÇø£¬
				createNodeDiv(JHelperConfig.MainContent, JHelperConfig.MainContentTitle);
			} else if (currkey == NumFiveKey) {
				//alt+5: ¶¨Î»µ½ÍøÕ¾µØÍ¼Á¬½Ó£¬
				createNodeDiv(JHelperConfig.SiteMap, JHelperConfig.SiteMapTitle);
				//document.getElementById(SiteMap).focus();
			} else if (currkey == NumSixKey) {
				//alt+6: ¶¨Î»µ½Ò³ÃæÖ÷ÒªËÑË÷¿ò£¬
				createNodeDiv(JHelperConfig.SearchForm, JHelperConfig.SearchFormTitle);
			}
		}
	} else if (String(navigator.platform).indexOf("Mac") != -1) {
		//Mac²Ù×÷ÏµÍ³
		if (!e.altKey && !e.shiftKey && e.ctrlKey) {
			if (currkey == NumOneKey) {
				//alt+1: ¶¨Î»µ½ÎŞÕÏ°­²Ù×÷ËµÃ÷Á¬½ÓÃªµã£¬
				document.getElementById(JHelperConfig.AccessHelp).focus();
			} else if (currkey == NumTwoKey) {
				//alt+2: ¶¨Î»µ½ÍøÕ¾µ¼º½ÈİÆ÷£¬
				createNodeDiv(JHelperConfig.MainNavigation, JHelperConfig.MainNavigationTitle);
			} else if (currkey == NumThreeKey) {
				//alt+3: ¶¨Î»µ½ÍøÕ¾·şÎñÒıµ¼Çø£¬
				createNodeDiv(JHelperConfig.HeaderGuide, JHelperConfig.HeaderGuideTitle);
			} else if (currkey == NumFourKey) {
				//alt+4: ¶¨Î»µ½Ö÷ÒªÄÚÈİÇø£¬
				createNodeDiv(JHelperConfig.MainContent, JHelperConfig.MainContentTitle);
			} else if (currkey == NumFiveKey) {
				//alt+5: ¶¨Î»µ½ÍøÕ¾µØÍ¼Á¬½Ó£¬
				createNodeDiv(JHelperConfig.SiteMap, JHelperConfig.SiteMapTitle);
				//document.getElementById(SiteMap).focus();
			} else if (currkey == NumSixKey) {
				//alt+6: ¶¨Î»µ½Ò³ÃæÖ÷ÒªËÑË÷¿ò£¬
				createNodeDiv(JHelperConfig.SearchForm, JHelperConfig.SearchFormTitle);
			}
		}
	}
	/*--------------------------------------------------------ÈÈµãÌø×ª½áÊø-------------------------------------------------------*/
	/*------------------------------------------------------·Ö×éÀ¸Ä¿Ìø×ª¿ªÊ¼-----------------------------------------------------*/
	if (currkey == GroupTagKey) {
		if ((!e.altKey && !e.shiftKey && e.ctrlKey) || (e.altKey && !e.shiftKey && !e.ctrlKey)) {
			groupSkip(0);
			//·Ö×éÀ¸Ä¿Ìø×ª¿ì½İ¼ü£ºctrl+Z
		} else if ((!e.altKey && e.shiftKey && e.ctrlKey) || (e.altKey && e.shiftKey && !e.ctrlKey)) {
			groupSkip(1);
			//·Ö×éÀ¸Ä¿ÄæÏòÌø×ª¿ì½İ¼ü£ºctrl+shift+z
		}
	}
	/*--------------------------------------------------------·Ö×éÀ¸Ä¿Ìø×ª½áÊø----------------------------------------------------*/
	/*----------------------------------------------------------ÇøÓòÌø×ª¿ªÊ¼------------------------------------------------------*/
	if (e.altKey && e.shiftKey && !e.ctrlKey) {
		if (currkey == NumOneKey) {
			//alt+shift+1£ºÌø×ªµ½Í·²¿£¬
			createNodeDiv(JHelperConfig.HeadContent, JHelperConfig.HeadContentTitle);
		} else if (currkey == NumTwoKey) {
			//alt+shift+4: Ìø×ªµ½×óÀ¸£¬
			createNodeDiv(JHelperConfig.LeftContent, JHelperConfig.LeftContentTitle);
		} else if (currkey == NumThreeKey) {
			//alt+shift+3: Ìø×ªµ½ÖĞ¼äÇøÓò£¬
			createNodeDiv(JHelperConfig.MiddleContent, JHelperConfig.MiddleContentTitle);
		} else if (currkey == NumFourKey) {
			//alt+shift+5: Ìø×ªµ½ÓÒÀ¸£¬
			createNodeDiv(JHelperConfig.RightContent, JHelperConfig.RightContentTitle);
		} else if (currkey == NumFiveKey) {
			//alt+shift+2: Ìø×ªµ½µ×²¿£¬
			createNodeDiv(JHelperConfig.BottomContent, JHelperConfig.BottomContentTitle);
		}
	}
	/*----------------------------------------------------------ÇøÓòÌø×ª½áÊø------------------------------------------------------*/
}

//À¸Ä¿·Ö×éÌø×ª

function groupSkip(skipFlag, GroupTagName) {
	var allSkipNode = new Array();
	var j = 0;
	var allNode = document.getElementsByTagName("*");
	for (i = 0; i < allNode.length; i++) {
		var newNodeName = allNode[i].nodeName;
		if (newNodeName == JHelperConfig.GroupTagNameH2 || newNodeName == JHelperConfig.GroupTagNameH3 || newNodeName == JHelperConfig.GroupTagNameH4) {
			allSkipNode[j] = i;
			j++;
		}
	}
	//»ñÈ¡À¸Ä¿·Ö×éÌø×ª±êÇ©µÄ¸öÊı
	var NumGroupTagID = allSkipNode.length
	if (NumGroupTagID == 0) {
		return;
	}
	//Ã»ÓĞÀ¸Ä¿·Ö×é±êÇ©·µ»Ø
	if (skipFlag == 0) {
		//·Ö×éÀ¸Ä¿ÕıÏòÌø×ª
		ForwardFlag = true;
		if (BackwardFlag) {
			BackwardFlag = false;
		}
		this.GroupCount++;
		if (this.GroupCount > NumGroupTagID - 1) {
			this.GroupCount = 0;
		}
	} else if (skipFlag == 1) {
		//·Ö×éÀ¸Ä¿ÄæÏòÌø×ª
		BackwardFlag = true;
		if (ForwardFlag) {
			ForwardFlag = false;
		}
		this.GroupCount--;
		if (this.GroupCount < 0) {
			this.GroupCount = NumGroupTagID - 1;
		}
	}
	var mainDiv = allNode[allSkipNode[GroupCount]];
	var titleText = mainDiv.innerText || mainDiv.textContent;
	var title = titleText + "";
	if (mainDiv.nodeName == JHelperConfig.GroupTagNameH2) {
		title = titleText + "";
	}
	createNode(mainDiv, title);
}

//´´½¨²ã½Úµã£º----------------------------------

function createNodeDiv(divID, title) {
	var mainDiv = document.getElementById(divID);
	//ÈôÖ÷Ä¿Â¼ÏÂÎŞÌø×ªID£¬²é¿´IframeÖĞÊÇ·ñÓĞ
	if (!mainDiv) {
		mainDiv = iframeSearch(divID);
		if (!mainDiv) {
			return;
		}
	}
	createNode(mainDiv, title);
}
//ÔÚÌø×ªÇøÓòµÚÒ»¸ö×Ó½ÚµãÇ°´´½¨----------------

function createNode(mainDiv, title) {
	var newNode = document.createElement("div");
	newNode.style.cssText = "width:0px;height:0px;overflow:hidden;";
	newNode.innerHTML = "<a href=\"javascript:\" title=\"" + title + "\" onblur=\"deleteNodeDiv(this)\">" + title + "</a>";
	mainDiv.parentNode.insertBefore(newNode, mainDiv);
	newNode.firstChild.focus();
}

//É¾³ı²ã½Úµã----------------------------------

function deleteNodeDiv(node) {
	var browser = browserFlag();
	if (browser.ie) {
		node.parentNode.removeNode(true);
	} else {
		node.parentNode.parentNode.removeChild(node.parentNode);
	}
}
//²éÕÒIframeÖĞ¿ì½İ¼üID

function iframeSearch(divID) {
	var iframeNode = document.body.getElementsByTagName("iframe");
	if (!iframeNode) {
		return;
	}
	for (var i = 0; i < iframeNode.length; i++) {
		try {
			var newDivID = iframeNode[i].contentWindow.document.getElementById("divID");
		} catch (e) {}
	}
	return newDivID;
}

//ÔÚiframeÖĞÔö¼Ó¼àÌıµ÷ÓÃ¸¸Ò³Ãæ¼àÌıº¯Êı
function addKeyListenerToIframe(iframeObject)
{
	var iframeNode = document.body.getElementsByTagName("iframe");
	if(!iframeNode){return;}	
	for(var i=0;i<iframeNode.length;i++){
		var iframeObject = iframeNode[i].contentWindow;
		bindKeyDownEvent(iframeObject);
	}
}

function bindKeyDownEvent(iframeObject)
{
	try {
		iframeObject.document.onkeydown = KeyDownEvent;
		var iFrameAllNode = iframeObject.document.getElementsByTagName("body")[0].getElementsByTagName("*");
		for (var j = 0; j < iFrameAllNode.length;j++ ) {
			if(iFrameAllNode[j].tagName == 'iframe' || iFrameAllNode[j].tagName=='IFRAME') {
				var innerIframeObject = iFrameAllNode[j].contentWindow;
				bindKeyDownEvent(innerIframeObject);
			}
		}
	} catch (e) {}
}
function KeyDownEvent(e) {
	//¿ì½İ¼ü»ñÈ¡
	var currkey = 0,
	e = e || event || window.event;
	currkey = e.keyCode || e.which || e.charCode;
	//¿ì½İ¼ü¼üÅÌ¼àÌı
	top.accessKeyboardListener(currkey, e);
	//¹¤¾ßÌõ¼üÅÌ¼àÌı
	top.toolBarKeyDownEvent(currkey, e);
}
////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////	//////////////////////////////
////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
// È«¾Ö¶ÔÏó
var INSTANCE = new Object();
//¶¨ÒåÖ÷ÄÚÈİºĞ×Ó
var mainBoxID; // = JHelperConfig.mainBox;
//´¿ÎÄ±¾ÑùÊ½
var textStyleCSS = serverUrl + "jhelper_style.css";

//------------------------------------------------------------------------------------
//--------------------------------------Ö÷·½·¨¿ªÊ¼------------------------------------

//declareConfig();
// È«¾ÖÈë¿Ú
//$(document).ready(initJSHelper());
initJSHelper();

////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////