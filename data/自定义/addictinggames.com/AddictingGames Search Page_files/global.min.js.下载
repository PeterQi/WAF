(function(a,c){function b(b){return!a(b).parents().andSelf().filter(function(){return"hidden"===a.curCSS(this,"visibility")||a.expr.filters.hidden(this)}).length}a.ui=a.ui||{};a.ui.version||(a.extend(a.ui,{version:"1.8.5",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,
PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),a.fn.extend({_focus:a.fn.focus,focus:function(b,d){return"number"===typeof b?this.each(function(){var c=this;setTimeout(function(){a(c).focus();d&&d.call(c)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;b=a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,
"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(b){if(b!==c)return this.css("zIndex",b);if(this.length){b=a(this[0]);for(var d;b.length&&b[0]!==document;){d=b.css("position");
if("absolute"===d||"relative"===d||"fixed"===d)if(d=parseInt(b.css("zIndex")),!isNaN(d)&&0!=d)return d;b=b.parent()}}return 0},disableSelection:function(){return this.bind("mousedown.ui-disableSelection selectstart.ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.each(["Width","Height"],function(b,d){function h(b,d,c,h){a.each(f,function(){d-=parseFloat(a.curCSS(b,"padding"+this,!0))||0;c&&(d-=parseFloat(a.curCSS(b,"border"+
this+"Width",!0))||0);h&&(d-=parseFloat(a.curCSS(b,"margin"+this,!0))||0)});return d}var f="Width"===d?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),l={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(b){return b===c?l["inner"+d].call(this):this.each(function(){a.style(this,g,h(this,b)+"px")})};a.fn["outer"+d]=function(b,c){return"number"!==typeof b?l["outer"+d].call(this,b):this.each(function(){a.style(this,
g,h(this,b,!0,c)+"px")})}}),a.extend(a.expr[":"],{data:function(b,d,c){return!!a.data(b,c[3])},focusable:function(c){var d=c.nodeName.toLowerCase(),h=a.attr(c,"tabindex");if("area"===d){d=c.parentNode;h=d.name;if(!c.href||!h||"map"!==d.nodeName.toLowerCase())return!1;c=a("img[usemap\x3d#"+h+"]")[0];return!!c&&b(c)}return(/input|select|textarea|button|object/.test(d)?!c.disabled:"a"==d?c.href||!isNaN(h):!isNaN(h))&&b(c)},tabbable:function(b){var d=a.attr(b,"tabindex");return(isNaN(d)||0<=d)&&a(b).is(":focusable")}}),
a(function(){var b=document.createElement("div"),d=document.body;a.extend(b.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});a.support.minHeight=100===d.appendChild(b).offsetHeight;d.removeChild(b).style.display="none"}),a.extend(a.ui,{plugin:{add:function(b,d,c){b=a.ui[b].prototype;for(var f in c)b.plugins[f]=b.plugins[f]||[],b.plugins[f].push([d,c[f]])},call:function(a,b,c){if((b=a.plugins[b])&&a.element[0].parentNode)for(var f=0;f<b.length;f++)a.options[b[f][0]]&&b[f][1].apply(a.element,
c)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var h=c&&"left"===c?"scrollLeft":"scrollTop",f=!1;if(0<b[h])return!0;b[h]=1;f=0<b[h];b[h]=0;return f},isOverAxis:function(a,b,c){return a>b&&a<b+c},isOver:function(b,c,h,f,g,l){return a.ui.isOverAxis(b,h,g)&&a.ui.isOverAxis(c,f,l)}}))})(jQuery);
(function(a,c){if(a.cleanData){var b=a.cleanData;a.cleanData=function(c){for(var h=0,f;null!=(f=c[h]);h++)a(f).triggerHandler("remove");b(c)}}else{var e=a.fn.remove;a.fn.remove=function(b,c){return this.each(function(){c||b&&!a.filter(b,[this]).length||a("*",this).add([this]).each(function(){a(this).triggerHandler("remove")});return e.call(a(this),b,c)})}}a.widget=function(b,c,f){var g=b.split(".")[0],e;b=b.split(".")[1];e=g+"-"+b;f||(f=c,c=a.Widget);a.expr[":"][e]=function(c){return!!a.data(c,b)};
a[g]=a[g]||{};a[g][b]=function(a,b){arguments.length&&this._createWidget(a,b)};c=new c;c.options=a.extend(!0,{},c.options);a[g][b].prototype=a.extend(!0,c,{namespace:g,widgetName:b,widgetEventPrefix:a[g][b].prototype.widgetEventPrefix||b,widgetBaseClass:e},f);a.widget.bridge(b,a[g][b])};a.widget.bridge=function(b,h){a.fn[b]=function(f){var e="string"===typeof f,l=Array.prototype.slice.call(arguments,1),n=this;f=!e&&l.length?a.extend.apply(null,[!0,f].concat(l)):f;if(e&&"_"===f.substring(0,1))return n;
e?this.each(function(){var h=a.data(this,b);if(!h)throw"cannot call methods on "+b+" prior to initialization; attempted to call method '"+f+"'";if(!a.isFunction(h[f]))throw"no such method '"+f+"' for "+b+" widget instance";var e=h[f].apply(h,l);if(e!==h&&e!==c)return n=e,!1}):this.each(function(){var c=a.data(this,b);c?c.option(f||{})._init():a.data(this,b,new h(f,this))});return n}};a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",
options:{disabled:!1},_createWidget:function(b,c){a.data(c,this.widgetName,this);this.element=a(c);this.options=a.extend(!0,{},this.options,a.metadata&&a.metadata.get(c)[this.widgetName],b);var e=this;this.element.bind("remove."+this.widgetName,function(){e.destroy()});this._create();this._init()},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+
"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(b,h){var e=b,g=this;if(0===arguments.length)return a.extend({},g.options);if("string"===typeof b){if(h===c)return this.options[b];e={};e[b]=h}a.each(e,function(a,b){g._setOption(a,b)});return g},_setOption:function(a,b){this.options[a]=b;"disabled"===a&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",b);return this},enable:function(){return this._setOption("disabled",
!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(b,c,e){var g=this.options[b];c=a.Event(c);c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();e=e||{};if(c.originalEvent){b=a.event.props.length;for(var l;b;)l=a.event.props[--b],c[l]=c.originalEvent[l]}this.element.trigger(c,e);return!(a.isFunction(g)&&!1===g.call(this.element[0],c,e)||c.isDefaultPrevented())}}})(jQuery);
(function(a,c){var b=0,e=0;a.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"\x3cdiv\x3e\x3c/div\x3e",remove:null,select:null,show:null,spinner:"\x3cem\x3eLoading\x26#8230;\x3c/em\x3e",tabTemplate:"\x3cli\x3e\x3ca href\x3d'#{href}'\x3e\x3cspan\x3e#{label}\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e"},_create:function(){this._tabify(!0)},_setOption:function(a,b){"selected"==
a?this.options.collapsible&&b==this.options.selected||this.select(b):(this.options[a]=b,this._tabify())},_tabId:function(a){return a.title&&a.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+ ++b},_sanitizeSelector:function(a){return a.replace(/:/g,"\\:")},_cookie:function(){var b=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+ ++e);return a.cookie.apply(null,[b].concat(a.makeArray(arguments)))},_ui:function(a,b){return{tab:a,panel:b,index:this.anchors.index(a)}},
_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var b=a(this);b.html(b.data("label.tabs")).removeData("label.tabs")})},_tabify:function(b){function e(b,c){b.css("display","");!a.support.opacity&&c.opacity&&b[0].style.removeAttribute("filter")}var f=this,g=this.options,l=/^#.+/;this.list=this.element.find("ol,ul").eq(0);this.lis=a(" \x3e li:has(a[href])",this.list);this.anchors=this.lis.map(function(){return a("a",
this)[0]});this.panels=a([]);this.anchors.each(function(b,c){var e=a(c).attr("href"),d=e.split("#")[0],h;d&&(d===location.toString().split("#")[0]||(h=a("base")[0])&&d===h.href)&&(e=c.hash,c.href=e);l.test(e)?f.panels=f.panels.add(f._sanitizeSelector(e)):e&&"#"!==e?(a.data(c,"href.tabs",e),a.data(c,"load.tabs",e.replace(/#.*$/,"")),e=f._tabId(c),c.href="#"+e,d=a("#"+e),d.length||(d=a(g.panelTemplate).attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(f.panels[b-
1]||f.list),d.data("destroy.tabs",!0)),f.panels=f.panels.add(d)):g.disabled.push(b)});b?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),g.selected===c?(location.hash&&this.anchors.each(function(a,b){if(b.hash==location.hash)return g.selected=a,!1}),
"number"!==typeof g.selected&&g.cookie&&(g.selected=parseInt(f._cookie(),10)),"number"!==typeof g.selected&&this.lis.filter(".ui-tabs-selected").length&&(g.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),g.selected=g.selected||(this.lis.length?0:-1)):null===g.selected&&(g.selected=-1),g.selected=0<=g.selected&&this.anchors[g.selected]||0>g.selected?g.selected:0,g.disabled=a.unique(g.disabled.concat(a.map(this.lis.filter(".ui-state-disabled"),function(a,b){return f.lis.index(a)}))).sort(),
-1!=a.inArray(g.selected,g.disabled)&&g.disabled.splice(a.inArray(g.selected,g.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),0<=g.selected&&this.anchors.length&&(this.panels.eq(g.selected).removeClass("ui-tabs-hide"),this.lis.eq(g.selected).addClass("ui-tabs-selected ui-state-active"),f.element.queue("tabs",function(){f._trigger("show",null,f._ui(f.anchors[g.selected],f.panels[g.selected]))}),this.load(g.selected)),a(window).bind("unload",
function(){f.lis.add(f.anchors).unbind(".tabs");f.lis=f.anchors=f.panels=null})):g.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"));this.element[g.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible");g.cookie&&this._cookie(g.selected,g.cookie);b=0;for(var n;n=this.lis[b];b++)a(n)[-1==a.inArray(b,g.disabled)||a(n).hasClass("ui-tabs-selected")?"removeClass":"addClass"]("ui-state-disabled");!1===g.cache&&this.anchors.removeData("cache.tabs");this.lis.add(this.anchors).unbind(".tabs");
if("mouseover"!==g.event){var k=function(a,b){b.is(":not(.ui-state-disabled)")&&b.addClass("ui-state-"+a)};this.lis.bind("mouseover.tabs",function(){k("hover",a(this))});this.lis.bind("mouseout.tabs",function(){a(this).removeClass("ui-state-hover")});this.anchors.bind("focus.tabs",function(){k("focus",a(this).closest("li"))});this.anchors.bind("blur.tabs",function(){a(this).closest("li").removeClass("ui-state-focus")})}var p,m;g.fx&&(a.isArray(g.fx)?(p=g.fx[0],m=g.fx[1]):p=m=g.fx);var u=m?function(b,
c){a(b).closest("li").addClass("ui-tabs-selected ui-state-active");c.hide().removeClass("ui-tabs-hide").animate(m,m.duration||"normal",function(){e(c,m);f._trigger("show",null,f._ui(b,c[0]))})}:function(b,c){a(b).closest("li").addClass("ui-tabs-selected ui-state-active");c.removeClass("ui-tabs-hide");f._trigger("show",null,f._ui(b,c[0]))},y=p?function(a,b){b.animate(p,p.duration||"normal",function(){f.lis.removeClass("ui-tabs-selected ui-state-active");b.addClass("ui-tabs-hide");e(b,p);f.element.dequeue("tabs")})}:
function(a,b,c){f.lis.removeClass("ui-tabs-selected ui-state-active");b.addClass("ui-tabs-hide");f.element.dequeue("tabs")};this.anchors.bind(g.event+".tabs",function(){var b=this,c=a(b).closest("li"),e=f.panels.filter(":not(.ui-tabs-hide)"),d=a(f._sanitizeSelector(b.hash));if(c.hasClass("ui-tabs-selected")&&!g.collapsible||c.hasClass("ui-state-disabled")||c.hasClass("ui-state-processing")||f.panels.filter(":animated").length||!1===f._trigger("select",null,f._ui(this,d[0])))return this.blur(),!1;
g.selected=f.anchors.index(this);f.abort();if(g.collapsible){if(c.hasClass("ui-tabs-selected"))return g.selected=-1,g.cookie&&f._cookie(g.selected,g.cookie),f.element.queue("tabs",function(){y(b,e)}).dequeue("tabs"),this.blur(),!1;if(!e.length)return g.cookie&&f._cookie(g.selected,g.cookie),f.element.queue("tabs",function(){u(b,d)}),f.load(f.anchors.index(this)),this.blur(),!1}g.cookie&&f._cookie(g.selected,g.cookie);if(d.length)e.length&&f.element.queue("tabs",function(){y(b,e)}),f.element.queue("tabs",
function(){u(b,d)}),f.load(f.anchors.index(this));else throw"jQuery UI Tabs: Mismatching fragment identifier.";a.browser.msie&&this.blur()});this.anchors.bind("click.tabs",function(){return!1})},_getIndex:function(a){"string"==typeof a&&(a=this.anchors.index(this.anchors.filter("[href$\x3d"+a+"]")));return a},destroy:function(){var b=this.options;this.abort();this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs");this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");
this.anchors.each(function(){var b=a.data(this,"href.tabs");b&&(this.href=b);var c=a(this).unbind(".tabs");a.each(["href","load","cache"],function(a,b){c.removeData(b+".tabs")})});this.lis.unbind(".tabs").add(this.panels).each(function(){a.data(this,"destroy.tabs")?a(this).remove():a(this).removeClass("ui-state-default ui-corner-top ui-tabs-selected ui-state-active ui-state-hover ui-state-focus ui-state-disabled ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide")});b.cookie&&this._cookie(null,
b.cookie);return this},add:function(b,e,f){f===c&&(f=this.anchors.length);var g=this,l=this.options;e=a(l.tabTemplate.replace(/#\{href\}/g,b).replace(/#\{label\}/g,e));b=b.indexOf("#")?this._tabId(a("a",e)[0]):b.replace("#","");e.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var n=a("#"+b);n.length||(n=a(l.panelTemplate).attr("id",b).data("destroy.tabs",!0));n.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide");f>=this.lis.length?(e.appendTo(this.list),n.appendTo(this.list[0].parentNode)):
(e.insertBefore(this.lis[f]),n.insertBefore(this.panels[f]));l.disabled=a.map(l.disabled,function(a,b){return a>=f?++a:a});this._tabify();1==this.anchors.length&&(l.selected=0,e.addClass("ui-tabs-selected ui-state-active"),n.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){g._trigger("show",null,g._ui(g.anchors[0],g.panels[0]))}),this.load(0));this._trigger("add",null,this._ui(this.anchors[f],this.panels[f]));return this},remove:function(b){b=this._getIndex(b);var c=this.options,e=
this.lis.eq(b).remove(),g=this.panels.eq(b).remove();e.hasClass("ui-tabs-selected")&&1<this.anchors.length&&this.select(b+(b+1<this.anchors.length?1:-1));c.disabled=a.map(a.grep(c.disabled,function(a,c){return a!=b}),function(a,c){return a>=b?--a:a});this._tabify();this._trigger("remove",null,this._ui(e.find("a")[0],g[0]));return this},enable:function(b){b=this._getIndex(b);var c=this.options;if(-1!=a.inArray(b,c.disabled))return this.lis.eq(b).removeClass("ui-state-disabled"),c.disabled=a.grep(c.disabled,
function(a,c){return a!=b}),this._trigger("enable",null,this._ui(this.anchors[b],this.panels[b])),this},disable:function(a){a=this._getIndex(a);var b=this.options;a!=b.selected&&(this.lis.eq(a).addClass("ui-state-disabled"),b.disabled.push(a),b.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[a],this.panels[a])));return this},select:function(a){a=this._getIndex(a);if(-1==a)if(this.options.collapsible&&-1!=this.options.selected)a=this.options.selected;else return this;this.anchors.eq(a).trigger(this.options.event+
".tabs");return this},load:function(b){b=this._getIndex(b);var c=this,e=this.options,g=this.anchors.eq(b)[0],l=a.data(g,"load.tabs");this.abort();if(!l||0!==this.element.queue("tabs").length&&a.data(g,"cache.tabs"))this.element.dequeue("tabs");else{this.lis.eq(b).addClass("ui-state-processing");if(e.spinner){var n=a("span",g);n.data("label.tabs",n.html()).html(e.spinner)}this.xhr=a.ajax(a.extend({},e.ajaxOptions,{url:l,success:function(k,l){a(c._sanitizeSelector(g.hash)).html(k);c._cleanup();e.cache&&
a.data(g,"cache.tabs",!0);c._trigger("load",null,c._ui(c.anchors[b],c.panels[b]));try{e.ajaxOptions.success(k,l)}catch(m){}},error:function(a,l,m){c._cleanup();c._trigger("load",null,c._ui(c.anchors[b],c.panels[b]));try{e.ajaxOptions.error(a,l,b,g)}catch(n){}}}));c.element.dequeue("tabs");return this}},abort:function(){this.element.queue([]);this.panels.stop(!1,!0);this.element.queue("tabs",this.element.queue("tabs").splice(-2,2));this.xhr&&(this.xhr.abort(),delete this.xhr);this._cleanup();return this},
url:function(a,b){this.anchors.eq(a).removeData("cache.tabs").data("load.tabs",b);return this},length:function(){return this.anchors.length}});a.extend(a.ui.tabs,{version:"1.8.5"});a.extend(a.ui.tabs.prototype,{rotation:null,rotate:function(a,b){var c=this,e=this.options,l=c._rotate||(c._rotate=function(b){clearTimeout(c.rotation);c.rotation=setTimeout(function(){var a=e.selected;c.select(++a<c.anchors.length?a:0)},a);b&&b.stopPropagation()}),n=c._unrotate||(c._unrotate=b?function(a){t=e.selected;
l()}:function(a){a.clientX&&c.rotate(null)});a?(this.element.bind("tabsshow",l),this.anchors.bind(e.event+".tabs",n),l()):(clearTimeout(c.rotation),this.element.unbind("tabsshow",l),this.anchors.unbind(e.event+".tabs",n),delete this._rotate,delete this._unrotate);return this}})})(jQuery);
jQuery.cookie=function(a,c,b){if("undefined"!=typeof c){b=b||{};null===c&&(c="",b.expires=-1);var e="";b.expires&&("number"==typeof b.expires||b.expires.toUTCString)&&("number"==typeof b.expires?(e=new Date,e.setTime(e.getTime()+864E5*b.expires)):e=b.expires,e="; expires\x3d"+e.toUTCString());var d=b.path?"; path\x3d"+b.path:"",h=b.domain?"; domain\x3d"+b.domain:"";b=b.secure?"; secure":"";document.cookie=[a,"\x3d",encodeURIComponent(c),e,d,h,b].join("")}else{c=null;if(document.cookie&&""!=document.cookie)for(b=
document.cookie.split(";"),e=0;e<b.length;e++)if(d=jQuery.trim(b[e]),d.substring(0,a.length+1)==a+"\x3d"){c=decodeURIComponent(d.substring(a.length+1));break}return c}};
(function(a){function c(){if(a.fn.ajaxSubmit.debug){var b="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(b):window.opera&&window.opera.postError&&window.opera.postError(b)}}a.fn.ajaxSubmit=function(b){function e(){function e(){var b=n.attr("target"),c=n.attr("action");f.setAttribute("target",k);"POST"!=f.getAttribute("method")&&f.setAttribute("method","POST");f.getAttribute("action")!=d.url&&f.setAttribute("action",d.url);d.skipEncodingOverride||
n.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});d.timeout&&setTimeout(function(){E=!0;g()},d.timeout);var h=[];try{if(d.extraData)for(var m in d.extraData)h.push(a('\x3cinput type\x3d"hidden" name\x3d"'+m+'" value\x3d"'+d.extraData[m]+'" /\x3e').appendTo(f)[0]);l.appendTo("body");l.data("form-plugin-onload",g);f.submit()}finally{f.setAttribute("action",c),b?f.setAttribute("target",b):n.removeAttr("target"),a(h).remove()}}function g(){if(!F){l.removeData("form-plugin-onload");
var b=!0;try{if(E)throw"timeout";z=p.contentWindow?p.contentWindow.document:p.contentDocument?p.contentDocument:p.document;var e="xml"==d.dataType||z.XMLDocument||a.isXMLDoc(z);c("isXml\x3d"+e);if(!e&&window.opera&&(null==z.body||""==z.body.innerHTML)&&--H){c("requeing onLoad callback, DOM not available");setTimeout(g,250);return}F=!0;w.responseText=z.documentElement?z.documentElement.innerHTML:null;w.responseXML=z.XMLDocument?z.XMLDocument:z;w.getResponseHeader=function(a){return{"content-type":d.dataType}[a]};
var f=/(json|script)/.test(d.dataType);if(f||d.textarea){var m=z.getElementsByTagName("textarea")[0];if(m)w.responseText=m.value;else if(f){var v=z.getElementsByTagName("pre")[0];v&&(w.responseText=v.innerHTML)}}else"xml"!=d.dataType||w.responseXML||null==w.responseText||(w.responseXML=h(w.responseText));G=a.httpData(w,d.dataType)}catch(k){c("error caught:",k),b=!1,w.error=k,a.handleError(d,w,"error",k)}b&&(d.success.call(d.context,G,"success",w),B&&a.event.trigger("ajaxSuccess",[w,d]));B&&a.event.trigger("ajaxComplete",
[w,d]);B&&!--a.active&&a.event.trigger("ajaxStop");d.complete&&d.complete.call(d.context,w,b?"success":"error");setTimeout(function(){l.removeData("form-plugin-onload");l.remove();w.responseXML=null},100)}}function h(a,b){window.ActiveXObject?(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)):b=(new DOMParser).parseFromString(a,"text/xml");return b&&b.documentElement&&"parsererror"!=b.documentElement.tagName?b:null}var f=n[0];if(a(":input[name\x3dsubmit],:input[id\x3dsubmit]",
f).length)alert('Error: Form elements must not have name or id of "submit".');else{var d=a.extend(!0,{},a.ajaxSettings,b);d.context=d.context||d;var k="jqFormIO"+(new Date).getTime(),v="_"+k;window[v]=function(){var a=l.data("form-plugin-onload");if(a){a();window[v]=void 0;try{delete window[v]}catch(b){}}};var l=a('\x3ciframe id\x3d"'+k+'" name\x3d"'+k+'" src\x3d"'+d.iframeSrc+'" onload\x3d"window[\'_\'+this.id]()" /\x3e'),p=l[0];l.css({position:"absolute",top:"-1000px",left:"-1000px"});var w={aborted:0,
responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(){this.aborted=1;l.attr("src",d.iframeSrc)}},B=d.global;B&&!a.active++&&a.event.trigger("ajaxStart");B&&a.event.trigger("ajaxSend",[w,d]);if(d.beforeSend&&!1===d.beforeSend.call(d.context,w,d))d.global&&a.active--;else if(!w.aborted){var F=!1,E=0,C=f.clk;if(C){var D=C.name;D&&!C.disabled&&(d.extraData=d.extraData||{},d.extraData[D]=
C.value,"image"==C.type&&(d.extraData[D+".x"]=f.clk_x,d.extraData[D+".y"]=f.clk_y))}d.forceSync?e():setTimeout(e,10);var G,z,H=50}}}if(!this.length)return c("ajaxSubmit: skipping submit process - no element selected"),this;"function"==typeof b&&(b={success:b});var d=a.trim(this.attr("action"));d&&(d=(d.match(/^([^#]+)/)||[])[1]);d=d||window.location.href||"";b=a.extend(!0,{url:d,type:this.attr("method")||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},b);
d={};this.trigger("form-pre-serialize",[this,b,d]);if(d.veto)return c("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(b.beforeSerialize&&!1===b.beforeSerialize(this,b))return c("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var h,f,g=this.formToArray(b.semantic);if(b.data)for(h in b.extraData=b.data,b.data)if(b.data[h]instanceof Array)for(var l in b.data[h])g.push({name:h,value:b.data[h][l]});else f=b.data[h],f=a.isFunction(f)?f():f,g.push({name:h,value:f});if(b.beforeSubmit&&
!1===b.beforeSubmit(g,this,b))return c("ajaxSubmit: submit aborted via beforeSubmit callback"),this;this.trigger("form-submit-validate",[g,this,b,d]);if(d.veto)return c("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;h=a.param(g);"GET"==b.type.toUpperCase()?(b.url+=(0<=b.url.indexOf("?")?"\x26":"?")+h,b.data=null):b.data=h;var n=this,k=[];b.resetForm&&k.push(function(){n.resetForm()});b.clearForm&&k.push(function(){n.clearForm()});if(!b.dataType&&b.target){var p=b.success||function(){};
k.push(function(c){var e=b.replaceTarget?"replaceWith":"html";a(b.target)[e](c).each(p,arguments)})}else b.success&&k.push(b.success);b.success=function(a,c,e){for(var d=b.context||b,g=0,f=k.length;g<f;g++)k[g].apply(d,[a,c,e||n,n])};h=0<a("input:file",this).length;l="multipart/form-data"==n.attr("enctype")||"multipart/form-data"==n.attr("encoding");!1!==b.iframe&&(h||b.iframe||l)?b.closeKeepAlive?a.get(b.closeKeepAlive,e):e():a.ajax(b);this.trigger("form-submit-notify",[this,b]);return this};a.fn.ajaxForm=
function(b){if(0===this.length){var e=this.selector,d=this.context;if(!a.isReady&&e)return c("DOM not ready, queuing ajaxForm"),a(function(){a(e,d).ajaxForm(b)}),this;c("terminating; zero elements found by selector"+(a.isReady?"":" (DOM not ready)"));return this}return this.ajaxFormUnbind().bind("submit.form-plugin",function(c){c.isDefaultPrevented()||(c.preventDefault(),a(this).ajaxSubmit(b))}).bind("click.form-plugin",function(b){var c=b.target,e=a(c);if(!e.is(":submit,input:image")){c=e.closest(":submit");
if(0==c.length)return;c=c[0]}var d=this;d.clk=c;"image"==c.type&&(void 0!=b.offsetX?(d.clk_x=b.offsetX,d.clk_y=b.offsetY):"function"==typeof a.fn.offset?(e=e.offset(),d.clk_x=b.pageX-e.left,d.clk_y=b.pageY-e.top):(d.clk_x=b.pageX-c.offsetLeft,d.clk_y=b.pageY-c.offsetTop));setTimeout(function(){d.clk=d.clk_x=d.clk_y=null},100)})};a.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};a.fn.formToArray=function(b){var c=[];if(0===this.length)return c;var d=this[0],
h=b?d.getElementsByTagName("*"):d.elements;if(!h)return c;var f,g,l,n;f=0;for(max=h.length;f<max;f++)if(g=h[f],l=g.name)if(b&&d.clk&&"image"==g.type)g.disabled||d.clk!=g||(c.push({name:l,value:a(g).val()}),c.push({name:l+".x",value:d.clk_x},{name:l+".y",value:d.clk_y}));else if((n=a.fieldValue(g,!0))&&n.constructor==Array)for(g=0,jmax=n.length;g<jmax;g++)c.push({name:l,value:n[g]});else null!==n&&"undefined"!=typeof n&&c.push({name:l,value:n});!b&&d.clk&&(b=a(d.clk),h=b[0],(l=h.name)&&!h.disabled&&
"image"==h.type&&(c.push({name:l,value:b.val()}),c.push({name:l+".x",value:d.clk_x},{name:l+".y",value:d.clk_y})));return c};a.fn.formSerialize=function(b){return a.param(this.formToArray(b))};a.fn.fieldSerialize=function(b){var c=[];this.each(function(){var d=this.name;if(d){var h=a.fieldValue(this,b);if(h&&h.constructor==Array)for(var f=0,g=h.length;f<g;f++)c.push({name:d,value:h[f]});else null!==h&&"undefined"!=typeof h&&c.push({name:this.name,value:h})}});return a.param(c)};a.fn.fieldValue=function(b){for(var c=
[],d=0,h=this.length;d<h;d++){var f=a.fieldValue(this[d],b);null===f||"undefined"==typeof f||f.constructor==Array&&!f.length||(f.constructor==Array?a.merge(c,f):c.push(f))}return c};a.fieldValue=function(b,c){var d=b.name,h=b.type,f=b.tagName.toLowerCase();void 0===c&&(c=!0);if(c&&(!d||b.disabled||"reset"==h||"button"==h||("checkbox"==h||"radio"==h)&&!b.checked||("submit"==h||"image"==h)&&b.form&&b.form.clk!=b||"select"==f&&-1==b.selectedIndex))return null;if("select"==f){var g=b.selectedIndex;if(0>
g)return null;for(var d=[],f=b.options,l=(h="select-one"==h)?g+1:f.length,g=h?g:0;g<l;g++){var n=f[g];if(n.selected){var k=n.value;k||(k=n.attributes&&n.attributes.value&&!n.attributes.value.specified?n.text:n.value);if(h)return k;d.push(k)}}return d}return a(b).val()};a.fn.clearForm=function(){return this.each(function(){a("input,select,textarea",this).clearFields()})};a.fn.clearFields=a.fn.clearInputs=function(){return this.each(function(){var a=this.type,c=this.tagName.toLowerCase();"text"==a||
"password"==a||"textarea"==c?this.value="":"checkbox"==a||"radio"==a?this.checked=!1:"select"==c&&(this.selectedIndex=-1)})};a.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})};a.fn.enable=function(a){void 0===a&&(a=!0);return this.each(function(){this.disabled=!a})};a.fn.selected=function(b){void 0===b&&(b=!0);return this.each(function(){var c=this.type;"checkbox"==c||"radio"==c?this.checked=b:"option"==
this.tagName.toLowerCase()&&(c=a(this).parent("select"),b&&c[0]&&"select-one"==c[0].type&&c.find("option").selected(!1),this.selected=b)})}})(jQuery);
(function(a){a.fn.jqm=function(e){var d={overlay:70,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:h,ajaxText:"",target:h,modal:h,toTop:h,onShow:h,onHide:h,onLoad:h};return this.each(function(){if(this._jqm)return b[this._jqm].c=a.extend({},b[this._jqm].c,e);c++;this._jqm=c;b[c]={c:a.extend(d,a.jqm.params,e),a:h,w:a(this).addClass("jqmID"+c),s:c};d.trigger&&a(this).jqmAddTrigger(d.trigger)})};a.fn.jqmAddClose=function(a){return p(this,a,"jqmHide")};a.fn.jqmAddTrigger=function(a){return p(this,
a,"jqmShow")};a.fn.jqmShow=function(b){return this.each(function(){a.jqm.open(this._jqm,b)})};a.fn.jqmHide=function(b){return this.each(function(){a.jqm.close(this._jqm,b)})};a.jqm={hash:{},open:function(c,f){var k=b[c],l=k.c,p="."+l.closeClass,r=parseInt(k.w.css("z-index")),r=0<r?r:3E3,v=a("\x3cdiv\x3e\x3c/div\x3e").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":r-1,opacity:l.overlay/100});if(k.a)return h;k.t=f;k.a=!0;k.w.css("z-index",r);l.modal?(e[0]||n("bind"),e.push(c)):
0<l.overlay?k.w.jqmAddClose(v):v=h;k.o=v?v.addClass(l.overlayClass).prependTo("body"):h;if(d&&(a("html,body").css({height:"100%",width:"100%"}),v)){var v=v.css({position:"absolute"})[0],A;for(A in{Top:1,Left:1})v.style.setExpression(A.toLowerCase(),"(_\x3d(document.documentElement.scroll"+A+" || document.body.scroll"+A+"))+'px'")}l.ajax?(r=l.target||k.w,v=l.ajax,r="string"==typeof r?a(r,k.w):a(r),v="@"==v.substr(0,1)?a(f).attr(v.substring(1)):v,r.html(l.ajaxText).load(v,function(){l.onLoad&&l.onLoad.call(this,
k);p&&k.w.jqmAddClose(a(p,k.w));g(k)})):p&&k.w.jqmAddClose(a(p,k.w));l.toTop&&k.o&&k.w.before('\x3cspan id\x3d"jqmP'+k.w[0]._jqm+'"\x3e\x3c/span\x3e').insertAfter(k.o);l.onShow?l.onShow(k):k.w.show();g(k);return h},close:function(c){c=b[c];if(!c.a)return h;c.a=h;e[0]&&(e.pop(),e[0]||n("unbind"));c.c.toTop&&c.o&&a("#jqmP"+c.w[0]._jqm).after(c.w).remove();if(c.c.onHide)c.c.onHide(c);else c.w.hide(),c.o&&c.o.remove();return h},params:{}};var c=0,b=a.jqm.hash,e=[],d=function(){for(var a=3,b=document.createElement("div"),
c=b.getElementsByTagName("i");b.innerHTML="\x3c!--[if gt IE "+ ++a+"]\x3e\x3ci\x3e\x3c/i\x3e\x3c![endif]--\x3e",c[0];);return 4<a?a:void 0}(),h=!1,f=a('\x3ciframe src\x3d"javascript:false;document.write(\'\');" class\x3d"jqm"\x3e\x3c/iframe\x3e').css({opacity:0}),g=function(b){d&&(b.o?b.o.html('\x3cp style\x3d"width:100%;height:100%"/\x3e').prepend(f):a("iframe.jqm",b.w)[0]||b.w.prepend(f));l(b)},l=function(b){try{a(":input:visible",b.w)[0].focus()}catch(c){}},n=function(b){a()[b]("keypress",k)[b]("keydown",
k)[b]("mousedown",k)},k=function(c){var d=b[e[e.length-1]];(c=!a(c.target).parents(".jqmID"+d.s)[0])&&l(d);return!c},p=function(c,e,d){return c.each(function(){var c=this._jqm;a(e).each(function(){this[d]||(this[d]=[],a(this).click(function(){for(var a in{jqmShow:1,jqmHide:1})for(var c in this[a])if(b[this[a][c]])b[this[a][c]].w[a](this);return h}));this[d].push(c)})})}})(jQuery);
(function(a){var c=c||{};c.ie=function(){for(var a=3,c=document.createElement("div"),d=c.getElementsByTagName("i");c.innerHTML="\x3c!--[if gt IE "+ ++a+"]\x3e\x3ci\x3e\x3c/i\x3e\x3c![endif]--\x3e",d[0];);return 4<a?a:void 0}();c.opera=navigator.userAgent.match(/Opera|OPR\//)?!0:!1;a.fn.extend({autocomplete:function(b,c){var d="string"===typeof b;c=a.extend({},a.Autocompleter.defaults,{url:d?b:null,data:d?null:b,delay:d?a.Autocompleter.defaults.delay:10,max:c&&!c.scroll?10:150},c);c.highlight=c.highlight||
function(a){return a};c.formatMatch=c.formatMatch||c.formatItem;return this.each(function(){new a.Autocompleter(this,c)})},result:function(a){return this.bind("result",a)},search:function(a){return this.trigger("search",[a])},flushCache:function(){return this.trigger("flushCache")},setOptions:function(a){return this.trigger("setOptions",[a])},unautocomplete:function(){return this.trigger("unautocomplete")}});a.Autocompleter=function(b,e){function d(){var a=x.selected();if(!a)return!1;var b=a.result;
s=b;u.val(b);l();u.trigger("result",[a.url,a.value,a.url]);return!0}function h(a){if(v==m.DEL)x.hide();else{var b=u.val();if(a||b!=s)s=b,b=g(b),b.length>=e.minChars?(u.addClass(e.loadingClass),e.matchCase||(b=b.toLowerCase()),k(b,n,l)):(u.removeClass(e.loadingClass),x.hide())}}function f(b){if(!b)return[""];b=b.split(e.multipleSeparator);var c=[];a.each(b,function(b,e){a.trim(e)&&(c[b]=a.trim(e))});return c}function g(a){if(!e.multiple)return a;a=f(a);return a[a.length-1]}function l(){var c=x.visible();
x.hide();clearTimeout(y);u.removeClass(e.loadingClass);e.mustMatch&&u.search(function(a){a||(e.multiple?(a=f(u.val()).slice(0,-1),u.val(a.join(e.multipleSeparator)+(a.length?e.multipleSeparator:""))):u.val(""))});c&&a.Autocompleter.Selection(b,b.value.length,b.value.length)}function n(c,d){if(d&&d.length&&r){u.removeClass(e.loadingClass);x.display(d,c);var f=d[0].value;e.autoFill&&g(u.val()).toLowerCase()==c.toLowerCase()&&v!=m.BACKSPACE&&(u.val(u.val()+f.substring(g(s).length)),a.Autocompleter.Selection(b,
s.length,s.length+f.length));x.show()}else l()}function k(b,c,d){e.matchCase||(b=b.toLowerCase());var f=q.load(b);if(f&&f.length)c(b,f);else if("string"==typeof e.url&&0<e.url.length){var h={};a.each(e.extraParams,function(a,b){h[a]="function"==typeof b?b():b});a.ajax({dataType:"jsonp",jsonpCallback:"parse",crossDomain:!0,url:e.url,data:a.extend({q:g(encodeURIComponent(b)),limit:e.max},h),success:function(a){a=e.parse&&e.parse(a)||p(a);q.add(b,a);c(b,a)}})}else x.emptyList(),d(b)}function p(a){var b=
[],c="http://"+ag.staticAssetServer+"/newGames/";if(a.responseHeader)for(var e=a.response.docs.length,d=0;d<e;d++){var f=a.response.docs[d]._source.title_t,g='\x3cimg height\x3d"50" width\x3d "50" src\x3d"'+(c+a.response.docs[d]._source.keyword+"/"+a.response.docs[d]._source.keyword+".png")+'" /\x3e';try{var h=a.response.docs[d]._source.game_url_s}catch(k){h="http://www.addictinggames.com"}b[b.length]={data:f,result:f,html:g+'\x3cspan class\x3d"autoCompleteTitle"\x3e'+f+"\x3c/span\x3e",url:h}}else for(d=
0;d<eval(a).length;d++)(c=eval(a)[d])&&(b[b.length]={data:c,value:"Term:"+c+", URL:http://www.google.com/search?hl\x3den\x26q\x3d"+c,result:c});return b}var m={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8},u=a(b).attr("autocomplete","off").addClass(e.inputClass),y,s="",q=a.Autocompleter.Cache(e),r=0,v,A={mouseDownOnSelect:!1},x=a.Autocompleter.Select(e,b,d,A),w;c.opera&&a(b.form).bind("submit.autocomplete",function(){if(w)return w=!1});u.bind((c.opera?"keypress":
"keydown")+".autocomplete",function(b){v=b.keyCode;switch(b.keyCode){case m.UP:b.preventDefault();x.visible()?x.prev():h(0,!0);break;case m.DOWN:b.preventDefault();x.visible()?x.next():h(0,!0);break;case m.PAGEUP:b.preventDefault();x.visible()?x.pageUp():h(0,!0);break;case m.PAGEDOWN:b.preventDefault();x.visible()?x.pageDown():h(0,!0);break;case e.multiple&&","==a.trim(e.multipleSeparator)&&m.COMMA:case m.TAB:case m.RETURN:b.stopImmediatePropagation();if(d())return w=!0,!1;ag.siteSearch.submitSearch();
break;case m.ESC:x.hide();break;default:clearTimeout(y),y=setTimeout(h,e.delay)}}).focus(function(){r++}).blur(function(){r=0;A.mouseDownOnSelect||(clearTimeout(y),y=setTimeout(l,200))}).click(function(){1<r++&&!x.visible()&&h(0,!0)}).bind("search",function(){function b(a,d){var e;if(d&&d.length)for(var f=0;f<d.length;f++)if(d[f].result.toLowerCase()==a.toLowerCase()){e=d[f];break}"function"==typeof c?c(e):u.trigger("result",e&&[e.data,e.value])}var c=1<arguments.length?arguments[1]:null;a.each(f(u.val()),
function(a,c){k(c,b,b)})}).bind("flushCache",function(){q.flush()}).bind("setOptions",function(b,c){a.extend(e,c);"data"in c&&q.populate()}).bind("unautocomplete",function(){x.unbind();u.unbind();a(b.form).unbind(".autocomplete")})};a.Autocompleter.defaults={inputClass:"autoCompleteInput",resultsClass:"autoCompleteResults",loadingClass:"autoCompleteLoading",minChars:1,delay:400,matchCase:!1,matchSubset:!1,matchContains:!1,cacheLength:10,max:100,mustMatch:!1,extraParams:{},selectFirst:!0,formatItem:function(a){return a[0]},
formatMatch:null,autoFill:!1,width:0,multiple:!1,multipleSeparator:", ",highlight:function(a,c){return a.replace(new RegExp("(?![^\x26;]+;)(?!\x3c[^\x3c\x3e]*)("+c.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^\x3c\x3e]*\x3e)(?![^\x26;]+;)","gi"),"\x3cstrong\x3e$1\x3c/strong\x3e")},scroll:!0,scrollHeight:164};a.Autocompleter.Cache=function(b){function c(a,d){b.matchCase||(a=a.toLowerCase());var e=a.indexOf(d);return-1==e?!1:0==e||b.matchContains}function d(a,c){l>b.cacheLength&&f();
g[a]||l++;g[a]=c}function h(){if(!b.data)return!1;var c={},e=0;b.url||(b.cacheLength=1);c[""]=[];for(var f=0,g=b.data.length;f<g;f++){var h=b.data[f],h="string"==typeof h?[h]:h,l=b.formatMatch(h,f+1,b.data.length);if(!1!==l){var s=l.charAt(0).toLowerCase();c[s]||(c[s]=[]);h={value:l,data:h,result:b.formatResult&&b.formatResult(h)||l};c[s].push(h);e++<b.max&&c[""].push(h)}}a.each(c,function(a,c){b.cacheLength++;d(a,c)})}function f(){g={};l=0}var g={},l=0;setTimeout(h,25);return{flush:f,add:d,populate:h,
load:function(d){if(!b.cacheLength||!l)return null;if(!b.url&&b.matchContains){var f=[],h;for(h in g)if(0<h.length){var m=g[h];a.each(m,function(a,b){c(b.value,d)&&f.push(b)})}return f}if(g[d])return g[d];if(b.matchSubset)for(h=d.length-1;h>=b.minChars;h--)if(m=g[d.substr(0,h)])return f=[],a.each(m,function(a,b){c(b.value,d)&&(f[f.length]=b)}),f;return null}}};a.Autocompleter.Select=function(b,e,d,h){function f(){y&&(s=a("\x3cdiv/\x3e").hide().addClass(b.resultsClass).css("position","absolute").appendTo(document.body),
q=a("\x3cul/\x3e").appendTo(s).mouseover(function(b){g(b).nodeName&&"LI"==g(b).nodeName.toUpperCase()&&(p=a("li",q).removeClass(n.ACTIVE).index(g(b)),a(g(b)).addClass(n.ACTIVE))}),q.click(function(b){a(g(b)).addClass(n.ACTIVE);d();e.focus();return!1}),q.mousedown(function(){h.mouseDownOnSelect=!0}),q.mouseup(function(){h.mouseDownOnSelect=!1}),0<b.width&&s.css("width",b.width),y=!1)}function g(a){for(a=a.target;a&&"LI"!=a.tagName;)a=a.parentNode;return a?a:[]}function l(a){k.slice(p,p+1).removeClass(n.ACTIVE);
p+=a;0>p?p=k.size()-1:p>=k.size()&&(p=0);a=k.slice(p,p+1).addClass(n.ACTIVE);if(b.scroll){var c=0;k.slice(0,p).each(function(){c+=this.offsetHeight});c+a[0].offsetHeight-q.scrollTop()>q[0].clientHeight?q.scrollTop(c+a[0].offsetHeight-q.innerHeight()):c<q.scrollTop()&&q.scrollTop(c)}}var n={ACTIVE:"autoCompleteOver"},k=null,p=-1,m=null,u=null,y=!0,s=null,q=null;return{display:function(c,d){f();m=c;u=d;q.empty();var e;e=m.length;e=b.max&&b.max<e?b.max:e;for(var g=0;g<e;g++)if(m[g]&&!1!==b.formatItem(m[g].data,
g+1,e,m[g].value,m.html)){var h=a("\x3cli/\x3e").html(b.highlight(m[g].html,u)).addClass(0==g%2?"autoCompleteEven":"autoCompleteOdd").appendTo(q)[0];a.data(h,"autoCompleteData",m[g])}k=q.find("li");b.selectFirst&&(k.slice(0,1).addClass(n.ACTIVE),p=0);a.fn.bgiframe&&q.bgiframe()},next:function(){l(1)},prev:function(){l(-1)},pageUp:function(){0!=p&&0>p-8?l(-p):l(-8)},pageDown:function(){p!=k.size()-1&&p+8>k.size()?l(k.size()-1-p):l(8)},hide:function(){s&&s.hide();k&&k.removeClass(n.ACTIVE);p=-1},visible:function(){return s&&
s.is(":visible")},current:function(){return this.visible()&&(k.filter("."+n.ACTIVE)[0]||b.selectFirst&&k[0])},show:function(){var d=a(e).offset();s.css({width:"string"==typeof b.width||0<b.width?b.width:a(e).width(),top:d.top+e.offsetHeight,left:d.left}).show();if(b.scroll&&(q.scrollTop(0),q.css({maxHeight:b.scrollHeight,overflow:"auto"}),c.ie&&"undefined"===typeof document.body.style.maxHeight)){var f=0;k.each(function(){f+=this.offsetHeight});d=f>b.scrollHeight;q.css("height",d?b.scrollHeight:f);
d||k.width(q.width()-parseInt(k.css("padding-left"))-parseInt(k.css("padding-right")))}},selected:function(){var b=k&&k.filter("."+n.ACTIVE).removeClass(n.ACTIVE);return b&&b.length&&a.data(b[0],"autoCompleteData")},emptyList:function(){q&&q.empty()},unbind:function(){s&&s.remove()}}};a.Autocompleter.Selection=function(a,c,d){if(a.createTextRange){var h=a.createTextRange();h.collapse(!0);h.moveStart("character",c);h.moveEnd("character",d);h.select()}else a.setSelectionRange?a.setSelectionRange(c,
d):a.selectionStart&&(a.selectionStart=c,a.selectionEnd=d);a.focus()}})(jQuery);function getValue(a,c){for(var b=a.split("~~"),e=0,e="",e=0;e<b.length;e++)if(-1!=b[e].indexOf(c))return e=b[e].substring(b[e].indexOf(":")+1,b[e].length);return max}
(function(a){a.fn.hoverIntent=function(c,b){var e={sensitivity:7,interval:100,timeout:0},e=a.extend(e,b?{over:c,out:b}:c),d,h,f,g,l=function(a){d=a.pageX;h=a.pageY},n=function(b,c){c.hoverIntent_t=clearTimeout(c.hoverIntent_t);if(Math.abs(f-d)+Math.abs(g-h)<e.sensitivity)return a(c).unbind("mousemove",l),c.hoverIntent_s=1,e.over.apply(c,[b]);f=d;g=h;c.hoverIntent_t=setTimeout(function(){n(b,c)},e.interval)},k=function(b){for(var c=("mouseover"==b.type?b.fromElement:b.toElement)||b.relatedTarget;c&&
c!=this;)try{c=c.parentNode}catch(d){c=this}if(c==this)return!1;var h=jQuery.extend({},b),k=this;k.hoverIntent_t&&(k.hoverIntent_t=clearTimeout(k.hoverIntent_t));"mouseover"==b.type?(f=h.pageX,g=h.pageY,a(k).bind("mousemove",l),1!=k.hoverIntent_s&&(k.hoverIntent_t=setTimeout(function(){n(h,k)},e.interval))):(a(k).unbind("mousemove",l),1==k.hoverIntent_s&&(k.hoverIntent_t=setTimeout(function(){k.hoverIntent_t=clearTimeout(k.hoverIntent_t);k.hoverIntent_s=0;e.out.apply(k,[h])},e.timeout)))};return this.mouseover(k).mouseout(k)}})(jQuery);
ag.reportAbuse={};
ag.reportAbuse.sendReport=function(a){a.preventDefault();ag.userObject.uuid?$.ajax({url:"/"+ag.reportAbuse.config.typeCode+"/report/"+ag.reportAbuse.config.itemId+".jsp",type:"GET",dataType:"json",success:function(a){"alreadySubmitted"==a.status?ag.reportAbuse.showAlreadySubmitted():ag.reportAbuse.showThankYou();$("#review-"+ag.reportAbuse.config.itemId).find("a.report").css({visibility:"hidden"})},error:function(a){ag.reportAbuse.showThankYou();$("#review-"+ag.reportAbuse.config.itemId).find("a.report").css({visibility:"hidden"})}}):ag.reportAbuse.showMustBeLoggedIn();
return!1};
ag.reportAbuse.show=function(){if(ag.userObject.uuid){var a={headerText:"Confirm"};a.content='\x3cdiv class\x3d"reportAbuse w500 mb15"\x3e   \x3cp\x3eAre you sure you want to report this '+ag.reportAbuse.config.typeDesc+'? Abuse of this reporting tool may result in cancellation of your account.\x3c/p\x3e   \x3cdiv class\x3d"w300 itemCentered clearfix"\x3e      \x3cdiv class\x3d"fltL w150"\x3e          \x3ca id\x3d"reportAbuseSubmit" class\x3d"primaryButton w100" href\x3d""\x3eSUBMIT\x3c/a\x3e      \x3c/div\x3e      \x3cdiv class\x3d"fltR w150"\x3e          \x3ca id\x3d"reportAbuseCancel" class\x3d"secondaryButton w100" href\x3d""\x3eCANCEL\x3c/a\x3e\x3cbr class\x3d"clearFloat"\x3e      \x3c/div\x3e   \x3c/div\x3e\x3c/div\x3e';ag.modal.setContent(a).show()}else ag.modal.successCallback=
function(){setTimeout(ag.reportAbuse.show,1500)},ag.login.show()};ag.reportAbuse.showThankYou=function(){var a={headerText:"Thank you"};a.content='\x3cdiv class\x3d"reportAbuse w500 mb15"\x3e   \x3cp\x3eThank you for reporting this '+ag.reportAbuse.config.typeDesc+'\x3c/p\x3e   \x3cdiv class\x3d"formSubmitButtonContainer"\x3e      \x3ca id\x3d"abuseThanksOk" class\x3d"primaryButton" href\x3d""\x3eOK\x3c/a\x3e   \x3c/div\x3e\x3c/div\x3e';ag.modal.setContent(a).show()};
ag.reportAbuse.showAlreadySubmitted=function(){var a={headerText:"Report already submitted"};a.content='\x3cdiv class\x3d"reportAbuse w500 mb15"\x3e   \x3cp\x3eYou have already reported this '+ag.reportAbuse.config.typeDesc+'\x3c/p\x3e   \x3cdiv class\x3d"formSubmitButtonContainer"\x3e      \x3ca id\x3d"abuseAlreadySubmittedOk" class\x3d"primaryButton" href\x3d""\x3eOK\x3c/a\x3e   \x3c/div\x3e\x3c/div\x3e';ag.modal.setContent(a).show()};
ag.reportAbuse.showMustBeLoggedIn=function(){var a={headerText:"You must be loggedin"};a.content='\x3cdiv class\x3d"reportAbuse w500 mb15"\x3e   \x3cp\x3eYou must be logged in to report this '+ag.reportAbuse.config.typeDesc+'\x3c/p\x3e   \x3cdiv class\x3d"formSubmitButtonContainer"\x3e      \x3ca id\x3d"abuseLogInOk" class\x3d"primaryButton" href\x3d""\x3eOK\x3c/a\x3e   \x3c/div\x3e\x3c/div\x3e';ag.modal.setContent(a).show()};
ag.reportAbuse.launchConfirmDialog=function(){var a={headerText:"Confirm"};a.content='\x3cdiv class\x3d"reportAbuse w500 mb15"\x3e   \x3cp\x3eAre you sure you want to report this '+ag.reportAbuse.config.typeDesc+'? Abuse of this reporting tool may result in cancellation of your account.\x3c/p\x3e   \x3cdiv class\x3d"w300 itemCentered clearfix"\x3e      \x3cdiv class\x3d"fltL w150"\x3e          \x3ca id\x3d"abuseConfirmSubmit" class\x3d"primaryButton w100" href\x3d""\x3eSUBMIT\x3c/a\x3e      \x3c/div\x3e      \x3cdiv class\x3d"fltR w150"\x3e          \x3ca id\x3d"abuseConfirmCancel" class\x3d"secondaryButton w100" href\x3d""\x3eCANCEL\x3c/a\x3e\x3cbr class\x3d"clearFloat"\x3e      \x3c/div\x3e   \x3c/div\x3e\x3c/div\x3e';
ag.modal.setcontent(a).show()};
$(document).ready(function(){$("#modalOverlay").on("click","#abuseConfirmSubmit",ag.reportAbuse.sendReport);$("#modalOverlay").on("click","#abuseConfirmCancel",ag.modal.hide);$("#modalOverlay").on("click","#abuseLogInOk",ag.modal.hide);$("#modalOverlay").on("click","#abuseAlreadySubmittedOk",ag.modal.hide);$("#modalOverlay").on("click","#abuseThanksOk",ag.modal.hide);$("#modalOverlay").on("click","#reportAbuseSubmit",ag.reportAbuse.sendReport);$("#modalOverlay").on("click","#reportAbuseCancel",ag.modal.hide)});
ag.sendEventThenFollowHref=function(a,c){btg.Controller.sendLinkEvent({linkName:a,linkType:"o",lnk:!0});setTimeout(function(){window.location=c},200);return!1};ag.trackPodClick=function(a,c){ag.persistMetrics.push("prop22",c.substring(0,c.indexOf("_")));ag.persistMetrics.push("prop23",c.substring(c.indexOf("_")+1,c.lastIndexOf("_")))};ag.writeFindingCookie=function(a,c,b){b(a,c)};
ag.setFindingMethod=function(a,c){var b=a||window.event;try{b.preventDefault(),c()}catch(e){}for(var b=b.target||b.srcElement,d=$(b).attr("href");"undefined"==typeof d||""==d;){b=$(b).parent();if(0==b.length)return!1;d=$(b).attr("href")}"_blank"===$(b).attr("target")?window.open(d):window.location=d;return!1};ag.getRandomArrayElement=function(a){return a[btg.Math.random(a.length-1)]};
ag.reviewsAttachClickEvents=function(){$("#reviews").on("click",function(a){if(a.target&&a.target.matches(".report")){a.preventDefault();var c={itemId:$(a.target).parents(".review").attr("id").substr(7),typeCode:"review",typeDesc:"review"};ag.reportAbuse.config=c;ag.reportAbuse.show()}a.target&&a.target.matches(".deleteReview")&&(a.preventDefault(),c=$(a.target).parents(".review").attr("id").substr(7),$.getJSON("/game/delete-review/"+c+".jsp",function(b){"ok"==b.status&&$(a.target).parents(".review").fadeOut("slow",
function(){$(this).remove()})}));a.target&&a.target.matches(".showMoreReview")&&(a.preventDefault(),$(a.target).parent("p.shortReview").hide(),$(a.target).parents(".review").find("p.longReview").show());a.target&&a.target.matches(".showLessReview")&&(a.preventDefault(),$(a.target).parent("p.longReview").hide(),$(a.target).parents(".review").find("p.shortReview").show())});$("#reviews").on("mouseenter",".review",function(){$(this).find(".report, .deleteReview").fadeIn(300)}).on("mouseleave",".review",
function(){$(this).find(".report, .deleteReview").fadeOut(100)})};ag.track=function(a){if(a.omniture)return console.log("**********\nOMNITURE TRACKING SKIPPED\nUSING FUNCTION ag.track\n**********");dataLayer.push({eCategory:a.category=a.category?a.category:"",eAction:a.action=a.action?a.action:"",eLabel:a.label=a.label?a.label:"",event:a.event=a.event?a.event:"trackEvent"})};
ag.completeLoginSuccess=function(a){"undefined"!==typeof ag.gameData&&(ag.gameData.isServiceManagerEnabled&&(ag.gameServices.notifySwf("notifyServiceManager","LOGIN"),ag.gameServices.returnUserInfo("setUserInfoForServiceManager")),ag.gameData.isHighScore&&ag.leaderboard.switchTab("friends",!0));ag.modal.success();"undefined"!==typeof ag.isStickGame&&(ag.isStickGame&&(ag.stickGame.updateElements(),ag.gameServices.notifySwf("continueDispatch")),ag.checkStickOnlyUser());"undefined"===typeof a?ag.modal.hide():
ag.hideFlashObjects()};ag.refreshInfoAndUpdateServiceManager=function(a){$("#loginContainer").load("/user/forward/infoContainer.jsp",function(){"object"===typeof ag.stickSignUp?ag.stickSignUp.stickLoginSuccessCheck():ag.completeLoginSuccess();ag.userObject.stickOptInDate&&btg.Controller.sendLinkEvent({linkName:"stickLoginReg",linkType:"o",lnk:!0,eVar26:ag.userObject.stickOptInDate})})};
function getURL(){var a=document.location.search,a=a.substring(1),c=a.split("\x26"),a=/[^a-zA-Z0-9]+/;for(i=0;i<c.length;)return c=c[i].split("\x3d"),"url_id"==c[0]?(c=c[1],c.match(a)?"?url_id\x3dbad_id":"?url_id\x3d"+c):""}var ADG=ADG||{},dataLayer=dataLayer||[];ADG.utils=ADG.utils||{};ADG.utils.flashMonitor=function(a){dataLayer.push({eCategory:"frameRate",eAction:a,event:"trackEvent"})};
ADG.utils.ajax=function(a){var c=new XMLHttpRequest,b="",e=[],d="";a.body=a.body||null;for(var h in a)a.hasOwnProperty(h)&&"body"!==h&&!a[h]&&(d="Must specify "+h,e.push(d));if(e.length)return console.error("Error(s): ",e);c.open(a.method,a.url);c.onreadystatechange=function(){4===c.readyState&&200===c.status?(b=c.getResponseHeader("Content-Type"),-1!==b.indexOf("xml")&&c.responseXML?a.success(c.responseXML):"application/json"===b?a.success(JSON.parse(c.responseText)):a.success(c.responseText)):4===
c.readyState&&200!==c.status&&a.error(c.responseText)};c.send(a.body)};
ADG.utils.browser=ADG.utils.browser||{w3:"undefined"!=typeof document.getElementById&&"undefined"!=typeof document.getElementsByTagName&&"undefined"!=typeof document.createElement,win:navigator.platform?/win/i.test(navigator.platform):/win/i.test(navigator.userAgent),mac:navigator.platform?/mac/i.test(navigator.platform):/mac/i.test(navigator.userAgent),ie:"ActiveXObject"in window,ff:/firefox/i.test(navigator.userAgent),ch:/chrome/i.test(navigator.userAgent),wk:/webkit/i.test(navigator.userAgent)?
parseFloat(navigator.userAgent.replace(/^.*webkit\/(\d+(\.\d+)?).*$/i,"$1")):!1,op:navigator.userAgent.match(/Opera|OPR\//)?!0:!1};
ag.gameServices.userObject=function(){return{signedInState:ag.userObject.uuid?"SignedInStandard":"NotSignedIn",signedInStateCode:ag.userObject.uuid?"SIS":"NSI",memberId:ag.userObject.id?ag.userObject.id:null,uuId:ag.userObject.uuid?ag.userObject.uuid:null,email:ag.userObject.email?ag.userObject.email:null,screenName:ag.userObject.name?ag.userObject.name:null,fbId:ag.userObject.facebookId?ag.userObject.facebookId:0,accessToken:ag.userObject.accessToken?ag.userObject.accessToken:null}};
ag.gameServices.getUserInfo=function(a,c){if(ag.userObject.uuid||!a)return ag.gameServices.userObject();ag.modal.cancelCallback=function(){ag.gameServices.returnUserInfo("setUserInfoForServiceManager")};"undefined"!==typeof ag.isStickGame?ag.isStickGame?(ag.modal.cancelCallback=function(){ag.gameServices.notifySwf("continueDispatch")},ag.stickGame.signin()):ag.login.show():ag.login.show()};
ag.gameServices.returnUserInfo=function(a){if("undefined"!==typeof a)ag.gameServices.notifySwf(a,ag.gameServices.userObject());else return ag.gameServices.userObject()};ag.gameServices.getFlashObject=function(){return $.support.opacity?window.document.gameObject:document.getElementById("gameObject")};onScoreSubmitted=function(){var a=ag.gameServices.getFlashObject();ag.gameData.isHighScore&&ag.gameData.isServiceManagerEnabled&&ag.leaderboard.refresh();a.onScoreSubmittedCallback("SUCCESS")};
loadGameOverlay=function(a,c){var b=ag.returnMedalStatus(a);""!==b?(ag.modal.successCallback=function(){ag.gameServices.notifySwf("continueDispatch")},ag.modal.cancelCallback=function(){ag.gameServices.notifySwf("continueDispatch")},ag.medalModal.show(b)):ag.gameServices.notifySwf("continueDispatch")};GameComplete=function(){console.log("GameComplete")};
ag.fb={loginDialog:{close:function(){$("#modalOverlay").empty().remove();$("#modalOverlayFogger").remove()},html:'\x3cdiv\x3e\x3cp\x3eYou\'re not logged in!  You can easily fix that by clicking the button below.\x3c/p\x3e \x3ca href\x3d"#" id\x3d"shareFbLogin" class\x3d"btnFacebookBig"\x3eLog In\x3c/a\x3e\x3c/div\x3e'},shareGame:function(a,c,b,e,d){ag.hideFlashObjects();e=document.location.hostname.substr(0,document.location.hostname.indexOf("."));ag.gameData.shareTitle=c;ag.gameData.shareDescription=
b;ag.gameData.shareImage="http://"+e+".addictinggames.com/newGames/"+ag.gameData.keyword+"/events/"+a+".png";ag.gameData.shareParams=ag.fb.getHttpParamsFromParams(d);ag.gameData.shareHref=$('meta[property\x3d"og:url"]').attr("content")+"?extcmp\x3dshareapi_"+ag.gameData.keyword;0<ag.gameData.shareParams.length&&(ag.gameData.shareHref=ag.gameData.shareHref+"\x26"+ag.gameData.shareParams);btg.Controller.sendLinkEvent({linkName:"fb_share",linkType:"o",lnk:!0,events:"event23",prop12:"shareapi_fbc_"+ag.gameData.keyword+
"_"+a});FB.getLoginStatus(function(a){a.authResponse?ag.fb.displayShareDialog():ag.fb.displayFBLoginDialog()})},displayShareDialog:function(){FB.ui({method:"stream.publish",display:"iframe",caption:"",name:ag.gameData.shareTitle,description:ag.gameData.shareDescription,picture:ag.gameData.shareImage,link:ag.gameData.shareHref,actions:{name:"Play Now",link:$('meta[property\x3d"og:url"]').attr("content")}},function(a){a&&a.post_id?(btg.Controller.sendLinkEvent({linkName:"fb_share_success",linkType:"o",
lnk:!0,events:"event24"}),ag.fb.notifySwf("success")):ag.fb.notifySwf("cancelled")})},displayFBLoginDialog:function(){var a={content:ag.fb.loginDialog.html,headerText:"Facebook Permissions"};ag.modal.cancelCallback=function(){ag.fb.notifySwf("cancelled")};ag.modal.setContent(a).show();btg.Controller.sendLinkEvent({linkName:"fb_share_siteModal",linkType:"o",lnk:!0,events:"event25"})},notifySwf:function(a){ag.showFlashObjects();ag.gameServices.getFlashObject().onShareGameEventCallback(a)},getHttpParamsFromParams:function(a){var c=
"";if("undefined"!==typeof a&&a&&0<a.length&&(a=a.split(",")))for(i=0;i<a.length;i++){var b=a[i].split(":");b&&"keyword"!=b[0]&&(0<c.length&&(c+="\x26"),c=c+jQuery.trim(b[0])+"\x3d"+jQuery.trim(b[1]))}return c}};ag.gameServices.notifySwf=function(a,c){ag.showFlashObjects();var b=ag.gameServices.getFlashObject();try{b[a](c)}catch(e){}};FacebookRegisterModule={};FacebookRegisterModule.facebookShareGame=ag.fb.shareGame;ag.widget={};ag.widget.user={};ag.widget.user.LoginPopup={};
ag.widget.user.LoginPopup.showPopup=function(){ag.modal.successCallback=function(){ag.gameServices.returnUserInfo("setUserInfoForServiceManager")};"undefined"!==typeof ag.isStickGame?ag.isStickGame?ag.stickGame.signin():ag.login.show():ag.login.show()};ag.widget.user.RegisterPopup={};ag.widget.user.RegisterPopup.showPopup=function(){ag.modal.successCallback=function(){ag.gameServices.returnUserInfo("setUserInfoForServiceManager")};ag.register.show()};GamePageHighScoreModule={refreshLeaderBoard:function(){ag.leaderboard.refresh()}};
$(document).ready(function(){$("#modalOverlay").on("click","#shareFbLogin",function(a){a.preventDefault();ag.modal.hide();FB.login(function(a){a.authResponse?(ag.fb.displayShareDialog(),btg.Controller.sendLinkEvent({linkName:"fb_share_loginSuccess",linkType:"o",lnk:!0,events:"event26"})):ag.fb.notifySwf("cancelled")})})});
ag.Username=function(){var a=this;this.close=function(a){"undefined"!==typeof a&&a.preventDefault();$(this.dialogElement).hide()};this.getUsername=function(){return $(this.usernameElement).val()};this.isAtLeastOneCharacter=function(){var a=ag.userName.getUsername();return 0<(a?a.length:0)?!0:!1};this.updateStatus=function(c){if("undefined"!==typeof c||this.isAtLeastOneCharacter()){var b="",b="undefined"===typeof c?this.getUsername():c;if(this.previousUsername!==b&&this.isAtLeastOneCharacter()||this.previousUsername!==
b&&"undefined"!==typeof c)this.previousUsername=b,c="/user/validate/username.jsp?username\x3d"+this.previousUsername,this.showSpinner(),$.getJSON(c,function(b){a.updateStatusCallback(b)});else return!1}else this.hideSuccess()};this.checkStatus=function(c){switch(this.status){case "ok":if(this.facebook)return $("#regSpinner").hide(),a.showSuccess(),a.getUsername()!==a.previousUsername&&$(this.usernameElement).val(a.previousUsername),$("#fbSuggestedUsernameDialog").hide(),!1;$("#regSpinner").hide();
a.showSuccess();$(".formError").each(function(){void 0!==$(this).attr("id")&&-1!==$(this).attr("id").indexOf("username")&&$(this).remove()});this.account&&ag.account.submitInlineForm("username",ag.account.checkResponse("username"));return!0;case "tooShort":this.facebook?this.showFbConnectErrors():a.isAtLeastOneCharacter()&&this.showErrors();break;case "duplicate":this.facebook?this.showFbConnectErrors():this.showErrors();break;case "invalid":this.facebook?this.showFbConnectErrors():this.showErrors();
break;default:this.hideSpinner()}};this.showErrors=function(){$("#regSpinner").hide();this.populateErrorDialog();this.showErrorDialog()};this.showFbConnectErrors=function(){$("#regSpinner").hide();this.populateErrorDialog();this.previousUsername.toLowerCase()===ag.userObject.facebookFirstName.toLowerCase()?$(this.dialogElement+" .message").text("Here are some available usernames to try:").removeClass("formError"):$(this.dialogElement+" .message").addClass("formError");$(this.dialogElement).show()};
this.updateStatusCallback=function(c){a.status=c.status;a.alternates=c.recommend;a.message=c.message;a.checkStatus()};this.populateErrorDialog=function(){var a="";if("undefined"!==typeof this.alternates)for(var b=this.alternates.split(","),e=0;e<b.length;e++)a+='\x3cli\x3e\x3cspan class\x3d"alternateName"\x3e'+b[e]+"\x3c/span\x3e\x3c/li\x3e";console.log(this.dialogElement);console.log(this.message);$(this.dialogElement+" .message").html(this.message);$(this.dialogElement+" .alternates").html(a);$(this.dialogElement).jqm({modal:!1,
overlay:0})};this.showErrorDialog=function(){this.showdown&&$.browser.msie&&"7.0"==$.browser.version&&($("#showdownSuggestedUsernameDialog").css("margin-top",35),$("#showdownSuggestedUsernameDialog").css("left",470));$(this.dialogElement).show()};this.showSpinner=function(){$(this.spinnerElement).css("display","inline");this.hideSuccess();this.hideFailure()};this.showSuccess=function(){this.account?$(this.checkMarkElement).css("display","inline"):$(this.checkMarkElement).css("display","inline-block");
$("#username.errors").remove();this.hideFailure()};this.showFailure=this.hideSuccess;this.hideSpinner=$(this.spinnerElement).hide;this.hideSuccess=$(this.checkMarkElement).hide;this.hideFailure=function(){$(this.failureElement).remove();ag.userName.close()};this.facebookInit=function(){this.facebook=!0;this.account=this.registerDialog=!1;this.previousUsername="";this.dialogElement="#fbSuggestedUsernameDialog";this.usernameElement="#facebookRegistrationFormBean \x3e div \x3e #username";this.spinnerElement=
"#facebookRegistrationFormBean \x3e div \x3e #regSpinner";this.checkMarkElement="#facebookRegistrationFormBean \x3e div \x3e .regCheckMark";this.failureElement="#facebookRegistrationFormBean \x3e div \x3e #usernameFailure";$(this.dialogElement+" .message").html("Here are some available usernames to try:")};this.registerDialogInit=function(){this.facebook=!1;this.registerDialog=!0;this.account=!1;this.dialogElement="#suggestedUsernameDialog";this.usernameElement="#registrationFormBean \x3e #username";
this.spinnerElement="#regSpinner";this.checkMarkElement="#regCheckMark";this.failureElement="#usernameFailure"};this.accountInit=function(){this.facebook=!1;this.account=this.registerDialog=!0;this.dialogElement="#accountSuggestedUsernameDialog";this.usernameElement="#loggedInNameRow a";this.spinnerElement="#accountSpinner";this.checkMarkElement="#accountCheckMark";this.failureElement="#usernameFailure"};this.setMode=function(a){switch(a){case "registerDialog":this.registerDialogInit();break;case "facebook":this.facebookInit();
break;case "accountPage":this.accountInit()}}};ag.userName=new ag.Username;$(document).ready(function(){$("#modalOverlay").on("click","#suggestedUsernameDialogDismiss",function(a){ag.userName.close(a);ag.userName.hideSuccess();$("#regSpinner").hide()});$("#modalOverlay").on("click","span.alternateName",function(a){$(ag.userName.usernameElement).val($(this).html());ag.userName.status="ok";ag.userName.close(a);ag.userName.showSuccess()})});
ag.modal={successCallback:null,cancelCallback:null,success:function(){null!==this.successCallback&&this.successCallback();this.successCallback=null},cancel:function(){null!==this.cancelCallback&&this.cancelCallback();this.cancelCallback=null},show:function(){ag.hideFlashObjects();$("#modalOverlayFogger").show();$("#modalOverlay").css({display:"inline-block"})},hide:function(a){"undefined"!==typeof a&&a.preventDefault();ag.modal.successCallback=null;ag.modal.cancelCallback=null;$("#modalOverlayFogger").hide();
$("#modalOverlay").hide();ag.showFlashObjects();return!1},setContent:function(a){for(var c in a)switch(c){case "alternateAction":$("#alternateAction").html(a.alternateAction);break;case "content":$("#modalContent").html(a.content);break;case "headerText":$("#modalTitle").text(a.headerText);break;case "width":$("#modalContent").css({width:a.width})}"undefined"===typeof a.alternateAction&&$("#alternateAction").html("");return this},init:function(){$.support.opacity||$("#modalOverlayFogger").attr("style",
"filter:alpha(opacity\x3d70);zoom:1;")}};ag.modal.init();ag.getFormErrors=function(){var a="";$(".formError").each(function(){var c=$(this).attr("id");"undefined"!==typeof c&&(a=a+c.substring(0,c.indexOf("."))+":")});return a.substring(0,a.length-1)};$(document).ready(function(){$("#modalCloseButton").on("click",function(){"function"===typeof ag.modal.cancelCallback&&ag.modal.cancelCallback();ag.modal.hide()})});var ag=ag||{};ag.userObject=ag.userObject||{};ag.logout={url:"/user/logout.jsp"};
ag.logout.redirectToHome=function(){void 0!==ag.profile&&(window.location="/index.jsp")};ag.logout.updatePage=function(){var a;if("undefined"!==typeof ag.gameData&&ag.gameData.isServiceManagerEnabled){a=ag.gameServices.getFlashObject();try{a.notifyServiceManager("LOGOUT")}catch(c){}}ag.loggedIn=!1;DFY.event.publish("logout.success")};
ag.logout.logout=function(a){ag.userObject.facebookId?FB.getLoginStatus(function(c){c.authResponse?FB.logout(function(){ag.logout.serverLogout(a)}):ag.logout.serverLogout(a)}):this.serverLogout(a)};ag.logout.stickLogout=function(){(ag.isStickPage||ag.isStickGame)&&ag.updateBannerLoginState()};
ag.logout.serverLogout=function(a){$.getJSON(ag.logout.url,function(c){"ok"===c.status?"function"===typeof a?$("#loginContainer").load("/user/forward/infoContainer.jsp",function(){ag.logout.updatePage();ag.logout.stickLogout();a()}):($("#loginContainer").load("/user/forward/infoContainer.jsp",ag.logout.updatePage),ag.logout.stickLogout()):(c={content:"\x3cp\x3eThere was an error with your request.\x3c/p\x3e",headerText:"Error"},ag.modal.setContent(c))})};
ag.login={url:"/user/login.jsp",hide:ag.modal.hide,passwordValidation:!1,show:function(){if(ag.loggedIn&&!0!==ag.login.passwordValidation)return!1;$.get(ag.login.url,function(a){var c="";!0!==ag.login.passwordValidation&&(dataLayer.push({eCategory:"login",eAction:"login attempt",eLabel:"auto logged in user - no password validation",event:"trackEvent"}),c='Don\'t have an account? \x3ca href\x3d"#" id\x3d"loginRegisterLink"\x3eJoin now - It\'s FREE!\x3c/a\x3e');ag.modal.setContent({content:a,headerText:"Log In to Addicting Games",
alternateAction:c}).show();ag.forgotPasswordDialog.init();ag.modal.cancelCallback=function(){DFY.event.publish("login.cancel")}})}};ag.login.submit=function(){ag.rememberMe=$("#rememberMe1").prop("checked");$.ajax({url:ag.login.url,data:$("#loginDialogForm").formSerialize(),type:"POST",dataType:"html",success:function(a){$("#modalContent").html(a)}});return!1};ag.login.failure=function(){dataLayer.push({eCategory:"login",eAction:"login attempt",eLabel:"login failure",event:"trackEvent"})};
ag.login.success=function(a){a=a?a:"";if(!0===ag.login.passwordValidation)return window.location.reload(!0),!1;dataLayer.push({eCategory:"login",eAction:"login attempt",eLabel:"login success",event:"trackEvent"});ag.loggedIn=!0;$("#modalOverlayFogger").hide();$("#modalOverlay").hide();ag.refreshInfoAndUpdateServiceManager();DFY.event.publish("login.success",a)};
ag.login.whyRequired={show:function(){$("#whyRequiredDialog").jqmShow()},hide:function(){$("#whyRequiredDialog").jqmHide()},init:function(){$("#whyRequiredDialog").jqm({modal:!1,overlay:0});$("#whyRequired").hoverIntent(ag.login.whyRequired.show,ag.login.whyRequired.hide)}};
$(document).ready(function(){var a=$("#modalOverlay"),c=$("#navTop");a.on("click","#registerToLoginLink",function(a){a.preventDefault();ag.login.show()});a.on("click","#loginSubmit",ag.login.submit);if("undefined"!==typeof ag.isStickPage)if(ag.isStickHub)c.on("click","#uimLoginLink",ag.stickHub.login);else if(ag.isStickGame)c.on("click","#uimLoginLink",ag.stickGame.login);else c.on("click","#uimLoginLink",ag.login.show);else c.on("click","#uimLoginLink",ag.login.show);c.on("click","#uimLogoutLink",
function(){ag.logout.logout(ag.logout.redirectToHome)});a.on("keydown","#loginDialogForm input",function(a){13===a.which&&ag.login.submit()})});DFY.event.subscribe("login.request",ag.login.show);ag.register={url:"/user/register.jsp"};
ag.register.show=function(){dataLayer.push({eCategory:"Registration",eAction:"Register-Attempt",eLabel:"",event:"trackEvent"});ag.userName.setMode("registerDialog");$.get(ag.register.url,function(a){ag.modal.setContent({content:a,headerText:"Create an AddictingGames Account",alternateAction:'Already a member? \x3ca href\x3d"#" id\x3d"registerToLoginLink"\x3eLog in here\x3c/a\x3e'}).show()})};
ag.register.submit=function(a){a.preventDefault();$.ajax({url:ag.register.url,data:$("#registrationFormBean").formSerialize(),type:"POST",dataType:"html",success:function(a){$("#registerDialog").replaceWith(a);ag.userName.checkStatus()}})};ag.register.success=function(a){dataLayer.push({eCategory:"Register",eAction:"Register-Success",eLabel:"",event:"trackEvent"});DFY.event.publish("login.success",a);ag.refreshInfoAndUpdateServiceManager(!0)};
ag.register.failure=function(){dataLayer.push({eCategory:"Register",eAction:"Register-Failure",eLabel:"",event:"trackEvent"})};$(document).ready(function(){var a=$("#modalOverlay");a.on("click","#loginRegisterLink",function(a){a.preventDefault();ag.register.show()});a.on("click","#registerSubmit",ag.register.submit);a.on("blur","#username",function(){ag.userName.updateStatus(ag.userName.getUsername())});a.on("click","#closeRegConfirmButton",ag.modal.hide);a.on("click","#ineligibleContinueLink",ag.modal.hide)});
ag.forgotPasswordDialog={mode:"dialog",dialogElement:"#forgotPasswordDialog",inputElement:"#forgotPasswordInput",errorElement:"#forgotPasswordError",submitElement:"#forgotPasswordSubmit",context:this,hide:function(a){var c=ag.forgotPasswordDialog;a.preventDefault();$(c.dialogElement).hide();$(c.inputElement).val("");$(c.errorElement).hide();$(c.dialogElement+" .inputForm").show();$(c.submitElement).show();$(c.dialogElement+" .successMessage").hide()},show:function(a){var c=ag.forgotPasswordDialog;
a.preventDefault();c.adjustDialogPosition();$(c.dialogElement).show()},init:function(){$(this.submitElement).off().on("click",function(a){a.preventDefault();$.ajax({url:"/user/forgot-password.jsp",data:"usernameOrEmail\x3d"+$(ag.forgotPasswordDialog.inputElement).val(),success:ag.forgotPasswordDialog.responseCallback})})},adjustDialogPosition:function(){"dialog"===this.mode&&($($("#loginDialogForm").children()[2]).hasClass("formError")?$(this.dialogElement).css({top:90,left:280}):$(this.dialogElement).css({top:61,
left:280}))},responseCallback:function(a){a=$.parseJSON(a);var c=ag.forgotPasswordDialog,b=$(c.inputElement).val();switch(a.status){case "ok":$(c.errorElement).hide();$("#loginDialogForm \x3e #usernameOrEmail").val(b);$(c.dialogElement+" .inputForm").hide();$(c.dialogElement+" .successMessage").show();break;case "u13":$(c.errorElement).html('Please contact Customer Service at \x3ca href\x3d"mailto:yourfriends@addictinggames.com"\x3eyourfriends@addictinggames.com\x3c/a\x3e with your Username in order to retrieve your password.');
$(c.submitElement).hide();$(c.errorElement).css("display","inline-block");break;default:$(c.errorElement).text(a.message),$(c.errorElement).css("display","inline-block")}},setMode:function(a){this.mode=a;switch(a){default:this.dialogInit()}this.init()},dialogInit:function(){this.dialogElement="#forgotPasswordDialog";this.errorElement="#forgotPasswordError";this.inputElement="#forgotPasswordInput";this.submitElement="#forgotPasswordSubmit"}};
$(document).ready(function(){$("#modalContent").on("click","#loginForgotPassword",ag.forgotPasswordDialog.show);$("#modalContent").on("click","#forgotPasswordDialogDismiss",ag.forgotPasswordDialog.hide);$("#modalContent").on("click","a.forgotPasswordSuccessDismiss",ag.forgotPasswordDialog.hide)});ag.fbConnect={};ag.fbConnect.getFirstName=function(){FB.api("/me",function(a){ag.userObject.facebookFirstName=a.first_name})};
ag.fbConnect.processLogin=function(a){var c="";-1===a.indexOf("ag.fbConnect.registerSuccess")?(c={omniture:{events:"event10, event28",linkName:"fbc_regoverlay",prop26:btg.Omniture.eVar14+":facebook-connect"}},ag.modal.setContent({content:a,headerText:"Facebook Connect"}).show(),""!==ag.userObject.facebookFirstName?ag.userName.updateStatus(ag.userObject.facebookFirstName.toLowerCase()):setTimeout(function(){ag.userName.updateStatus(ag.userObject.facebookFirstName.toLowerCase())},500),ag.track(c)):
(c=/'(.*?)'/.exec(a),ag.fbConnect.loginSuccess(c[1]));$("#tmpFBOverlay").remove()};
ag.fbConnect.login=function(){btg.Omniture.eVar14="login-with-facebook";ag.track({omniture:{eVar14:"login-with-facebook",linkName:"login_fbook_attempt",prop26:btg.Omniture.eVar14}});ag.fbConnect.getFirstName();ag.userName.setMode("facebook");FB.login(function(a){"connected"===a.status||a.authResponse?(DFY.event.publish("facebook.connect.connected",a),FB.api("/me",function(a){$.ajax({url:"/user/facebook/connect.jsp?fbId\x3d"+a.id+"\x26accessToken\x3d"+ag.userObject.accessToken,dataType:"html",success:ag.fbConnect.processLogin})})):
"not_authorized"===a.status?DFY.event.publish("facebook.connect.not_authorized",a):DFY.event.publish("facebook.connect.not_connected",a)},{scope:"email"})};ag.fbConnect.register=function(a){a.preventDefault();ag.linkAccountForm=!1;$.ajax({url:"/user/facebook/create-login.jsp",data:$("#facebookRegistrationFormBean").formSerialize(),type:"POST",dataType:"html",success:function(a){$("#fbCreateLinkDialog").replaceWith(a)}})};
ag.fbConnect.registerSuccess=function(a){ag.modal.hide();ag.refreshInfoAndUpdateServiceManager();DFY.event.publish("login.success",a)};ag.fbConnect.registerFailure=function(){ag.userName.checkStatus()};ag.fbConnect.loginSuccess=function(a){btg.Omniture.prop2="loggedInFacebook";ag.track({omniture:{eVar9:btg.Omniture.prop2,events:"event13",linkName:"fbc_login_success"}});ag.refreshInfoAndUpdateServiceManager();DFY.event.publish("login.success",a)};
$(document).ready(function(){$("#modalOverlay").on("click","#loginFacebookButton,#registerFacebookButton",function(a){a.preventDefault();ag.modal.hide();ag.fbConnect.login()});$("#modalOverlay").on("click","#relaunchRegister",function(a){a.preventDefault();ag.register.show()});$("#modalOverlay").on("click","#fbLinkLoginQuestion a",function(a){a.preventDefault();$("#fbLinkLoginQuestion, #linkAgLogin").toggle()});$("#modalOverlay").on("click","#fbLinkForgotPassword",function(a){a.preventDefault();$("#fbLoginDialogForm #forgotPassword").val("true");
$("#fbLinkExistingSubmit").trigger("click")});$("#modalOverlay").on("click","#fbLinkExistingSubmit",function(a){a.preventDefault();ag.linkAccountForm=!0;$.ajax({url:"/user/facebook/link-login-manual.jsp",data:$("#fbLoginDialogForm").formSerialize(),type:"POST",dataType:"html",success:function(a){$("#fbCreateLinkDialog").replaceWith(a);$("#fbLinkLoginQuestion, #linkAgLogin").toggle()}})});$("#modalOverlay").on("click","#linkExistingAcctSubmit",function(a){a.preventDefault();$.ajax({url:"/user/facebook/link-login-auto.jsp",
data:$("#linkExistingAcctForm").formSerialize(),type:"GET",dataType:"html",success:function(a){$("#confirmFBLinkExistingAcctDialog").replaceWith(a)}})});$("#modalOverlay").on("click","#rejectLinkExistingAcct",function(a){a.preventDefault();$("#confirmFBLinkExistingAcctDialog").load("/user/facebook/cancel-link-auto.jsp")});$("#modalOverlay").on("click","#gotoSettingsPage a",function(a){a.preventDefault();ag.modal.hide();window.location="/static/php/account/privacyPage.php"});$("#modalOverlay").on("click",
"#letMePlay",ag.modal.hide);$("#modalOverlay").on("click","#connectWFriends",ag.modal.hide);$("#navTop").on("click","#facebookConnectLink",ag.fbConnect.login);$("#modalContent").on("click","#fbRegisterSubmit",ag.fbConnect.register);$("#modalOverlay").on("click","#relaunchFacebook",function(a){a.preventDefault();ag.modal.hide();ag.ag.fbConnect.login()})});
ag.showPartialNickBumper=function(){function a(){"_hp"===btg.config.DoubleClick.sections?$("#potw").before('\x3ca href\x3d"/help/content-ratings.jsp" id\x3d"warningLinkFromNick"\x3e\x3c/a\x3e'):-1!==btg.config.DoubleClick.sections.indexOf("_mn")&&$("#potw").before('\x3ca href\x3d"/help/content-ratings.jsp" id\x3d"categoryWarningLink"\x3e\x3c/a\x3e')}""!=document.referrer&&-1!==document.referrer.indexOf(".nick.com")?-1==document.referrer.indexOf("bumperFrameset")&&($("#mamabar").before('\x3cdiv id\x3d"nickBumper"\x3e\x3cimg src\x3d"/a/img/bumper_generic_new_d2.jpg" style\x3d"margin: 0 auto 0 auto;" width\x3d"900" height\x3d"179" /\x3e\x3c/div\x3e'),
a(),btg.Cookie.set("fromNick",!0,{path:"/",domain:".addictinggames.com"}),setTimeout(function(){$("#nickBumper").animate({height:0},function(){$("#nickBumper").remove()})},5E3)):null!==btg.Cookie.read("fromNick")&&a()};$(document).ready(ag.showPartialNickBumper);
ag.siteSearch={searchService:"/search/typeahead.jsp?format\x3djson",searchOptions:{autoSuggest:!0,minChars:1,width:380,autoFill:!1,scrollHeight:164,scroll:!0,max:10,selectFirst:!1,cacheLength:0,matchCase:0,matchSubset:1,matchContains:0,mustMatch:0,lineSeparator:"\n",cellSeparator:"|",delay:400,extraParams:{siteName:"solr_addictinggames",core:"games"}},startAutoCompleting:function(a){this.searchOptions.autoSuggest&&$(a).autocomplete(this.searchService,this.searchOptions)},stopAutoCompleting:function(){this.searchOptions.autoSuggest&&
$(this.searchField).unautocomplete()},submitSearch:function(){btg.Search.setTypeAheadConversion();var a=encodeURIComponent($("#nsmInput").val());window.location="/search/games.jsp?gameKeyword\x3d"+a}};
$(document).ready(function(){ag.siteSearch.searchOptions.autoSuggest&&ag.siteSearch.startAutoCompleting("#nsmInput");$("#nsmInput").result(function(a,c){location.href=c});ag.siteSearch.startAutoCompleting("#sgm_search_input");$("#sgm_search_input").result(function(a,c){location.href=c});$("#nsmSubmitLink").click(function(){"Search AddictingGames..."!==$("#nsmInput").val()?ag.siteSearch.submitSearch():$("#nsmInput").val("").focus()});$("#nsmInput").one("click",function(){$("#nsmInput").val("").css({color:"#000"})});
$("#nsmInput").bind("keydown",function(a){13===a.which&&"Search AddictingGames..."!==$("#nsmInput").val()&&ag.siteSearch.submitSearch()});$("#nsmSelect").change(function(){"people"!==$("#nsmSelect").val()&&ag.siteSearch.searchOptions.autoSuggest?ag.siteSearch.startAutoCompleting("#nsmInput"):ag.siteSearch.stopAutoCompleting()})});
$(document).ready(function(){1==ag.reskinIsActive?(ag.delegateReskin(),ag.attachReskinScrollLimit()):"none"===$("#reskinWrapper").css("background-image")&&($("#reskinWrapper").css("background-image","url(/a/img/ag_bg.jpg)"),ag.attachReskinScrollLimit())});var reskinEl=null,reskinTop=0,gutLeft=document.getElementById("gutLinkLft"),gutRight=document.getElementById("gutLinkRit");
function pinReskin(){window.scrollY>reskinTop?(reskinEl.style.backgroundAttachment="fixed",pinGutters("fixed",0)):document.body.parentNode.scrollTop>reskinTop?(reskinEl.style.backgroundAttachment="fixed",pinGutters("fixed",0)):"fixed"===reskinEl.style.backgroundAttachment&&(reskinEl.style.backgroundAttachment="scroll",pinGutters("absolute","auto"))}function pinGutters(a,c){null!==gutLeft&&(gutLeft.style.position=a,gutRight.style.position=a,gutLeft.style.top=c,gutRight.style.top=c)}
ag.attachReskinScrollLimit=function(){reskinEl=document.getElementById("reskinWrapper");reskinTop=reskinEl.offsetTop-2;$(window).scroll(pinReskin)};reskinSetBackgroundImgAndColor=function(a,c){$("#banner").css("background","transparent");$("#bannerWrapper").css("padding-top","5px");$("#headerWrapper").css("border-bottom","solid 1px #000");$("#reskinWrapper").css({"background-image":"url("+a+")","background-color":c,"background-repeat":"no-repeat"})};
reskinBackground=function(a,c){$("#reskinWrapper").css({"background-image":"url("+a+")","background-color":c,"background-repeat":"no-repeat"});$("#banner").css("background-image","url(null)")};
reskinSetBackgroundLinks=function(a,c){var b=$("#agContentWrapper").width(),e="";0==a.indexOf("http://")&&(e=' target\x3d"_blank"');$("#reskinWrapper").prepend('\x3ca href\x3d"'+a+'" '+e+' class\x3d"gutLinks clearLink" id\x3d"gutLinkLft"\x3e\x26nbsp;\x3c/a\x3e\x3ca href\x3d"'+a+'" target\x3d"_blank" class\x3d"gutLinks clearLink" id\x3d"gutLinkRit"\x3e\x26nbsp;\x3c/a\x3e');resizeGutterLinks=function(a){a=($(window).width()-a)/2;$(".gutLinks").width(a);$(".gutLinks").css("padding-top",c)};$(window).resize(function(){resizeGutterLinks(b)});
resizeGutterLinks(b)};reskinBackground_ready=function(a,c){reskinSetBackgroundImgAndColor(a,c)};reskinBackgroundClickable_ready=function(a,c,b,e){reskinSetBackgroundImgAndColor(a,c);reskinSetBackgroundLinks(b,e)};
reskinBackgroundSelectable_ready=function(a,c,b,e,d){$("#banner").css("height",150);$("#bannerWrapper").css("background","transparent");var h=a.length;if("undefined"===typeof document.body.style.maxHeight)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(f){}selectableSkinLinkOnClick=function(b){reskinBackground_ready(a[b],c[b]);reskinSelectSprite("#selectableSkinLink-"+b);reskinDynamicTracking(e[b],d[b])};reskinSelectSprite=function(a){$("#reskinContent li a.selected").removeClass("selected");
$(a).addClass("selected")};var g=function(){this.__strings__=[]};g.prototype.append=function(a){this.__strings__.push(a)};g.prototype.toString=function(){return this.__strings__.join("")};g=new g;g.append("\x3cdiv id\x3d'reskinContent' class\x3d'reskinContent-"+h+"'\x3e");g.append("\x3ca href\x3d'"+e[0]+"' id\x3d'reskinSponsorLink' target\x3d'_blank' class\x3d'clearLink'\x3e\x26nbsp;\x3c/a\x3e");g.append("\x3cul\x3e");for(i=0;i<h;i++)g.append('\x3cli\x3e\x3ca href\x3d"#" onclick\x3d"selectableSkinLinkOnClick('+
i+'); return false;" id\x3d"selectableSkinLink-'+i+'" class\x3d"clearLink"\x3eselect skin '+i+"\x3c/a\x3e\x3c/li\x3e");g.append("\x3c/ul\x3e");$("#banner").append(g.toString());$("#reskinContent ul li a").css("background-image","url("+b+")");reskinBackground_ready(a[0],c[0]);reskinSelectSprite("#selectableSkinLink-0")};
reskinDynamicTracking=function(a,c){$("#reskinSponsorLink").attr("href",a);try{"undefined"==typeof $("#selectableTracker").attr("src")?$("#reskinContent").append('\x3cimg id\x3d"selectableTracker" src\x3d"'+c+'" style\x3d"display:none;" /\x3e'):$("#selectableTracker").attr("src",c)}catch(b){}};
$(document).ready(function(){$("#mamabarMoreLi").on("mouseover",function(){$("#mamabarMoreLi").toggleClass("mamabarMoreLiOver");$("#mamabarMoreSpan").toggleClass("mamabarMoreSpanOver");$("#mamabarMoreMenu").show()});$("#mamabarMoreLi").on("mouseout",function(){$("#mamabarMoreLi").toggleClass("mamabarMoreLiOver");$("#mamabarMoreSpan").toggleClass("mamabarMoreSpanOver");$("#mamabarMoreMenu").hide()})});
function brandMamabarMoreOver(a){a.className="brand-mamabar-more-link brand-mamabar-more-link-hover"}function brandMamabarMoreOut(a){a.className="brand-mamabar-more-link"}ag.redirectToPageAfterLogin=function(a){return function(){ag.loggedIn?window.location=a:(ag.login.successCallback=function(){window.location=a},ag.login.show())}};ag.launchRegister=function(){ag.loggedIn||ag.register.show()};
ag.PageEvents={emailPrefs:ag.redirectToPageAfterLogin("/user/view-email-prefs.jsp"),notifications:ag.redirectToPageAfterLogin("/user/notifications.jsp"),register:ag.launchRegister,startPhotoUpload:function(){setTimeout(ag.photo.showDialog,500)}};ag.checkForPageEvent=function(){if(""!==window.location.search){var a=btg.String.queryStringToObject(window.location.search);if(void 0!==a.pageEvent&&void 0!==ag.PageEvents[a.pageEvent])ag.PageEvents[a.pageEvent]()}};$(document).ready(ag.checkForPageEvent);
$(document).ready(function(){ag.attachHeaderMoreEvents();ag.attachHeaderTracking();ag.relocateShowFooterText();ag.attachFooterTracking()});
ag.attachHeaderMoreEvents=function(){$("#headerMore").on("click",function(){ag.track({category:"mainNav",action:"moreArrow"});200!==$("#headerMoreFilters").height()?($("#headerMoreFilters").animate({height:200}),$("#headerMoreText").text("Close"),$("#headerMoreArrow").addClass("headerMoreArrowUp")):($("#headerMoreFilters").animate({height:0}),$("#headerMoreText").text("More"),$("#headerMoreArrow").removeClass("headerMoreArrowUp"));return!1})};
ag.trackTabLink=function(){return function(a){a.preventDefault();var c=a.target.title,b=a.target.href;""===c&&(c=a.target.parentNode.title,b=a.target.parentNode.href);ag.track({category:"mainNav",action:"tab",label:c});setTimeout(function(){window.location=b},100);return!1}};ag.trackBlogLink=function(a){a.preventDefault();var c=a.target.href;ag.track({category:"mainNav",action:"social",label:"blog"});setTimeout(function(){window.location=c},100);return!1};
ag.trackNavLink=function(a){a.preventDefault();var c="topNav_tag_"+a.target.id.substring(4);ag.setFindingMethod(a,ag.writeFindingCookie("prop14",c,ag.persistMetrics.push));return!1};
ag.attachHeaderTracking=function(){$("#categoryNav a.categoryPage").each(function(){var a=$(this).attr("id").substring(4);$(this).bind("click",function(c){ag.setFindingMethod(c,ag.writeFindingCookie("prop14","topNav_"+a,ag.persistMetrics.push));return!1})});$("#navTabs").on("click","a.ga-nav",ag.trackTabLink());$("#headerMoreFilters").on("click","a.navTagLink",ag.trackNavLink);$("#socialIconsContainer").on("click","li.socialBlog",ag.trackBlogLink)};ag.relocateShowFooterText=function(){$("#footerCopy").insertAfter("#footerCategoryNav").show()};
ag.attachFooterTracking=function(){$("#footerCategoryNav .categoryPage").each(function(){var a=$(this).attr("id").substring(5);$(this).bind("click",function(c){ag.setFindingMethod(c,ag.writeFindingCookie("prop14","footerNav_"+a,ag.persistMetrics.push));return!1})})};$(document).ready(function(){ag.attachOverlayEvents()});
ag.attachOverlayEvents=function(){$(".gameIcon").on("mouseover",function(){$(this).hasClass("noHover")||$(this).data("init")||($(this).data("init",!0),$(this).hoverIntent({over:function(a){var c=ag.getGameKeyword(a.target);a=new ag.GameDescOverlay(a.target);0<$("#gameOverlay"+c).length?(a.setOverlayDom($("#gameOverlay"+c)),a.positionOverlay(),$("#gameOverlay"+c).show()):a.createOverlay()},out:function(a){$("#gameOverlay"+ag.getGameKeyword($(a.target))).hide()},timeout:100,interval:500}),$(this).trigger("mouseover"))})};
ag.GameDescOverlay=function(a){this.overlayDom={};this.rootGameObj=a;this.gameKeyword=ag.getGameKeyword(this.rootGameObj);this.setOverlayDom=function(a){this.overlayDom=a};this.createOverlay=function(){var a=this;$.getJSON("/game/json/"+this.gameKeyword+".jsp",function(b){a.overlayDom=$('\x3cdiv class\x3d"gameDescOverlay" id\x3d"gameOverlay'+a.gameKeyword+'"\x3e\x3c/div\x3e');var e=$('\x3cdiv class\x3d"overlayContent"\x3e\x3c/div\x3e');a.overlayDom.append(e);e.append($('\x3ch3 class\x3d"gameTitle"\x3e'+
b.title+"\x3c/h3\x3e"));e.append($("\x3cp\x3eLaunch Date: "+b.addDate+"\x3c/p\x3e"));e.append($("\x3ch3\x3eDescription:\x3c/h3\x3e\x3cp\x3e"+b.description+"\x3c/p\x3e"));e.append($("\x3ch3\x3eGame Category:\x3c/h3\x3e\x3cp\x3e"+b.category+"\x3c/p\x3e"));var d="";b.isMature&&(d='\x3cspan class\x3d"bombSmall hideTxt"\x3eMature Content\x3c/span\x3e');e.append($('\x3ch3 class\x3d"maturityInfoTitle"\x3eRating:\x3c/h3\x3e\x3cspan class\x3d"maturityInfo"\x3e'+b.maturityText+"\x3c/span\x3e "+d+"\x3c/p\x3e"));
if(0<b.tags.length){e.append($("\x3ch3\x3eTags:\x3c/h3\x3e"));var h="";$.each(b.tags,function(){h+=this.name+", "});h=h.substring(0,h.length-2);e.append($('\x3cp class\x3d"gameTags"\x3e'+h+"\x3c/p\x3e"))}$("#fragmentRoot").append($(a.overlayDom));a.positionOverlay();a.overlayDom.show()})};this.positionOverlay=function(){var a=window.pageYOffset||document.documentElement.scrollTop,b=window.innerHeight||document.documentElement.clientHeight,e=$(this.rootGameObj).offset();$(this.overlayDom).css("left",
e.left-125+.5*$(this.rootGameObj).width());$(this.rootGameObj).offset().top+345+$(this.rootGameObj).height()>a+b?($(this.overlayDom).removeClass("gameDescOverlayBelow").addClass("gameDescOverlayAbove"),$(this.overlayDom).css("top",e.top-350)):($(this.overlayDom).removeClass("gameDescOverlayAbove").addClass("gameDescOverlayBelow"),$(this.overlayDom).css("top",e.top+$(this.rootGameObj).height()))}};
ag.getGameKeyword=function(a){a=$(a).attr("class").split(" ");for(var c,b=0;b<a.length;b++)"keyword-"==a[b].substr(0,8)&&(c=a[b].substr(8));return c};(function(){var a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src="https://apis.google.com/js/plusone.js";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(a,c)})();
window.fbAsyncInit=function(){FB.init({appId:ag.envConfig.facebookAppId,status:!0,cookie:!0,xfbml:!0,oauth:!0,apiKey:"LOL",version:"v2.7"});FB.Event.subscribe("auth.statusChange",function(a){a.authResponse&&(ag.userObject.accessToken=a.authResponse.accessToken,ag.fbConnect.getFirstName())});FB.Event.subscribe("edge.create",function(a){dataLayer.push({socialNetwork:"Facebook",socialAction:"Like",socialTarget:a,event:"socialInt"})});FB.Event.subscribe("edge.remove",function(a){dataLayer.push({socialNetwork:"Facebook",
socialAction:"Unlike",socialTarget:a,event:"socialInt"})})};(function(){var a=document.createElement("script");a.async=!0;a.src="https://connect.facebook.net/en_US/sdk.js";document.getElementById("fb-root").appendChild(a)})();(function(){var a=document.createElement("SCRIPT"),c=document.getElementsByTagName("script")[0];a.type="text/javascript";a.async=!0;a.src="http://platform.twitter.com/widgets.js";c.parentNode.insertBefore(a,c)})();$(document).ready(function(){ag.ipad.init()});
ag.ipad={modalUrl:"/a/spotlight/ipadGamesOverlay/ipadModal.html",styleSheetUrl:"/a/spotlight/ipadGamesOverlay/ipadModal.css",init:function(){ag.ipad.userAgentCheck()&&($("#gameContainer").length?ag.ipad.gameCanvasOverlay():ag.ipad.modalOverlay())},userAgentCheck:function(){return navigator.userAgent.match(/iPad/i)?!0:!1},cookieCheck:function(){return null!==btg.Cookie.read("ipadUser")?!0:!1},cookieSet:function(){btg.Cookie.set("ipadUser","true","","/",ag.envConfig.siteUrlBaseNoPort)},modalOverlay:function(){ag.ipad.cookieCheck()||
(ag.ipad.loadStyleSheet(),$.get(ag.ipad.modalUrl,function(a){a={content:a,headerText:"ADDICTING GAMES ON THE iPad",alternateAction:""};ag.modal.cancelCallback=function(){ag.ipad.cookieSet()};ag.modal.setContent(a).show()}))},loadStyleSheet:function(){$('\x3clink rel\x3d"stylesheet" type\x3d"text/css" href\x3d"'+ag.ipad.styleSheetUrl+'" \x3e').appendTo("head")},gameCanvasOverlay:function(){ag.ipad.loadStyleSheet();$.get(ag.ipad.modalUrl,function(a){$(".gameFrame2Col").empty().removeClass("gameFrame2Col").addClass("gameFrame1Col").css("width",
"");$(".gameRightCol").remove();$(".gameFrame1Col").empty().html(a);$("#ipadOverlay").addClass("gameOverlay")})}};var _DFY=window._DFY||{};_DFY.mods=window._DFY.mods||{};
_DFY.mods.carousel=function(){function a(){var a;k.next.addEventListener("click",f);k.previous.addEventListener("click",f);m.needsResize()&&(a=p.debounce(function(){q.publish("resize")},250),window.addEventListener("resize",a,!0));r.responsiveLiquid&&(q.subscribe("resize",u.updateDomForPagingChange),q.subscribe("initialized",u.updateDomForPagingChange),r.debug&&q.subscribe("resize",h))}function c(a){Object.keys(a).forEach(function(b){r[b]=a[b]})}function b(a){"string"===typeof a?k.itemsContainer.insertAdjacentHTML("beforeend",
a):p.append(a,k.itemsContainer);u.setItemsContainerWidth()}function e(){return Object.create(null,{visible:{value:r.visible,writable:!0},currentPage:{value:1,writable:!0},totalItems:{value:function(){return k.itemCollection.length}},totalPages:{value:function(){return Math.ceil(this.totalItems()/this.visible)}},itemWidth:{value:function(){return 0<k.itemCollection.length?k.itemCollection[0].offsetWidth:0}},isFirstAndOnlyPage:{value:function(){return 1===this.totalPages()}},isFirstPage:{value:function(){return 1===
this.currentPage}},isMiddlePage:{value:function(){return!this.isFirstPage()&&!this.isLastPage()}},isLastPage:{value:function(){return this.currentPage===this.totalPages()}},pageWidth:{value:function(){return this.itemWidth()*this.visible}},animationRunning:{value:!1,writable:!0},needsResize:{value:function(){return r.responsiveLiquid||r.responsiveScale}}})}function d(){return Object.create(null,{stopAnimation:{value:!1,writable:!0},_getPagePosition:{value:function(a){a=(a-1)*m.pageWidth();return{px:"-"+
a+"px",value:a}}},goToPageNumber:{value:function(a,b){var c;r.animate&&!1!==b?c=this._animateToPageNumber(a):(m.currentPage=a,this.setItemsContainerPXPosition(this._getPagePosition(a).px),c=void 0);return c}},_animateToPageNumber:{value:function(a){u.stopAnimation=!1;g(this._getPagePosition(m.currentPage).value,this._getPagePosition(a).value);m.currentPage=a}},setItemsContainerWidth:{value:function(){k.itemsContainer.style.width=m.totalItems()*m.itemWidth()+"px"}},setItemsContainerPXPosition:{value:function(a){k.itemsContainer.style.left=
"number"===typeof a?"-"+a+"px":a;q.publish("pageReady")}},getTargetPage:{value:function(a){var b;"next"===a&&(b=m.currentPage+1);"previous"===a&&(b=m.currentPage-1);"previous"===a&&m.isFirstPage()&&(b=m.totalPages());r.infinite&&m.isLastPage()&&(b=1);return b}},updateDomForPagingChange:{value:function(){var a,b;m.animationRunning&&(u.stopAnimation=!0);a=u._getPagePosition(m.currentPage).value/m.itemWidth();k.pane.style.width="auto";b=Math.floor(k.pane.clientWidth/m.itemWidth());a=Math.floor(a/b)+
1;m.visible=b;u.goToPageNumber(a,!1);k.pane.style.width=m.visible*m.itemWidth()+"px"}},requestDynamicContent:{value:function(a){function c(a){a.content?a=b(a.content):(e.remove(),f.remove(),a=void 0);return a}function d(){m.isLastPage()&&q.publish("contentRequest",{totalItems:m.totalItems(),visible:m.visible})}var e,f;a?(e=q.subscribe("pageReady",d),f=q.subscribe("incomingContent",c)):(e.remove(),f.remove())}},incrementByAdjustor:{value:function(){var a=.0035,b=m.pageWidth();400<b&&(a=.002);1100<
b&&(a=8E-4);return a}}})}function h(a){console.group(a);console.log("visible: "+m.visible);console.log("currentPage: "+m.currentPage);console.log("totalItems(): "+m.totalItems());console.log("totalPages(): "+m.totalPages());console.log("itemWidth(): "+m.itemWidth());console.log("pageWidth(): "+m.pageWidth());console.log("needsResize(): "+m.needsResize());console.groupEnd()}function f(a){r.animate&&(m.animationRunning=!0);a=y.dataset?a.currentTarget.dataset.action:a.currentTarget.getAttribute("data-action");
q.publish("beginPageNavigation",a);u.goToPageNumber(u.getTargetPage(a))}function g(a,b){function c(){if(u.stopAnimation)return m.animationRunning=!1;e+=f;a+=1/e;b>a?(k.itemsContainer.style.left="-"+Math.round(a)+"px",requestAnimationFrame(c)):(u.setItemsContainerPXPosition(b),m.animationRunning=!1)}function d(){if(u.stopAnimation)return m.animationRunning=!1;e+=f;a-=1/e;b<a?(k.itemsContainer.style.left="-"+Math.round(a)+"px",requestAnimationFrame(d)):(u.setItemsContainerPXPosition(b),m.animationRunning=
!1)}var e=.01,f;f=u.incrementByAdjustor();return"next"===(b>=a?"next":"previous")?c():d()}function l(){return Object.create(null,{changeButton:{value:function(a,b){"disabled"===b&&(k[a].disabled=!0);"enabled"===b&&(k[a].disabled=!1)}},disableButtons:{value:function(){s.changeButton("next","disabled");s.changeButton("previous","disabled")}},enableButtons:{value:function(){s.changeButton("next","enabled");s.changeButton("previous","enabled")}},firstAndOnlyPage:{value:function(){s.disableButtons()}},
firstPage:{value:function(){s.changeButton("next","enabled");s.changeButton("previous","disabled")}},middlePage:{value:function(){s.changeButton("next","enabled");s.changeButton("previous","enabled")}},lastPage:{value:function(){if(r.infinite&&!r.requestDynamicContent)return s.changeButton("next","enabled"),s.changeButton("previous","enabled"),!1;s.changeButton("next","disabled");s.changeButton("previous","enabled")}},determinePage:{value:function(){return m.isFirstAndOnlyPage()&&"firstAndOnlyPage"||
m.isFirstPage()&&"firstPage"||m.isLastPage()&&"lastPage"||m.isMiddlePage()&&"middlePage"}},managePagingChange:{value:function(){var a=s.determinePage();s[a]();p.removeClass(k.container,r.cssNamespace+"--firstPage");p.removeClass(k.container,r.cssNamespace+"--lastPage");p.removeClass(k.container,r.cssNamespace+"--middlePage");p.addClass(k.container,r.cssNamespace+"--"+a)}}})}function n(){function a(){s.changeButton("next","disabled");p.addClass(k.container,r.cssNamespace+"--waiting");c=q.subscribe("incomingContent",
b)}function b(){s.managePagingChange();p.removeClass(k.container,r.cssNamespace+"--waiting");c.remove()}var c;r.requestDynamicContent&&q.subscribe("contentRequest",a);q.subscribe("beginPageNavigation",s.disableButtons);q.subscribe("pageReady",s.managePagingChange);q.subscribe("resize",s.managePagingChange)}var k={},p={},m,u,y,s,q,r={visible:5,animate:!1,infinite:!1,selectorNext:".js-carouselControl-next",selectorPrevious:".js-carouselControl-previous",selectorItemsContainer:".js-carousel-items",selectorPane:".js-carousel-pane",
cssNamespace:"Carousel",customCssClass:!1,requestDynamicContent:!1,responsiveLiquid:!1,responsiveScale:!1,debug:!1},p={append:function(a,b){b.appendChild(a)},debounce:function(a,b,c){var d;return function(){var e=this,f=arguments,g;g=c&&!d;clearTimeout(d);d=setTimeout(function(){d=null;c||a.apply(e,f)},b);g&&a.apply(e,f)}},addClass:function(a,b){y.classList?a.classList.add(b):a.setAttribute("class",a.getAttribute("class")+" "+b)},removeClass:function(a,b){y.classList?a.classList.remove(b):a.setAttribute("class",
a.getAttribute("class").replace(b,""))}};q=function(){var a={},b=a.hasOwnProperty;return{subscribe:function(c,d){var e;b.call(a,c)||(a[c]=[]);e=a[c].push(d)-1;return{remove:function(){delete a[c][e]}}},publish:function(c,d){b.call(a,c)&&a[c].forEach(function(a){a(void 0!==d?d||{}:{})})}}}();return{init:function(f,g,x){k.container=f;y=Object.create(null,{dataset:{value:"dataset"in document.createElement("span")},classList:{value:"classList"in document.createElement("span")},requestAnimationFrame:{value:"function"===
typeof requestAnimationFrame}});c(g);k.next=k.container.querySelector(r.selectorNext);k.previous=k.container.querySelector(r.selectorPrevious);k.itemsContainer=k.container.querySelector(r.selectorItemsContainer);k.pane=k.container.querySelector(r.selectorPane);k.itemCollection=k.itemsContainer.children;m=e();s=l();u=d();a();n();y.requestAnimationFrame||(r.animate=!1);x?b(x):u.setItemsContainerWidth();r.customCssClass&&p.addClass(k.container,r.customCssClass);r.requestDynamicContent&&u.requestDynamicContent(!0);
r.debug&&h();q.publish("initialized")},events:q}};